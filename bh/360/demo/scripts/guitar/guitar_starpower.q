whammywibbles = [
	[
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
	]
	[
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
	]
	[
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
	]
	[
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
	]
]

script star_power_reset 
	setplayerinfo <player> star_power_amount = 0.0
	setplayerinfo <player> star_power_sequence = 0
	setplayerinfo <player> star_power_used = 0
endscript
star_power_ready_on_p1 = 0
star_power_ready_on_p2 = 0

script show_star_power_ready 
	if isps3
		printf \{channel = sfx
			qs(0x2c9e29c0)}
		if NOT ($current_song = jamsession)
			if issingleplayergame
				soundevent \{event = star_power_available_gh4}
			else
				spawnscriptnow star_power_ready_sfx_multiplayer params = {player = <player>}
			endif
		endif
	else
		printf \{channel = sfx
			qs(0x2d83f5f9)}
		if issingleplayergame
			printf \{channel = sfx
				qs(0xb4d93ca0)}
			soundevent \{event = star_power_available_gh4}
		else
			spawnscriptnow star_power_ready_sfx_multiplayer params = {player = <player>}
		endif
	endif
	if ($cheat_performancemode = 1)
		return
	endif
	gamemode_gettype
	if (<type> = practice)
		return
	endif
	if NOT screenelementexists \{id = hud_root}
		scriptassert \{'Hud Root not found'}
	endif
	getplayerinfo player = <player> star_power_used
	if (<star_power_used> = 0)
		getplayerinfo <player> part
		if (<part> != vocals)
			spawnscriptnow lil_sp_squirt params = {player = <player>}
		else
			spawnscriptnow lil_sp_squirt_vocals params = {player = <player>}
		endif
		return
		if playerinfoequals player = <player> part = vocals
			vocals_message_delayed {player = <player> text = qs(0x8ba36464) rgba = [128 240 240 255]}
		else
		endif
	endif
	return
endscript
showing_raise_axe = 0

script show_coop_raise_axe_for_starpower 
endscript

script do_starpower_stagefx 
	spawnscriptlater do_starpower_teslafx id = <scriptid> params = {<...>}
endscript

script do_starpower_teslafx 
	getplayerinfo <player> band_member out = obj_id
	if NOT compositeobjectexists name = <obj_id>
		return
	endif
	if <obj_id> :ishidden
		return
	endif
	getpakmancurrent \{map = zones}
	extendcrc <pak> '_GFX_TRG_TeslaNode_' out = zoneprefix
	getplayerinfo <player> part
	switch (<part>)
		case bass
		case guitar
		bone = bone_guitar_body
		case drum
		bone = bone_ik_hand_guitar_r
		case vocals
		bone = bone_mic_microphone
	endswitch
	formattext checksumname = teslaparticlefxid 'p%p_StarPower_TeslaParticleFX' p = <player>
	createparticlesystem name = <teslaparticlefxid> groupid = <teslaparticlefxid> objid = <obj_id> bone = <bone> params_script = $gp_starpower_teslalightning01
	i = 1
	begin
	switch (<part>)
		case bass
		case guitar
		if (RandomInteger (0.0, 1.0) = 0)
			bone = bone_guitar_fret_pos
		else
			bone = bone_guitar_body
		endif
		case drum
		b = RandomInteger (0.0, 4.0)
		switch <b>
			case 0
			bone = bone_guitar_string_1
			case 1
			bone = bone_ik_hand_guitar_l
			case 2
			bone = bone_ik_hand_guitar_r
			case 3
			bone = bone_guitar_fret_pos
			case 4
			bone = bone_guitar_body
		endswitch
		case vocals
		b = RandomInteger (0.0, 2.0)
		switch <b>
			case 0
			bone = bone_mic_stand
			case 1
			bone = bone_mic_adjust_height
			case 2
			bone = bone_mic_microphone
		endswitch
	endswitch
	formattext checksumname = scriptid 'p%p_StarPower_TeslaFX%i' p = <player> i = <i>
	formattext checksumname = teslafxid 'p%p_StarPower_TeslaFXID%i' p = <player> i = <i>
	spawnscriptlater create_starpower_teslafx id = <scriptid> params = {
		<...>
		zoneprefix = <zoneprefix>
		teslafxid = <teslafxid>
		bone = <bone>
		nodenum = RandomInteger (1.0, 10.0)
	}
	i = (<i> + 1)
	repeat RandomInteger (2.0, 4.0)
	begin
	wait RandomFloat (0.1, 1.0) seconds
	i = RandomInteger (1.0, 4.0)
	formattext checksumname = scriptid 'p%p_StarPower_TeslaFX%i' p = <player> i = <i>
	formattext checksumname = teslafxid 'p%p_StarPower_TeslaFXID%i' p = <player> i = <i>
	killspawnedscript id = <scriptid>
	deleteteslaeffectobject name = <teslafxid>
	if (<i> = 1 || <i> = 2 || RandomInteger (0.0, 1.0) = 1)
		switch (<part>)
			case bass
			case guitar
			if (RandomInteger (0.0, 1.0) = 0)
				bone = bone_guitar_fret_pos
			else
				bone = bone_guitar_body
			endif
			case drum
			b = RandomInteger (0.0, 4.0)
			switch <b>
				case 0
				bone = bone_guitar_string_1
				case 1
				bone = bone_ik_hand_guitar_l
				case 2
				bone = bone_ik_hand_guitar_r
				case 3
				bone = bone_guitar_fret_pos
				case 4
				bone = bone_guitar_body
			endswitch
			case vocals
			b = RandomInteger (0.0, 2.0)
			switch <b>
				case 0
				bone = bone_mic_stand
				case 1
				bone = bone_mic_adjust_height
				case 2
				bone = bone_mic_microphone
			endswitch
		endswitch
		spawnscriptlater create_starpower_teslafx id = <scriptid> params = {
			<...>
			zoneprefix = <zoneprefix>
			teslafxid = <teslafxid>
			bone = <bone>
			nodenum = RandomInteger (1.0, 10.0)
		}
	endif
	repeat
endscript

script create_starpower_teslafx 
	if (($use_star_power_prototype) = 1)
		return
	endif
	create_starpower_teslafx_cfunc_setup
	begin
	if create_starpower_teslafx_cfunc
		break
	endif
	wait \{1
		gameframe}
	repeat
	create_starpower_teslafx_cfunc_cleanup
endscript

script kill_starpower_stagefx \{ifempty = 1}
	formattext checksumname = scriptid 'p%p_StarPower_StageFX' p = <player>
	killspawnedscript id = <scriptid>
	formattext checksumname = teslaparticlefxid 'p%p_StarPower_TeslaParticleFX' p = <player>
	destroyparticlesbygroupid groupid = <teslaparticlefxid>
	if (<ifempty> = 0)
		destroyparticlesbygroupid \{groupid = starpowerfx}
	endif
	i = 1
	begin
	formattext checksumname = scriptid 'p%p_StarPower_TeslaFX%i' p = <player> i = <i>
	formattext checksumname = teslafxid 'p%p_StarPower_TeslaFXID%i' p = <player> i = <i>
	killspawnedscript id = <scriptid>
	deleteteslaeffectobject name = <teslafxid>
	i = (<i> + 1)
	repeat 4
endscript
using_starpower_camera = false

script do_starpower_camera 
	return
	if ($using_starpower_camera = true || $using_walk_camera = true)
		return
	endif
	change \{using_starpower_camera = true}
	wait \{1
		gameframe}
	change \{cameracuts_allownotescripts = false}
	cameracuts_setarrayprefix \{prefix = 'cameras_starpower'
		changetime = 2500
		length = 7000}
	wait \{7
		seconds}
	cameracuts_setarrayprefix \{prefix = 'cameras'}
	change \{cameracuts_allownotescripts = true}
	change \{using_starpower_camera = false}
endscript

script kill_starpower_camera \{changecamera = 1}
	if ($using_starpower_camera = false)
		return
	endif
	killspawnedscript \{name = do_starpower_camera}
	if (<changecamera> = 1)
		cameracuts_setarrayprefix \{prefix = 'cameras'}
	endif
	change \{cameracuts_allownotescripts = true}
	change \{using_starpower_camera = false}
endscript

script set_star_request_pending 
	printf \{qs(0x5e79940c)}
	wait \{2.5
		seconds}
	printf \{qs(0xd0d1a1fe)}
endscript
use_star_power_prototype = 1

script create_sp_proto_hud_elements 
	if screenelementexists \{id = id_sp_hud_proto}
		destroy_sp_proto_hud_elements
	endif
	player = 1
	base_pos = (512.0, 360.0)
	vocals_pos_high = (950.0, 181.0)
	vocals_pos_low = (950.0, 400.0)
	highway_pos_1hw = [(512.0, 320.0)]
	highway_pos_2hw = [(305.0, 365.0) (770.0, 365.0)]
	highway_pos_3hw = [(140.0, 385.0) (550.0, 385.0) (950.0, 385.0)]
	get_num_non_vocals_players_onscreen
	createscreenelement \{type = containerelement
		parent = root_window
		id = id_sp_hud_proto
		pos = (0.0, 0.0)
		z_priority = 800}
	getnumplayersingame
	if (<num_players> > 0)
		getfirstplayer
		begin
		getplayerinfo <player> part
		num_highways = <num_non_vocals_players>
		this_pos = (0.0, 0.0)
		if (<part> = vocals)
			if (<num_players> = 1)
				this_pos = <vocals_pos_low>
			else
				this_pos = <vocals_pos_high>
			endif
		else
			getplayerinfo <player> highway_position
			if (<num_highways> = 1)
				this_pos = (<highway_pos_1hw> [0])
			elseif (<num_highways> = 2)
				if (<highway_position> = left)
					this_pos = (<highway_pos_2hw> [0])
				else
					this_pos = (<highway_pos_2hw> [1])
				endif
			elseif (<num_highways> = 3)
				if (<highway_position> = left)
					this_pos = (<highway_pos_3hw> [0])
				elseif (<highway_position> = center)
					this_pos = (<highway_pos_3hw> [1])
				else
					this_pos = (<highway_pos_3hw> [2])
				endif
			endif
		endif
		formattext checksumname = player_sp_text_id 'p%p_sp_text_id' p = <player>
		formattext checksumname = player_sp_meter_id 'p%p_sp_meter_id' p = <player>
		createscreenelement {
			type = textelement
			parent = id_sp_hud_proto
			id = <player_sp_text_id>
			font = debug
			scale = 0.75
			rgba = [128 128 128 250]
			text = qs(0x6a9aaf9f)
			just = [right top]
			z_priority = 1
			pos = <this_pos>
		}
		createscreenelement {
			type = spriteelement
			parent = id_sp_hud_proto
			id = <player_sp_meter_id>
			texture = white
			dims = (65.0, 33.0)
			rgba = [15 15 128 255]
			just = [left top]
			z_priority = 0
			pos = (<this_pos> + (-60.0, 0.0))
		}
		getscreenelementprops id = <player_sp_meter_id>
		printstruct <...> channel = zdebug
		getnextplayer player = <player>
		repeat <num_players>
	endif
	wait \{1
		gameframe}
	spawnscriptlater \{update_sp_hud_elements}
endscript

script destroy_sp_proto_hud_elements 
	player = 1
	destroyscreenelement \{id = id_sp_hud_proto}
	killspawnedscript \{name = update_sp_hud_elements}
endscript

script update_sp_hud_elements 
	grey = [128 128 128 255]
	white = [255 255 255 255]
	blue = [69 160 229 255]
	begin
	color = <grey>
	getnumplayersingame
	if (<num_players> > 0)
		getfirstplayer
		begin
		formattext checksumname = player_sp_text_id 'p%p_sp_text_id' p = <player>
		formattext checksumname = player_sp_meter_id 'p%p_sp_meter_id' p = <player>
		getplayerinfo <player> star_power_amount
		scale = (((1.0, 0.0) * (<star_power_amount> / 100.0)) + (0.0, 1.0))
		color = <grey>
		if (<star_power_amount> < 50)
			color = <grey>
		elseif (<star_power_amount> < 100)
			color = <white>
		else
			color = <blue>
		endif
		if (<star_power_amount> < 10)
			formattext textname = sp_text qs(0x8d1785e9) d = <star_power_amount> decimalplaces = 1
		elseif (<star_power_amount> < 100)
			formattext textname = sp_text qs(0xdc3aa85e) d = <star_power_amount> decimalplaces = 1
		else
			formattext textname = sp_text qs(0x48c6d14c) d = <star_power_amount> decimalplaces = 1
		endif
		<player_sp_text_id> :se_setprops text = <sp_text> rgba = <color>
		getnextplayer player = <player>
		repeat <num_players>
	endif
	wait \{1
		gameframe}
	repeat
endscript

script create_highway_star_power_effect_old 
	pos_index = (<player> - 1)
	pos_table = ($highway_pos_table [<pos_index>])
	height = (<pos_table>.highway_height)
	getnumplayersingame
	if (<num_players> = 1)
		pos = ((0.0, -1.4) * <height>)
		pos2 = ((0.0, 0.9) * <height>)
	else
		pos = ((0.0, -1.4) * <height>)
		pos2 = ((0.0, 1.3) * <height>)
	endif
	formattext checksumname = cont 'sidebar_container_leftp%p' p = <player> addtostringlookup = true
	formattext checksumname = namel2 'sidebar_Left_SPGlowp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namel2>
	createscreenelement {
		type = spriteelement
		id = <namel2>
		parent = <cont>
		material = mat_sidebar_glow_01
		rgba = [0 255 255 255]
		pos = <pos>
		scale = (1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.2
	}
	formattext checksumname = cont 'sidebar_container_rightp%p' p = <player> addtostringlookup = true
	formattext checksumname = namer2 'sidebar_Right_SPGlowp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namer2>
	createscreenelement {
		type = spriteelement
		id = <namer2>
		parent = <cont>
		material = mat_sidebar_glow_01
		rgba = [0 255 255 255]
		pos = <pos>
		scale = (-1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.2
	}
	formattext checksumname = container_id 'fretbar_containerp%p' p = <player> addtostringlookup = true
	formattext checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namec>
	createscreenelement {
		type = spriteelement
		id = <namec>
		parent = <container_id>
		material = mat_sidebar_glow_01
		rgba = [0 255 255 128]
		pos = <pos2> (0.0, 720.0)
		rot_angle = 0
		scale = (0.0, 3.0)
		just = [center top]
		z_priority = 1.1
	}
	formattext checksumname = fx3 'sidebar_Center_SPFXp%p' p = <player> addtostringlookup = true
	destroy2dparticlesystem id = <fx3>
	create2dparticlesystem {
		id = <fx3>
		pos = (0.0, 0.0)
		z_priority = 12
		material = sys_particle_star02_sys_particle_star02
		parent = <namec>
		start_color = [255 255 255 128]
		end_color = [0 255 255 0]
		start_scale = (0.25, 0.25)
		end_scale = (1.25, 1.25)
		start_angle_spread = 360.0
		min_rotation = 333
		max_rotation = -333
		emit_start_radius = 6
		emit_radius = 336
		emit_rate = 0.1
		emit_dir = 180.0
		emit_spread = 33.0
		velocity = 5.1
		friction = (0.0, -3.0)
		time = 1.551
	}
	<namel2> :se_setprops pos = <pos> scale = (1.0, 4.0) time = 0.5
	<namer2> :se_setprops pos = <pos> scale = (-1.0, 4.0) time = 0.5
	<namec> :se_setprops pos = <pos2> scale = (5.0, 3.0) time = 0.5
	wait \{0.5
		seconds}
	if screenelementexists id = <namel>
		<namel> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	if screenelementexists id = <namer>
		<namer> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	if screenelementexists id = <namec>
		<namec> :se_setprops rgba = [0 255 255 64] time = 0.5
	endif
	if screenelementexists id = <namec2>
		<namec2> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	wait \{0.2
		second}
	destroy2dparticlesystem kill_when_empty id = <fx3>
	wait \{0.04
		seconds}
	spawnscriptnow pulse_sp_color params = {player = <player>}
endscript

script pulse_sp_color_old 
	begin
	formattext checksumname = namer2 'sidebar_Right_SPGlowp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namel2>
		<namel2> :se_setprops rgba = [0 255 255 64] time = 0.5
	endif
	formattext checksumname = namel2 'sidebar_Left_SPGlowp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namer2>
		<namer2> :se_setprops rgba = [0 255 255 64] time = 0.5
	endif
	formattext checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namec>
		<namec> :se_setprops rgba = [0 255 255 64] time = 0.5
	endif
	wait \{0.5
		seconds}
	formattext checksumname = namer2 'sidebar_Right_SPGlowp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namel2>
		<namel2> :se_setprops rgba = [0 255 255 255] time = 0.5
	endif
	formattext checksumname = namel2 'sidebar_Left_SPGlowp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namer2>
		<namer2> :se_setprops rgba = [0 255 255 255] time = 0.5
	endif
	formattext checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namec>
		<namec> :se_setprops rgba = [0 255 255 128] time = 0.5
	endif
	wait \{0.5
		seconds}
	repeat
endscript

script kill_highway_star_power_effect_old 
	formattext checksumname = namer2 'sidebar_Right_SPGlowp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namel2>
		<namel2> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	formattext checksumname = namel2 'sidebar_Left_SPGlowp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namer2>
		<namer2> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	formattext checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namec>
		<namec> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	wait \{0.5
		seconds}
	formattext checksumname = namel 'sidebar_Left_SPRushp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namel>
	formattext checksumname = namer 'sidebar_Right_SPRushp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namer>
	formattext checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namec>
	destroyscreenelement id = <namec2>
	destroyscreenelement id = <namel2>
	destroyscreenelement id = <namer2>
endscript

script create_vocals_star_power_effect 
	requireparams \{[
			player
		]}
	getplayerinfo <player> part
	if (<part> != vocals)
		return
	endif
	vocalshighway_getid player = <player>
	<vocals_highway_id> :desc_resolvealias name = alias_rush_container_bottom param = bot_rush_cont
	<vocals_highway_id> :desc_resolvealias name = alias_rush_container_top param = top_rush_cont
	<vocals_highway_id> :desc_resolvealias name = alias_visible_highway param = visible_highway
	<visible_highway> :se_setprops alpha = 1 time = 0.2
	formattext checksumname = namevb1 'Vocals_Bottom_SPRushp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namevb1>
	createscreenelement {
		type = spriteelement
		id = <namevb1>
		parent = <bot_rush_cont>
		material = sp_glow_rush01
		rgba = [0 255 255 255]
		pos = (0.0, 18.0)
		scale = (2.5, 1.0)
		rot_angle = 5
		just = [center center]
		z_priority = 14
	}
	formattext checksumname = namevb2 'Vocals_Bottom_SPGlowp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namevb2>
	createscreenelement {
		type = spriteelement
		id = <namevb2>
		parent = <bot_rush_cont>
		material = mat_sidebar_glow_01
		rgba = [0 255 255 255]
		pos = (0.0, 18.0)
		scale = (1.5, 0.0)
		rot_angle = 90
		just = [center bottom]
		z_priority = 3.2
	}
	formattext checksumname = namevt1 'Vocals_Top_SPRushp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namevt1>
	createscreenelement {
		type = spriteelement
		id = <namevt1>
		parent = <top_rush_cont>
		material = sp_glow_rush01
		rgba = [0 255 255 255]
		pos = (0.0, 18.0)
		scale = (2.5, 1.0)
		rot_angle = 5
		just = [center center]
		z_priority = 14
	}
	formattext checksumname = namevt2 'Vocals_Top_SPGlowp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namevt2>
	createscreenelement {
		type = spriteelement
		id = <namevt2>
		parent = <top_rush_cont>
		material = mat_sidebar_glow_01
		rgba = [0 255 255 255]
		pos = (0.0, 18.0)
		scale = (1.5, 0.0)
		rot_angle = 90
		just = [center bottom]
		z_priority = 3.2
	}
	formattext checksumname = fxt1 'Vocals_Top_SPFXp%p' p = <player> addtostringlookup = true
	destroy2dparticlesystem id = <fxt1>
	create2dparticlesystem {
		id = <fxt1>
		pos = (0.0, 0.0)
		z_priority = 12
		material = sys_particle_spark01_sys_particle_spark01
		parent = <namevt1>
		start_color = [255 255 255 255]
		end_color = [128 255 255 0]
		start_scale = (1.25, 1.25)
		end_scale = (0.75, 0.75)
		start_angle_spread = 0.0
		min_rotation = 0
		max_rotation = 0
		emit_start_radius = 6
		emit_radius = 6
		emit_rate = 0.0050999997
		emit_dir = -90.0
		emit_spread = 360.0
		velocity = 1.1
		friction = (-12.0, 12.0)
		time = 0.25
	}
	formattext checksumname = fxb1 'Vocals_Bottom_SPFXp%p' p = <player> addtostringlookup = true
	destroy2dparticlesystem id = <fxb1>
	create2dparticlesystem {
		id = <fxb1>
		pos = (0.0, 0.0)
		z_priority = 12
		material = sys_particle_spark01_sys_particle_spark01
		parent = <namevb1>
		start_color = [255 255 255 255]
		end_color = [128 255 255 0]
		start_scale = (1.25, 1.25)
		end_scale = (0.75, 0.75)
		start_angle_spread = 0.0
		min_rotation = 0
		max_rotation = 0
		emit_start_radius = 6
		emit_radius = 6
		emit_rate = 0.0050999997
		emit_dir = -90.0
		emit_spread = 360.0
		velocity = 1.1
		friction = (-12.0, 12.0)
		time = 0.25
	}
	<namevb1> :se_setprops pos = {(1500.0, 0.0) relative} time = 0.5
	<namevb2> :se_setprops pos = {(200.0, 0.0) relative} scale = (1.0, 9.0) time = 0.5
	<namevt1> :se_setprops pos = {(1500.0, 0.0) relative} time = 0.5
	<namevt2> :se_setprops pos = {(200.0, 0.0) relative} scale = (1.0, 9.0) time = 0.5
	wait \{0.5
		seconds}
	destroy2dparticlesystem kill_when_empty id = <fxt1>
	destroy2dparticlesystem kill_when_empty id = <fxb1>
endscript

script kill_vocals_star_power_effect 
	vocals_get_highway_view player = <player>
	if (<highway_view> = karaoke)
		vocalshighway_getid player = <player>
		if screenelementexists id = <vocals_highway_id>
			<vocals_highway_id> :desc_resolvealias name = alias_visible_highway param = visible_highway
			<visible_highway> :se_setprops alpha = 0 time = 0.2
		endif
	endif
	formattext checksumname = namevt1 'Vocals_Top_SPRushp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namevt1>
	formattext checksumname = namevb1 'Vocals_Bottom_SPRushp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namevb1>
	formattext checksumname = namevt2 'Vocals_Top_SPGlowp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namevt2>
		<namevt2> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	formattext checksumname = namevb2 'Vocals_bottom_SPGlowp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namevb2>
		<namevb2> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	wait \{0.5
		seconds}
	formattext checksumname = namevb2 'Vocals_Top_SPGlowp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namevb2>
	formattext checksumname = namevt2 'Vocals_Top_SPGlowp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namevt2>
endscript

script lil_sp_squirt 
	requireparams \{[
			player
		]}
	formattext checksumname = right_sp_id 'sidebar_right_sp_meterp%p' p = <player>
	<right_sp_id> :desc_resolvealias name = alias_needle_container param = sp_squirt_cont
	formattext checksumname = fx1 'sidebar_SPFX_Squirtp%p' p = <player> addtostringlookup = true
	destroy2dparticlesystem id = <fx1>
	create2dparticlesystem {
		id = <fx1>
		pos = (0.0, 0.0)
		z_priority = 12
		material = sys_particle_spark01_sys_particle_spark01
		parent = <sp_squirt_cont>
		start_color = [255 255 255 255]
		end_color = [0 255 255 0]
		start_scale = (1.25, 1.25)
		end_scale = (0.25, 0.25)
		start_angle_spread = 360.0
		min_rotation = 0
		max_rotation = 0
		emit_start_radius = 3
		emit_radius = 3
		emit_rate = 0.01
		emit_dir = 66.0
		emit_spread = 180.0
		velocity = 3.3
		friction = (0.0, 12.0)
		time = 0.551
	}
	wait \{0.25
		seconds}
	destroy2dparticlesystem kill_when_empty id = <fx1>
endscript

script lil_sp_squirt_vocals 
	requireparams \{[
			player
		]}
	getplayerinfo <player> vocals_highway_view
	if ($end_credits = 1 || <vocals_highway_view> = karaoke)
		return
	endif
	getplayerinfo <player> combo_meter_id
	<combo_meter_id> :desc_resolvealias name = alias_vocals_star_power_meter param = id
	<id> :desc_resolvealias name = alias_vspm_needle_container param = sp_squirt_vocals_cont
	formattext checksumname = fx1 'Vocals_SPFX_Squirtp%p' p = <player> addtostringlookup = true
	destroy2dparticlesystem id = <fx1>
	create2dparticlesystem {
		id = <fx1>
		pos = (0.0, 0.0)
		z_priority = 12
		material = sys_particle_spark01_sys_particle_spark01
		parent = <sp_squirt_vocals_cont>
		start_color = [128 255 255 255]
		end_color = [0 255 255 0]
		start_scale = (3.25, 3.25)
		end_scale = (0.25, 0.25)
		start_angle_spread = 360.0
		min_rotation = 0
		max_rotation = 0
		emit_start_radius = 1
		emit_radius = 1
		emit_rate = 0.01
		emit_dir = 90.0
		emit_spread = 0.0
		velocity = 0
		friction = (0.0, 0.0)
		time = 0.551
	}
	wait \{0.15
		seconds}
	destroy2dparticlesystem kill_when_empty id = <fx1>
endscript

script create_highway_star_power_effect 
	pos_index = (<player> - 1)
	pos_table = ($highway_pos_table [<pos_index>])
	height = (<pos_table>.highway_height)
	pos = ((0.0, -1.4) * <height>)
	pos2 = ((0.0, 0.9) * <height>)
	getnumplayersingame
	if (<num_players> = 1)
		endpos_l = {(140.0, -80.0) relative}
		endpos_r = {(-140.0, -80.0) relative}
		rot_l = -50
		rot_r = 50
	else
		endpos_l = {(120.0, -20.0) relative}
		endpos_r = {(-120.0, -20.0) relative}
		rot_l = -33
		rot_r = 33
	endif
	formattext checksumname = cont 'sidebar_container_leftp%p' p = <player> addtostringlookup = true
	formattext checksumname = namel 'sidebar_Left_SPGlowp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namel>
	createscreenelement {
		type = spriteelement
		id = <namel>
		parent = <cont>
		material = mat_sidebar_glow_02
		rgba = [0 255 255 128]
		pos = <pos>
		scale = (1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.3
	}
	formattext checksumname = namel2 'sidebar_Left2_SPGlowp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namel2>
	createscreenelement {
		type = spriteelement
		id = <namel2>
		parent = <cont>
		material = mat_sidebar_glow_02
		rgba = [255 255 255 255]
		pos = <pos>
		scale = (1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.2
	}
	formattext checksumname = namels1 'sidebar_Left_star01p%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namels1>
	createscreenelement {
		type = spriteelement
		parent = <namel>
		id = <namels1>
		scale = (-0.25, 0.25)
		pos = (20.0, 80.0)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	formattext checksumname = namels2 'sidebar_Left_star02p%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namels2>
	createscreenelement {
		type = spriteelement
		parent = <namel>
		id = <namels2>
		scale = (-0.19, 0.15)
		pos = (20.0, 46.0)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	formattext checksumname = namels3 'sidebar_Left_star03p%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namels3>
	createscreenelement {
		type = spriteelement
		parent = <namel>
		id = <namels3>
		scale = (-0.14, 0.1)
		pos = (20.0, 22.0)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	formattext checksumname = cont 'sidebar_container_rightp%p' p = <player> addtostringlookup = true
	formattext checksumname = namer 'sidebar_Right_SPGlowp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namer>
	createscreenelement {
		type = spriteelement
		id = <namer>
		parent = <cont>
		material = mat_sidebar_glow_02
		rgba = [0 255 255 128]
		pos = <pos>
		scale = (-1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.3
	}
	formattext checksumname = namer2 'sidebar_Right2_SPGlowp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namer2>
	createscreenelement {
		type = spriteelement
		id = <namer2>
		parent = <cont>
		material = mat_sidebar_glow_02
		rgba = [255 255 255 255]
		pos = <pos>
		scale = (-1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.2
	}
	formattext checksumname = namers1 'sidebar_Right_star01p%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namers1>
	createscreenelement {
		type = spriteelement
		parent = <namer>
		id = <namers1>
		scale = (-0.3, 0.28)
		pos = (20.0, 100.0)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	formattext checksumname = namers2 'sidebar_Right_star02p%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namers2>
	createscreenelement {
		type = spriteelement
		parent = <namer>
		id = <namers2>
		scale = (-0.2, 0.18)
		pos = (20.0, 62.5)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	formattext checksumname = namers3 'sidebar_Right_star03p%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namers3>
	createscreenelement {
		type = spriteelement
		parent = <namer>
		id = <namers3>
		scale = (-0.16, 0.120000005)
		pos = (20.0, 33.5)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	formattext checksumname = namers4 'sidebar_Right_star04p%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namers4>
	createscreenelement {
		type = spriteelement
		parent = <namer>
		id = <namers4>
		scale = (-0.1, 0.06)
		pos = (20.0, 10.5)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	formattext checksumname = container_id 'fretbar_containerp%p' p = <player> addtostringlookup = true
	formattext checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> addtostringlookup = true
	destroyscreenelement id = <namec>
	createscreenelement {
		type = spriteelement
		id = <namec>
		parent = <container_id>
		material = mat_sidebar_glow_02
		rgba = [0 255 255 0]
		pos = <pos2>
		rot_angle = 0
		scale = (4.0, 2.5)
		just = [center top]
		z_priority = 1.1
	}
	formattext checksumname = fxsr1 'sidebar_star01Rp%p' p = <player> addtostringlookup = true
	destroy2dparticlesystem id = <fxsr1>
	create2dparticlesystem {
		id = <fxsr1>
		pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namers1>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (0.8, 0.5)
		end_scale = (0.8, 0.5)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		emit_rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formattext checksumname = fxsr2 'sidebar_star02Rp%p' p = <player> addtostringlookup = true
	destroy2dparticlesystem id = <fxsr2>
	create2dparticlesystem {
		id = <fxsr2>
		pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namers2>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (0.8, 0.6)
		end_scale = (0.8, 0.6)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		emit_rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formattext checksumname = fxsr3 'sidebar_star03Rp%p' p = <player> addtostringlookup = true
	destroy2dparticlesystem id = <fxsr3>
	create2dparticlesystem {
		id = <fxsr3>
		pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namers3>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (0.6, 0.3)
		end_scale = (0.6, 0.3)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		emit_rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formattext checksumname = fxsr4 'sidebar_star04Rp%p' p = <player> addtostringlookup = true
	destroy2dparticlesystem id = <fxsr4>
	create2dparticlesystem {
		id = <fxsr4>
		pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namers4>
		start_color = [0 255 255 120]
		end_color = [0 0 255 0]
		start_scale = (0.3, 0.2)
		end_scale = (0.3, 0.2)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		emit_rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formattext checksumname = fxsl1 'sidebar_star01Lp%p' p = <player> addtostringlookup = true
	destroy2dparticlesystem id = <fxsl1>
	create2dparticlesystem {
		id = <fxsl1>
		pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namels1>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (1.0, 0.6)
		end_scale = (1.0, 0.6)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		emit_rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formattext checksumname = fxsl2 'sidebar_star02Lp%p' p = <player> addtostringlookup = true
	destroy2dparticlesystem id = <fxsl2>
	create2dparticlesystem {
		id = <fxsl2>
		pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namels2>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (0.8, 0.4)
		end_scale = (0.8, 0.4)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		emit_rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formattext checksumname = fxsl3 'sidebar_star03Lp%p' p = <player> addtostringlookup = true
	destroy2dparticlesystem id = <fxsl3>
	create2dparticlesystem {
		id = <fxsl3>
		pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namels3>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (0.6, 0.3)
		end_scale = (0.6, 0.4)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		emit_rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	<namel> :se_setprops pos = <pos> scale = (4.0, 4.0) time = 0.25
	<namel2> :se_setprops pos = <pos> scale = (1.0, 4.0) rgba = [0 255 255 128] time = 0.25
	<namer> :se_setprops pos = <pos> scale = (-4.0, 4.0) time = 0.25
	<namer2> :se_setprops pos = <pos> scale = (-1.0, 4.0) rgba = [0 255 255 128] time = 0.25
	<namec> :se_setprops pos = <pos2> scale = (8.0, 2.4) time = 0.25
	wait \{0.25
		seconds}
	if screenelementexists id = <namel>
		<namel> :se_setprops alpha = 0 time = 0.5 pos = <endpos_l> rot_angle = <rot_l>
	endif
	if screenelementexists id = <namel2>
		<namel2> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	if screenelementexists id = <namer>
		<namer> :se_setprops rgba alpha = 0 time = 0.5 pos = <endpos_r> rot_angle = <rot_r>
	endif
	if screenelementexists id = <namer2>
		<namer2> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	if screenelementexists id = <namec>
		<namec> :se_setprops rgba = [0 255 255 128] time = 0.5
	endif
	wait \{0.25
		seconds}
	formattext checksumname = fx3 'sidebar_Center3_SPFXp%p' p = <player> addtostringlookup = true
	destroy2dparticlesystem id = <fx3>
	create2dparticlesystem {
		id = <fx3>
		pos = (0.0, 100.0)
		z_priority = 12
		material = sys_particle_star02_sys_particle_star02
		parent = <namec>
		start_color = [255 255 255 64]
		end_color = [0 255 255 0]
		start_scale = (0.25, 0.25)
		end_scale = (0.5, 0.5)
		start_angle_spread = 360.0
		min_rotation = 333
		max_rotation = -333
		emit_start_radius = 6
		emit_radius = 336
		emit_rate = 0.05
		emit_dir = 180.0
		emit_spread = 33.0
		velocity = 5.1
		friction = (0.0, -3.0)
		time = 1.0
	}
	formattext checksumname = fx2 'sidebar_Center2_SPFXp%p' p = <player> addtostringlookup = true
	destroy2dparticlesystem id = <fx2>
	create2dparticlesystem {
		id = <fx2>
		pos = (0.0, 100.0)
		z_priority = 12
		material = sys_particle_spark01_sys_particle_spark01
		parent = <namec>
		start_color = [255 255 255 64]
		end_color = [0 255 255 0]
		start_scale = (2.25, 2.25)
		end_scale = (0.25, 0.25)
		start_angle_spread = 360.0
		min_rotation = 333
		max_rotation = -333
		emit_start_radius = 0
		emit_radius = 777
		emit_rate = 0.05
		emit_dir = 0.0
		emit_spread = 33.0
		velocity = 1.1
		friction = (0.0, 12.0)
		time = 1.0
	}
	wait \{0.25
		seconds}
	destroy2dparticlesystem kill_when_empty id = <fx2>
	destroy2dparticlesystem kill_when_empty id = <fx3>
	destroy2dparticlesystem kill_when_empty id = <fxsr1>
	destroy2dparticlesystem kill_when_empty id = <fxsr2>
	destroy2dparticlesystem kill_when_empty id = <fxsr3>
	destroy2dparticlesystem kill_when_empty id = <fxsr4>
	destroy2dparticlesystem kill_when_empty id = <fxsl1>
	destroy2dparticlesystem kill_when_empty id = <fxsl2>
	destroy2dparticlesystem kill_when_empty id = <fxsl3>
	wait \{0.25
		seconds}
	destroyscreenelement id = <namel>
	destroyscreenelement id = <namer>
	if screenelementexists id = <namel2>
		<namel2> :obj_spawnscriptnow pulse_sp_color params = {player = <player>}
	endif
endscript

script pulse_sp_color 
	begin
	formattext checksumname = namer2 'sidebar_Right2_SPGlowp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namel2>
		<namel2> :se_setprops rgba = [0 255 255 64] time = 0.5
	endif
	formattext checksumname = namel2 'sidebar_Left2_SPGlowp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namer2>
		<namer2> :se_setprops rgba = [0 255 255 64] time = 0.5
	endif
	formattext checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namec>
		<namec> :se_setprops rgba = [0 255 255 40] time = 0.5
	endif
	wait \{0.5
		seconds}
	formattext checksumname = namer2 'sidebar_Right2_SPGlowp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namer2>
		<namer2> :se_setprops rgba = [0 255 255 255] time = 0.5
	endif
	formattext checksumname = namel2 'sidebar_Left2_SPGlowp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namel2>
		<namel2> :se_setprops rgba = [0 255 255 255] time = 0.5
	endif
	formattext checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namec>
		<namec> :se_setprops rgba = [0 255 255 72] time = 0.5
	endif
	wait \{0.5
		seconds}
	repeat
endscript

script kill_highway_star_power_effect 
	formattext checksumname = namer2 'sidebar_Right2_SPGlowp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namer2>
		<namer2> :se_setprops alpha = 0 time = 0.5
	endif
	formattext checksumname = namel2 'sidebar_Left2_SPGlowp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namel2>
		<namel2> :se_setprops alpha = 0 time = 0.5
	endif
	formattext checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> addtostringlookup = true
	if screenelementexists id = <namec>
		<namec> :se_setprops alpha = 0 time = 0.5
	endif
	wait \{0.5
		seconds}
	destroyscreenelement id = <namec>
	destroyscreenelement id = <namel2>
	destroyscreenelement id = <namer2>
endscript
