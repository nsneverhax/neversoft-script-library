master_leaderboard_song_list = [
	{
		leaderboard_id = all_songs
		colums = 4
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
			"(DIFFICULTY)"
		]
		column_pos = [
			0
			80
			445
			450
		]
		colum_ids = [
			0
		]
	}
]
master_leaderboard_song_list_ps3 = [
	{
		leaderboard_id = all_songs
		colums = 4
		headers = [
			"RANK"
			"NAME"
			"SCORE"
			"(DIFFICULTY)"
		]
		column_pos = [
			0
			80
			445
			450
		]
		colum_ids = [
			0
		]
	}
]
master_leaderboard_singleplayer_list = [
	{
		leaderboard_id = lb_career_easy
		title = "CAREER - EASY"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_career_med
		title = "CAREER - MEDIUM"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_career_hard
		title = "CAREER - HARD"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_career_expert
		title = "CAREER - EXPERT"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_campaign
		title = "CAMPAIGN"
		columns = 4
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
	{
		leaderboard_id = lb_campaign_easy
		title = "CAMPAIGN - EASY"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
	{
		leaderboard_id = lb_campaign_med
		title = "CAMPAIGN - MEDIUM"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
	{
		leaderboard_id = lb_campaign_hard
		title = "CAMPAIGN - HARD"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
	{
		leaderboard_id = lb_campaign_expert
		title = "CAMPAIGN - EXPERT"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
]
master_leaderboard_singleplayer_list_ps3 = [
	{
		leaderboard_id = lb_career_easy
		title = "CAREER - EASY"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_career_med
		title = "CAREER - MEDIUM"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_career_hard
		title = "CAREER - HARD"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_career_expert
		title = "CAREER - EXPERT"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_campaign
		title = "CAMPAIGN"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
	{
		leaderboard_id = lb_campaign_easy
		title = "CAMPAIGN - EASY"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
	{
		leaderboard_id = lb_campaign_med
		title = "CAMPAIGN - MEDIUM"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
	{
		leaderboard_id = lb_campaign_hard
		title = "CAMPAIGN - HARD"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
	{
		leaderboard_id = lb_campaign_expert
		title = "CAMPAIGN - EXPERT"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
]
master_leaderboard_multiplayer_list = [
	{
		leaderboard_id = lb_faceoff_easy
		title = "FACE-OFF - EASY"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_faceoff_medium
		title = "FACE-OFF - MEDIUM"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_faceoff_hard
		title = "FACE-OFF - HARD"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_faceoff_expert
		title = "FACE-OFF - EXPERT"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_faceoff_winratio
		title = "FACE-OFF - WINS"
		columns = 4
		headers = [
			"RANK"
			"GAMERTAG"
			"WINS"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			2
		]
	}
	{
		leaderboard_id = lb_faceoff_win_streak
		title = "FACE-OFF - WIN STREAK"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"STREAK"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			2
		]
	}
	{
		leaderboard_id = lb_pro_faceoff_easy
		title = "PRO FACE-OFF - EASY"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_pro_faceoff_medium
		title = "PRO FACE-OFF - MEDIUM"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_pro_faceoff_hard
		title = "PRO FACE-OFF - HARD"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_pro_faceoff_expert
		title = "PRO FACE-OFF - EXPERT"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_pro_faceoff_winratio
		title = "PRO FACE-OFF - WINS"
		columns = 4
		headers = [
			"RANK"
			"GAMERTAG"
			"WINS"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			2
		]
	}
	{
		leaderboard_id = lb_pro_faceoff_win_streak
		title = "PRO FACE-OFF - WIN STREAK"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"STREAK"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			2
		]
	}
	{
		leaderboard_id = lb_battle_easy
		title = "BATTLE - EASY"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"WINS"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
	{
		leaderboard_id = lb_battle_medium
		title = "BATTLE - MEDIUM"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"WINS"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
	{
		leaderboard_id = lb_battle_hard
		title = "BATTLE - HARD"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"WINS"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
	{
		leaderboard_id = lb_battle_expert
		title = "BATTLE - EXPERT"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"WINS"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
	{
		leaderboard_id = lb_battle_win_streak
		title = "BATTLE - WIN STREAK"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"STREAK"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			2
		]
	}
	{
		leaderboard_id = lb_coop_career_easy
		title = "CO-OP CAREER - EASY"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_coop_career_med
		title = "CO-OP CAREER - MEDIUM"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_coop_career_hard
		title = "CO-OP CAREER - HARD"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_coop_career_expert
		title = "CO-OP CAREER - EXPERT"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
]
master_leaderboard_multiplayer_list_ps3 = [
	{
		leaderboard_id = lb_faceoff_easy
		title = "FACE-OFF - EASY"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_faceoff_medium
		title = "FACE-OFF - MEDIUM"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_faceoff_hard
		title = "FACE-OFF - HARD"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_faceoff_expert
		title = "FACE-OFF - EXPERT"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_faceoff_winratio
		title = "FACE-OFF - WINS"
		columns = 4
		headers = [
			"RANK"
			"NAME"
			"WINS"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			2
		]
	}
	{
		leaderboard_id = lb_faceoff_win_streak
		title = "FACE-OFF - WIN STREAK"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"STREAK"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			2
		]
	}
	{
		leaderboard_id = lb_pro_faceoff_easy
		title = "PRO FACE-OFF - EASY"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_pro_faceoff_medium
		title = "PRO FACE-OFF - MEDIUM"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_pro_faceoff_hard
		title = "PRO FACE-OFF - HARD"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_pro_faceoff_expert
		title = "PRO FACE-OFF - EXPERT"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_pro_faceoff_winratio
		title = "PRO FACE-OFF - WINS"
		columns = 4
		headers = [
			"RANK"
			"NAME"
			"WINS"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			2
		]
	}
	{
		leaderboard_id = lb_pro_faceoff_win_streak
		title = "PRO FACE-OFF - WIN STREAK"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"STREAK"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			2
		]
	}
	{
		leaderboard_id = lb_battle_easy
		title = "BATTLE - EASY"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"WINS"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
	{
		leaderboard_id = lb_battle_medium
		title = "BATTLE - MEDIUM"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"WINS"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
	{
		leaderboard_id = lb_battle_hard
		title = "BATTLE - HARD"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"WINS"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
	{
		leaderboard_id = lb_battle_expert
		title = "BATTLE - EXPERT"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"WINS"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			1
		]
	}
	{
		leaderboard_id = lb_battle_win_streak
		title = "BATTLE - WIN STREAK"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"STREAK"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			2
		]
	}
	{
		leaderboard_id = lb_coop_career_easy
		title = "CO-OP CAREER - EASY"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_coop_career_med
		title = "CO-OP CAREER - MEDIUM"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_coop_career_hard
		title = "CO-OP CAREER - HARD"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_coop_career_expert
		title = "CO-OP CAREER - EXPERT"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		column_ids = [
			0
		]
	}
]
checking_coop_song_flag = 0
song_checksum = bullsonparade
current_leaderboard_id = all_songs
current_leaderboard_group = single
current_leaderboard_array = master_leaderboard_singleplayer_list
lb_selection_index = 0
lb_offset = 1
lb_list_type = none
lb_rating_value = 0

script create_leaderboard_groups_menu \{menu_title = "LEADERBOARDS"
		menu_subtitle = "LEADERBOARD GROUPS"
		menu_id = online_leaderboard_groups_menu
		vmenu_id = online_leaderboard_groups_vmenu
		pos = (540.0, 100.0)}
	change \{last_leaderboard_menu_index = 0}
	createscreenelement \{type = containerelement
		parent = root_window
		id = online_menu_ui_container
		pos = (0.0, 0.0)}
	createscreenelement {
		type = vscrollingmenu
		parent = online_menu_ui_container
		id = <menu_id>
		just = [center top]
		dims = (256.0, 350.0)
		pos = (($online_general_menu_pos) + (0.0, 182.0))
		z_priority = 1
	}
	createscreenelement {
		type = vmenu
		parent = <menu_id>
		id = <vmenu_id>
		pos = ((128.0, 0.0) + (-8.0, 0.0))
		just = [center top]
		internal_just = [center center]
		dims = (256.0, 350.0)
		padding_scale = 1.5
		event_handlers = [
			{pad_back ui_flow_manager_respond_to_action params = {action = go_back}}
			{pad_back generic_menu_pad_back_sound}
			{pad_up generic_menu_up_or_down_sound params = {up}}
			{pad_down generic_menu_up_or_down_sound params = {down}}
		]
		exclusive_device = ($primary_controller)
	}
	create_menu_backdrop \{texture = online_background}
	displaysprite id = online_frame_crown parent = online_menu_ui_container tex = online_frame_crown pos = (($online_general_menu_pos) + (0.0, -48.0)) dims = (192.0, 96.0) just = [center top] z = 3
	displaysprite id = online_menu_box_top parent = online_menu_ui_container tex = window_frame_cap rgba = ($online_medium_blue) pos = ($online_general_menu_pos) dims = (288.0, 64.0) just = [center top] z = 2
	displaysprite id = online_menu_box_top_fill parent = online_menu_ui_container tex = window_fill_cap rgba = [0 0 0 200] pos = ($online_general_menu_pos) dims = (288.0, 64.0) just = [center top] z = 2
	displaysprite id = online_menu_box_body parent = online_menu_ui_container tex = window_frame_body_tall rgba = ($online_medium_blue) pos = (($online_general_menu_pos) + (0.0, 64.0)) dims = (288.0, 432.0) just = [center top] z = 2 flip_h
	displaysprite id = online_menu_box_body_fill parent = online_menu_ui_container tex = window_fill_body_large rgba = [0 0 0 200] pos = (($online_general_menu_pos) + (0.0, 64.0)) dims = (288.0, 432.0) just = [center top] z = 2 flip_h
	displaysprite id = online_menu_box_bottom parent = online_menu_ui_container tex = window_frame_cap rgba = ($online_medium_blue) pos = (($online_general_menu_pos) + (0.0, 496.0)) dims = (288.0, 64.0) just = [center top] z = 2 flip_h
	displaysprite id = online_menu_box_bottom_fill parent = online_menu_ui_container tex = window_fill_cap rgba = [0 0 0 200] pos = (($online_general_menu_pos) + (0.0, 496.0)) dims = (288.0, 64.0) just = [center top] z = 2 flip_h
	displaysprite id = online_title_bar parent = online_menu_ui_container tex = store_frame_bottom_bg rgba = ($online_light_blue) pos = (($online_general_menu_pos) + (0.0, 128.0)) dims = (288.0, 128.0) just = [center center] z = 3
	displaysprite id = online_highlight parent = online_menu_ui_container tex = white rgba = ($online_light_blue) pos = ((($online_general_menu_hi_lite_ypos [0]) * (0.0, 1.0)) + (632.0, 0.0)) dims = (288.0, 40.0) just = [center top] z = 3
	displaysprite id = online_bookend1 parent = online_menu_ui_container tex = character_hub_hilite_bookend rgba = ($online_light_blue) pos = ((($online_general_menu_hi_lite_ypos [0]) * (0.0, 1.0)) + (502.0, 20.0)) dims = (40.0, 35.0) just = [center center] z = 3
	displaysprite id = online_bookend2 parent = online_menu_ui_container tex = character_hub_hilite_bookend rgba = ($online_light_blue) pos = ((($online_general_menu_hi_lite_ypos [0]) * (0.0, 1.0)) + (774.0, 20.0)) dims = (40.0, 35.0) just = [center center] z = 3
	if isxenon
		<global_list_single_player> = master_leaderboard_singleplayer_list
		<global_list_multi_player> = master_leaderboard_multiplayer_list
	else
		<global_list_single_player> = master_leaderboard_singleplayer_list_ps3
		<global_list_multi_player> = master_leaderboard_multiplayer_list_ps3
	endif
	createscreenelement {
		type = textelement
		parent = online_menu_ui_container
		font = text_a4
		scale = (0.65000004, 0.75)
		rgba = ($online_medium_blue)
		text = <menu_title>
		just = [center top]
		pos = (($online_general_menu_pos) + (-5.0, 32.0))
		z_priority = 3.0
	}
	fit_text_into_menu_item id = <id> max_width = 223
	createscreenelement {
		type = textelement
		parent = online_menu_ui_container
		font = fontgrid_title_gh3
		scale = (0.58, 0.75)
		rgba = ($online_dark_purple)
		text = <menu_subtitle>
		just = [center top]
		pos = (($online_general_menu_pos) + (0.0, 115.0))
		z_priority = 4.0
	}
	fit_text_into_menu_item id = <id> max_width = 223
	selectable_menu_items = 0
	createscreenelement {
		type = textelement
		parent = <vmenu_id>
		font = fontgrid_title_gh3
		scale = (0.63, 0.75)
		rgba = ($online_light_blue)
		text = "INDIVIDUAL SONGS"
		just = [left top]
		z_priority = 4.0
	}
	fit_text_into_menu_item id = <id> max_width = 223
	<id> :settags menu_item = <selectable_menu_items>
	<id> :setprops event_handlers = [
		{focus online_general_menu_focus params = {id = <id>}}
		{unfocus retail_menu_unfocus}
		{pad_choose online_select_leaderboard_group params = {group = song global_list = gh3_songlist}}
	]
	<selectable_menu_items> = (<selectable_menu_items> + 1)
	createscreenelement {
		type = textelement
		parent = <vmenu_id>
		font = fontgrid_title_gh3
		scale = (0.65000004, 0.75)
		rgba = ($online_light_blue)
		text = "SINGLE PLAYER"
		just = [left top]
		z_priority = 4.0
	}
	fit_text_into_menu_item id = <id> max_width = 223
	<id> :settags menu_item = <selectable_menu_items>
	<id> :setprops event_handlers = [
		{focus online_general_menu_focus params = {id = <id>}}
		{unfocus retail_menu_unfocus}
		{pad_choose online_select_leaderboard_group params = {group = single global_list = <global_list_single_player>}}
	]
	<selectable_menu_items> = (<selectable_menu_items> + 1)
	createscreenelement {
		type = textelement
		parent = <vmenu_id>
		font = fontgrid_title_gh3
		scale = (0.65000004, 0.75)
		rgba = ($online_light_blue)
		text = "MULTIPLAYER"
		just = [left top]
		z_priority = 4.0
	}
	fit_text_into_menu_item id = <id> max_width = 223
	<id> :settags menu_item = <selectable_menu_items>
	<id> :setprops event_handlers = [
		{focus online_general_menu_focus params = {id = <id>}}
		{unfocus retail_menu_unfocus}
		{pad_choose online_select_leaderboard_group params = {group = multi global_list = <global_list_multi_player>}}
	]
	<selectable_menu_items> = (<selectable_menu_items> + 1)
	set_online_menu_highlight_pos menu_items = <selectable_menu_items>
	set_focus_color rgba = ($online_dark_purple)
	set_unfocus_color rgba = ($online_light_blue)
	change \{user_control_pill_text_color = [
			0
			0
			0
			255
		]}
	change \{user_control_pill_color = [
			180
			180
			180
			255
		]}
	add_user_control_helper \{text = "SELECT"
		button = green
		z = 100}
	add_user_control_helper \{text = "BACK"
		button = red
		z = 100}
	add_user_control_helper \{text = "UP/DOWN"
		button = strumbar
		z = 100}
	launchevent type = focus target = <vmenu_id>
endscript

script destroy_leaderboard_groups_menu 
	if screenelementexists \{id = online_menu_ui_container}
		destroyscreenelement \{id = online_menu_ui_container}
	endif
	if screenelementexists \{id = online_leaderboard_groups_menu}
		destroyscreenelement \{id = online_leaderboard_groups_menu}
	endif
	clean_up_user_control_helpers
	destroy_menu_backdrop
endscript

script online_select_leaderboard_group 
	change current_leaderboard_group = <group>
	change current_leaderboard_array = <global_list>
	ui_flow_manager_respond_to_action \{action = select_leaderboard_group}
endscript

script create_leaderboard_group_listing_menu \{menu_id = online_leaderboard_select_menu
		vmenu_id = online_leaderboard_select_vmenu
		pos = (350.0, 100.0)}
	create_menu_backdrop \{texture = online_background}
	createscreenelement {
		type = containerelement
		id = leaderboard_group_cont
		parent = root_window
		pos = <pos>
		just = [left top]
		z_priority = <z_priority>
	}
	cont_id = <id>
	displaysprite {
		id = online_frame_crown
		parent = <cont_id>
		tex = online_frame_crown
		pos = (300.0, -60.0)
		dims = (192.0, 96.0)
		just = [center top]
		z = 3
	}
	createscreenelement {
		type = textelement
		parent = <cont_id>
		id = joe_temp_id
		font = fontgrid_title_gh3
		scale = (0.85, 1.0)
		rgba = ($online_dark_purple)
		text = "LEADERBOARDS"
		just = [center top]
		pos = (300.0, 30.0)
		z_priority = 3.0
	}
	createscreenelement {
		type = spriteelement
		id = net_leaderboard_bg
		texture = online_frame_large
		parent = <cont_id>
		just = [center top]
		pos = (305.0, -10.0)
	}
	scale_element_to_size {
		id = <id>
		target_width = 930
		target_height = 560
	}
	menu_offset = (20.0, 100.0)
	createscreenelement {
		type = vscrollingmenu
		parent = <cont_id>
		id = leaderboard_group_scrolling_menu
		just = [left top]
		dims = (20.0, 420.0)
		pos = <menu_offset>
	}
	menu_id = <id>
	createscreenelement {
		type = vmenu
		parent = <menu_id>
		id = leaderboard_group_vmenu
		just = [left top]
		internal_just = [center center]
		event_handlers = [
			{pad_back ui_flow_manager_respond_to_action params = {action = go_back}}
			{pad_back generic_menu_pad_back_sound}
			{pad_up generic_menu_up_or_down_sound params = {up}}
			{pad_down generic_menu_up_or_down_sound params = {down}}
		]
	}
	<id> :settags menu_width = 562
	vmenu_id = <id>
	if ($current_leaderboard_group = song)
		get_songlist_size
	else
		getarraysize ($current_leaderboard_array)
	endif
	array_entry = 0
	color = grey
	grid_index = 0
	begin
	switch ($current_leaderboard_group)
		case song
		get_songlist_checksum index = <array_entry>
		get_song_struct song = <song_checksum>
		<title> = (<song_struct>.title)
		default
		<title> = (($current_leaderboard_array) [<array_entry>].title)
	endswitch
	if ($current_leaderboard_group = song)
		if (<song_struct>.version = gh3 && <song_struct>.leaderboard = 1)
			if checksumequals a = black b = <color>
				bg_color = [0 0 0 100]
				color = grey
			else
				bg_color = [128 128 128 100]
				color = black
			endif
			leaderboard_group_add_item {
				text = <title>
				parent = <vmenu_id>
				pad_choose_script = select_leaderboard_from_list
				pad_choose_params = {leaderboard_id = <song_checksum> index = <grid_index>}
				bg_color = <bg_color>
				tag_grid_x = <grid_index>
			}
			grid_index = (<grid_index> + 1)
		endif
	else
		if checksumequals a = black b = <color>
			bg_color = [0 0 0 100]
			color = grey
		else
			bg_color = [128 128 128 100]
			color = black
		endif
		leaderboard_group_add_item {
			text = <title>
			parent = <vmenu_id>
			pad_choose_script = select_leaderboard_from_list
			pad_choose_params = {leaderboard_id = (($current_leaderboard_array) [<array_entry>].leaderboard_id)}
			bg_color = <bg_color>
			tag_grid_x = <grid_index>
		}
		grid_index = (<grid_index> + 1)
	endif
	<array_entry> = (<array_entry> + 1)
	repeat <array_size>
	change \{user_control_pill_text_color = [
			0
			0
			0
			255
		]}
	change \{user_control_pill_color = [
			180
			180
			180
			255
		]}
	add_user_control_helper \{text = "SELECT"
		button = green
		z = 100}
	add_user_control_helper \{text = "BACK"
		button = red
		z = 100}
	add_user_control_helper \{text = "UP/DOWN"
		button = strumbar
		z = 100}
	launchevent type = focus target = <vmenu_id> data = {grid_index = $last_leaderboard_menu_index}
	setscreenelementlock id = <vmenu_id> on
	setscreenelementlock id = <vmenu_id> off
endscript

script leaderboard_group_add_item {
		pad_choose_script = select_leaderboard_from_list
		color = ($online_light_blue)
		text = "null"
		bg_color = [0 0 0 255]
	}
	text_scale = 0.6
	text_nudge = (20.0, 0.0)
	createscreenelement {
		type = containerelement
		parent = <parent>
		just = [left top]
		event_handlers = [
			{focus leaderboard_group_item_focus}
			{unfocus leaderboard_group_item_unfocus}
			{pad_choose <pad_choose_script> params = <pad_choose_params>}
		]
	}
	cont_id = <id>
	<cont_id> :settags orig_bg_color = <bg_color>
	createscreenelement {
		type = textelement
		local_id = the_text
		parent = <cont_id>
		font = text_a4
		scale = <text_scale>
		rgba = <color>
		text = <text>
		just = [left top]
		pos = <text_nudge>
	}
	getscreenelementdims id = <id>
	<parent> :getsingletag menu_width
	text_height = <height>
	text_width = <width>
	entry_height = <height>
	setscreenelementprops {
		id = <id>
		pos = (((<menu_width> - <text_width>) / 2.0) * (1.0, 0.0) + (0.0, -7.0))
	}
	padding = 10
	setscreenelementprops {
		id = <cont_id>
		dims = ((<entry_height>) * (0.0, 1.0) + (10.0, 0.0))
	}
	getscreenelementdims id = <id>
	createscreenelement {
		type = spriteelement
		parent = <cont_id>
		local_id = bar
		texture = white
		just = [left top]
		rgba = <bg_color>
		alpha = 1
	}
	scale_element_to_size {
		id = <id>
		target_width = <menu_width>
		target_height = <entry_height>
	}
	getscreenelementprops id = <id>
	bar_pos = <pos>
	createscreenelement {
		type = spriteelement
		parent = <cont_id>
		local_id = bar_left
		texture = character_hub_hilite_bookend
		just = [left top]
		rgba = ($online_light_blue)
		alpha = 0
	}
	scale_element_to_size {
		id = <id>
		target_width = <entry_height>
		target_height = <entry_height>
	}
	back_nudge = (12.0, 0.0)
	getscreenelementdims id = <id>
	end_width = <width>
	setscreenelementprops {
		id = <id>
		pos = (<bar_pos> - (1.0, 0.0) * <end_width> + <back_nudge>)
	}
	createscreenelement {
		type = spriteelement
		parent = <cont_id>
		local_id = bar_right
		texture = character_hub_hilite_bookend
		just = [left top]
		rgba = ($online_light_blue)
		alpha = 0
	}
	scale_element_to_size {
		id = <id>
		target_width = <entry_height>
		target_height = <entry_height>
	}
	setscreenelementprops {
		id = <id>
		pos = (<bar_pos> + (1.0, 0.0) * <menu_width> - (4.0, 0.0))
	}
	if gotparam \{tag_grid_x}
		<cont_id> :settags tag_grid_x = <tag_grid_x>
	endif
endscript

script leaderboard_group_item_focus 
	obj_getid
	if screenelementexists id = {<objid> child = the_text}
		setscreenelementprops {
			id = {<objid> child = the_text}
			rgba = ($online_dark_purple)
		}
	endif
	if screenelementexists id = {<objid> child = bar}
		setscreenelementprops {
			id = {<objid> child = bar}
			rgba = ($online_light_blue)
		}
	endif
	if screenelementexists id = {<objid> child = bar_left}
		setscreenelementprops {
			id = {<objid> child = bar_left}
			alpha = 1
		}
	endif
	if screenelementexists id = {<objid> child = bar_left}
		setscreenelementprops {
			id = {<objid> child = bar_right}
			alpha = 1
		}
	endif
endscript

script leaderboard_group_item_unfocus 
	obj_getid
	if screenelementexists id = {<objid> child = the_text}
		setscreenelementprops {
			id = {<objid> child = the_text}
			rgba = ($online_light_blue)
		}
	endif
	<objid> :getsingletag orig_bg_color
	if screenelementexists id = {<objid> child = bar}
		setscreenelementprops {
			id = {<objid> child = bar}
			rgba = <orig_bg_color>
		}
	endif
	if screenelementexists id = {<objid> child = bar_left}
		setscreenelementprops {
			id = {<objid> child = bar_left}
			alpha = 0
		}
	endif
	if screenelementexists id = {<objid> child = bar_left}
		setscreenelementprops {
			id = {<objid> child = bar_right}
			alpha = 0
		}
	endif
endscript

script destroy_leaderboard_group_listing_menu 
	clean_up_user_control_helpers
	if screenelementexists \{id = leaderboard_group_cont}
		destroyscreenelement \{id = leaderboard_group_cont}
	endif
	destroy_menu_backdrop
endscript
last_leaderboard_menu_index = 0

script select_leaderboard_from_list 
	change \{leaderboardsearchvalue = 0}
	change \{leaderboardsongtypevalue = 0}
	change \{leaderboarddiffvalue = 3}
	change \{checking_coop_song_flag = 0}
	change \{lb_list_type = rating}
	change song_checksum = <leaderboard_id>
	change current_leaderboard_id = <leaderboard_id>
	if gotparam \{index}
		change last_leaderboard_menu_index = <index>
	endif
	ui_flow_manager_respond_to_action \{action = select_leaderboard}
endscript

script create_leaderboard_menu 
	printf \{"--- create_leaderboard_menu"}
	create_menu_backdrop \{texture = online_background}
	if ($current_leaderboard_group = song)
		get_leaderboard_headers \{song = true}
		change lb_rating_value = (($leaderboarddiffvalue) + 1)
	else
		get_leaderboard_headers \{song = false}
		change \{lb_rating_value = 0}
	endif
	switch ($leaderboardsearchvalue)
		case 0
		search_title = "ALL TIME BEST:"
		case 1
		search_title = "MY RANK:"
		case 2
		search_title = "MY FRIENDS:"
	endswitch
	menu_backdrop_container :settags <...>
	create_leaderboard_loading_bar
	netsessionfunc {
		obj = stats
		func = get_stats
		params = {
			leaderboard_id = ($current_leaderboard_id)
			callback = create_leaderboard_menu2
			listtype = me
			columns = <columns>
			num_rows = 1
		}
	}
endscript

script destroy_leaderboard_loading_bar 
	if screenelementexists \{id = net_leaderboards_loading_cont}
		destroyscreenelement \{id = net_leaderboards_loading_cont}
	endif
endscript

script create_leaderboard_loading_bar 
	if screenelementexists \{id = net_leaderboards_loading_cont}
		destroyscreenelement \{id = net_leaderboards_loading_cont}
	endif
	createscreenelement \{type = containerelement
		parent = root_window
		id = net_leaderboards_loading_cont
		z_priority = 1500
		just = [
			left
			top
		]
		pos = (570.0, 280.0)}
	<cont_id> = <id>
	createscreenelement {
		type = textelement
		parent = <cont_id>
		font = text_a4
		text = "Loading"
		rgba = ($online_medium_blue)
		just = [left top]
		alpha = 0
	}
	text_id = <id>
	runscriptonscreenelement id = <text_id> leaderboard_loading_bar_animate
	runscriptonscreenelement id = <cont_id> leaderbaord_loading_timeout_script
endscript

script leaderbaord_loading_timeout_script 
	wait \{10
		seconds}
	leaderboard_back_action
	destroy_leaderboard_loading_bar
endscript

script leaderboard_loading_bar_animate 
	obj_getid
	wait \{0.5
		seconds}
	<objid> :setprops alpha = 1
	i = 0
	begin
	text = "Loading"
	switch (<i>)
		case 0
		text = "Loading"
		case 1
		text = "Loading."
		case 2
		text = "Loading.."
		case 3
		text = "Loading..."
	endswitch
	<objid> :setprops text = <text>
	wait \{0.5
		seconds}
	i = (<i> + 1)
	if (<i> > 3)
		i = 0
	endif
	repeat
endscript

script create_leaderboard_menu2 
	printf \{"--- create_leaderboard_menu2"}
	printstruct <...>
	getarraysize \{leaderboard_data}
	if ($current_leaderboard_group = song)
		my_data = ["no rank" "" "" "no score"]
	else
		my_data = ["no rank" "" "no score"]
	endif
	if (<array_size> > 0)
		my_data = (<leaderboard_data> [0].data)
	endif
	destroy_leaderboard_loading_bar
	spawnscriptlater create_leaderboard_menu3 params = {my_data = <my_data>}
endscript

script create_leaderboard_menu3 
	printf \{"--- create_leaderboard_menu3"}
	menu_backdrop_container :gettags
	wait \{1
		gameframes}
	new_leaderboard_menu {
		title = <title>
		my_data = <my_data>
		search_type_title = <search_title>
		column_pos = <column_pos>
		headers = <headers>
	}
	if ($lb_list_type = friends)
		change \{lb_offset = 0}
	endif
	request_leaderboard <...> <params>
	change \{user_control_pill_text_color = [
			0
			0
			0
			255
		]}
	change \{user_control_pill_color = [
			180
			180
			180
			255
		]}
	add_user_control_helper \{text = "BACK"
		button = red
		z = 100}
	add_user_control_helper \{text = "FILTERS"
		button = yellow
		z = 100}
	add_user_control_helper \{text = "UP/DOWN"
		button = strumbar
		z = 100}
	if isxenon
		add_user_control_helper \{text = "GAMER CARD"
			button = start
			z = 100}
	endif
endscript

script add_leaderboard_rows_to_menu 
	printf \{"--- add_leaderboard_rows_to_menu"}
	destroy_leaderboard_loading_bar
	printstruct <...>
	if ($lb_list_type = me)
		netsessionfunc \{obj = match
			func = get_gamertag}
	endif
	if screenelementexists \{id = arrow_down}
		setscreenelementprops id = arrow_down rgba = ($online_light_blue)
	endif
	if screenelementexists \{id = arrow_up}
		setscreenelementprops id = arrow_up rgba = ($online_light_blue) flip_h
	endif
	if gotparam \{leaderboard_data}
		<array_count> = 0
		getarraysize <leaderboard_data>
		begin
		if (<array_size> <= 0)
			break
		endif
		formattext checksumname = leaderboard_rank 'leaderboard_entry_%i_rank' i = <array_count>
		formattext checksumname = leaderboard_entry 'leaderboard_entry_%i_gamertag' i = <array_count>
		formattext checksumname = leaderboard_name 'leaderboard_entry_%i_name' i = <array_count>
		formattext checksumname = leaderboard_score 'leaderboard_entry_%i_score' i = <array_count>
		formattext checksumname = leaderboard_difficulty 'leaderboard_entry_%i_difficulty' i = <array_count>
		formattext textname = rank "%a" a = (<leaderboard_data> [<array_count>].data [0])
		formattext textname = text "%a" a = (<leaderboard_data> [<array_count>].data [1])
		if screenelementexists id = <leaderboard_difficulty>
			formattext textname = score "%a" a = (<leaderboard_data> [<array_count>].data [3])
			get_diff_string_from_string_num num = (<leaderboard_data> [<array_count>].data [2])
			formattext textname = difficulty "(%a)" a = <diff>
		else
			formattext textname = score "%a" a = (<leaderboard_data> [<array_count>].data [2])
		endif
		if ((<leaderboard_id> = lb_faceoff_winratio) || (<leaderboard_id> = lb_pro_faceoff_winratio) || (<leaderboard_id> = lb_battle_winratio))
			winlosevalue = (<leaderboard_data> [<array_count>].data [2])
			widestringtointeger \{winlosevalue}
			getleaderboardwinlosevalue winlosevalue = <winlosevalue>
			formattext textname = score "%a" a = <win> b = <lose>
		endif
		<leaderboard_rank> :setprops text = <rank>
		<leaderboard_entry> :setprops unblock_events
		<leaderboard_rank> :setprops text = <rank>
		<leaderboard_entry> :settags player_xuid = (<leaderboard_data> [<array_count>].player_xuid)
		<leaderboard_score> :setprops text = <score>
		<leaderboard_name> :setprops text = <text>
		fit_text_into_menu_item id = <leaderboard_score> max_width = 175
		fit_text_into_menu_item id = <leaderboard_name> max_width = 220
		if screenelementexists id = <leaderboard_difficulty>
			<leaderboard_difficulty> :setprops text = <difficulty>
		endif
		if ($lb_list_type = me)
			if (<name> = (<leaderboard_data> [<array_count>].data [1]))
				change lb_offset = <offset>
				change lb_selection_index = <array_count>
				change \{lb_list_type = none}
			endif
		endif
		if ($lb_list_type = rating)
			change lb_offset = <offset>
			change \{lb_list_type = none}
		endif
		<array_count> = (<array_count> + 1)
		repeat <array_size>
		if (<array_size> < 10)
			filler = (10 - <array_size>)
			begin
			formattext checksumname = leaderboard_rank 'leaderboard_entry_%i_rank' i = <array_count>
			formattext checksumname = leaderboard_entry 'leaderboard_entry_%i_gamertag' i = <array_count>
			formattext checksumname = leaderboard_score 'leaderboard_entry_%i_score' i = <array_count>
			formattext checksumname = leaderboard_difficulty 'leaderboard_entry_%i_difficulty' i = <array_count>
			if screenelementexists id = <leaderboard_difficulty>
				<leaderboard_difficulty> :setprops text = "-"
			endif
			<leaderboard_rank> :setprops text = "-"
			setscreenelementprops {
				id = {<leaderboard_entry> child = the_text}
				text = "-"
			}
			<leaderboard_score> :setprops text = "-"
			<array_count> = (<array_count> + 1)
			repeat <filler>
		endif
	else
		printf \{"did not recieve leaderboard information"}
	endif
	formattext checksumname = leaderboard_entry 'leaderboard_entry_%i_gamertag' i = ($lb_selection_index)
	gamertag_vmenu :obj_spawnscriptlater return_focus_to_leaderboard params = {target = <leaderboard_entry>}
endscript

script return_focus_to_leaderboard 
	wait \{0.8
		seconds}
	launchevent type = focus target = gamertag_vmenu data = {child_id = <target>}
	if ($lb_list_type = me)
		launchevent type = focus target = <target>
	endif
endscript

script destroy_leaderboard_menu 
	clean_up_user_control_helpers
	destroy_menu \{menu_id = online_leaderboard_menu}
	destroy_menu_backdrop
	if screenelementexists \{id = leaderboard_container}
		destroyscreenelement \{id = leaderboard_container}
	endif
	if screenelementexists \{id = leaderboard_filter_container}
		destroyscreenelement \{id = leaderboard_filter_container}
	endif
endscript

script get_leaderboard_headers \{song = true}
	getarraysize ($current_leaderboard_array)
	if (<song> = true)
		if isxenon
			<columns> = ($master_leaderboard_song_list [0].column_ids)
			<headers> = ($master_leaderboard_song_list [0].headers)
			column_pos = ($master_leaderboard_song_list [0].column_pos)
		else
			<columns> = ($master_leaderboard_song_list_ps3 [0].column_ids)
			<headers> = ($master_leaderboard_song_list_ps3 [0].headers)
			column_pos = ($master_leaderboard_song_list_ps3 [0].column_pos)
		endif
		if ($checking_coop_song_flag = 1)
			get_song_title song = ($song_checksum)
			formattext textname = title "CO-OP %s" s = <song_title>
		else
			get_song_title song = ($current_leaderboard_id)
			<title> = <song_title>
		endif
	else
		getarraysize ($current_leaderboard_array)
		array_entry = 0
		begin
		if ((($current_leaderboard_array) [<array_entry>].leaderboard_id) = ($current_leaderboard_id))
			<columns> = (($current_leaderboard_array) [<array_entry>].column_ids)
			<headers> = (($current_leaderboard_array) [<array_entry>].headers)
			<title> = (($current_leaderboard_array) [<array_entry>].title)
			column_pos = (($current_leaderboard_array) [<array_entry>].column_pos)
		endif
		<array_entry> = (<array_entry> + 1)
		repeat <array_size>
	endif
	return columns = <columns> headers = <headers> title = <title> column_pos = <column_pos>
endscript

script leaderboard_previous_leaderboard 
	get_prev_leaderboard_from_checksum leaderboard = ($current_leaderboard_id)
	change current_leaderboard_id = <leaderboard>
	ui_flow_manager_respond_to_action \{action = prev_leaderboard}
endscript

script leaderboard_next_leaderboard 
	get_next_leaderboard_from_checksum leaderboard = ($current_leaderboard_id)
	change current_leaderboard_id = <leaderboard>
	ui_flow_manager_respond_to_action \{action = next_leaderboard}
endscript

script leaderboard_back_action 
	ui_flow_manager_respond_to_action \{action = go_back}
endscript

script submit_filter_query 
	switch ($leaderboardsearchvalue)
		case 0
		change \{lb_list_type = rating}
		case 1
		change \{lb_list_type = me}
		case 2
		change \{lb_list_type = friends}
	endswitch
	if (($current_leaderboard_group = song) && ($leaderboardsongtypevalue = 1))
		get_song_struct song = ($song_checksum)
		formattext checksumname = leaderboard_id 'lb_coop_%s' s = (<song_struct>.name)
		change current_leaderboard_id = <leaderboard_id>
		change \{checking_coop_song_flag = 1}
	elseif (($current_leaderboard_group = song) && ($leaderboardsongtypevalue = 0))
		change current_leaderboard_id = ($song_checksum)
		change \{checking_coop_song_flag = 0}
	endif
	if screenelementexists \{id = leaderboard_filter_container}
		destroyscreenelement \{id = leaderboard_filter_container}
	endif
	if screenelementexists \{id = leaderboard_container}
		destroyscreenelement \{id = leaderboard_container}
	endif
	if screenelementexists \{id = menu_backdrop_container}
		destroyscreenelement \{id = menu_backdrop_container}
	endif
	clean_up_user_control_helpers
	create_leaderboard_menu
endscript

script new_leaderboard_menu 
	printf \{"--- new_leaderboard_menu"}
	createscreenelement \{type = containerelement
		parent = root_window
		id = leaderboard_container
		just = [
			left
			top
		]
		pos = (0.0, 0.0)}
	anchor_id = <id>
	createscreenelement {
		type = spriteelement
		id = net_leaderboard_bg
		texture = online_frame_large
		parent = <anchor_id>
		just = [left top]
		pos = (60.0, 40.0)
	}
	scale_element_to_size {
		id = <id>
		target_width = 1170
		target_height = 600
	}
	create_leaderboard_headers {
		parent = <anchor_id>
		headers = <headers>
		column_pos = <column_pos>
	}
	text_scale = (0.8, 1.0)
	createscreenelement {
		type = textelement
		parent = <anchor_id>
		id = current_leaderboard_title_extra
		font = fontgrid_title_gh3
		scale = <text_scale>
		rgba = ($online_dark_purple)
		text = <search_type_title>
		just = [right top]
		pos = (590.0, 85.0)
		z_priority = 20
	}
	fit_text_into_menu_item id = <id> max_width = 320
	createscreenelement {
		type = textelement
		parent = <anchor_id>
		id = current_leaderboard_title
		font = fontgrid_title_gh3
		scale = <text_scale>
		rgba = [210 210 210 250]
		text = <title>
		just = [left top]
		pos = (610.0, 85.0)
		z_priority = 10
	}
	fit_text_into_menu_item id = <id> max_width = 400
	createscreenelement {
		type = spriteelement
		parent = <anchor_id>
		texture = online_icon_player
		pos = (320.0, 250.0)
		id = net_leaderboard_icon
		z_priority = 10
		just = [left top]
		scale = 1.5
	}
	netsessionfunc \{obj = match
		func = get_gamertag}
	createscreenelement {
		type = textelement
		parent = <anchor_id>
		id = leaderboard_your_gamertag
		font = text_a4
		pos = (380.0, 350.0)
		text = <name>
		rgba = ($online_light_blue)
		z_priority = 20
		scale = (0.6, 0.8)
	}
	fit_text_into_menu_item id = <id> max_width = 220
	score = (<my_data> [2])
	if ((($current_leaderboard_id) = lb_faceoff_winratio) || (($current_leaderboard_id) = lb_pro_faceoff_winratio) || (($current_leaderboard_id) = lb_battle_winratio))
		if NOT ((<my_data> [2]) = "no score")
			winlosevalue = (<my_data> [2])
			widestringtointeger \{winlosevalue}
			getleaderboardwinlosevalue winlosevalue = <winlosevalue>
			formattext textname = score "%a" a = <win> b = <lose>
		endif
	elseif ($current_leaderboard_group = song)
		if ((<my_data> [3]) = "no score")
			formattext textname = score "%a" a = (<my_data> [3])
		else
			get_diff_string_from_string_num num = (<my_data> [2])
			formattext textname = score "%a (%b)" a = (<my_data> [3]) b = <diff>
		endif
	endif
	createscreenelement {
		type = textelement
		parent = <anchor_id>
		id = leaderboard_your_score
		font = text_a4
		pos = (370.0, 390.0)
		text = <score>
		rgba = ($online_light_purple)
		z_priority = 20
		scale = (0.5, 0.7)
		alpha = 1
	}
	createscreenelement {
		type = spriteelement
		id = arrow_up
		texture = online_arrow
		parent = <anchor_id>
		just = [left top]
		pos = (750.0, 195.0)
		z_priority = 20
		scale = 1
		rgba = ($online_light_blue)
	}
	<id> :setprops flip_h
	createscreenelement {
		type = spriteelement
		id = arrow_down
		texture = online_arrow
		parent = <anchor_id>
		just = [left top]
		pos = (750.0, 590.0)
		z_priority = 20
		scale = 1
		rgba = ($online_light_blue)
	}
	createscreenelement \{type = vscrollingmenu
		parent = leaderboard_container
		id = gamertag_scrolling_menu
		internal_just = [
			left
			top
		]
		just = [
			left
			top
		]
		dims = (400.0, 480.0)
		pos = (580.0, 210.0)}
	createscreenelement \{type = vmenu
		parent = gamertag_scrolling_menu
		id = gamertag_vmenu
		just = [
			left
			top
		]
		internal_just = [
			left
			top
		]
		event_handlers = [
			{
				pad_up
				leaderboard_scroll
				params = {
					dir = up
				}
			}
			{
				pad_down
				leaderboard_scroll
				params = {
					dir = down
				}
			}
			{
				pad_option2
				hide_unhide_current_leaderboard
				params = {
					hide
				}
			}
			{
				pad_option2
				create_leaderboard_filter_dialog
			}
			{
				pad_back
				leaderboard_back_action
			}
		]
		dont_allow_wrap}
	array_count = 0
	color = black
	begin
	formattext checksumname = leaderboard_rank 'leaderboard_entry_%i_rank' i = <array_count>
	formattext checksumname = leaderboard_entry 'leaderboard_entry_%i_gamertag' i = <array_count>
	formattext checksumname = leaderboard_name 'leaderboard_entry_%i_name' i = <array_count>
	formattext checksumname = leaderboard_score 'leaderboard_entry_%i_score' i = <array_count>
	formattext checksumname = leaderboard_difficulty 'leaderboard_entry_%i_difficulty' i = <array_count>
	createscreenelement {
		type = containerelement
		dims = (30.0, 35.0)
		parent = gamertag_vmenu
		id = <leaderboard_entry>
		event_handlers = [
			{focus leaderboard_custom_focus}
			{unfocus leaderboard_custom_unfocus}
		]
	}
	if isxenon
		<id> :setprops event_handlers = [{pad_start show_gamercard}]
	endif
	cont_id = <id>
	text_scale = 0.65000004
	text_offset = (-80.0, 0.0)
	createscreenelement {
		type = textelement
		parent = <cont_id>
		id = <leaderboard_rank>
		local_id = rank
		font = text_a4
		scale = <text_scale>
		pos = (<text_offset> + (1.0, 0.0) * <column_pos> [0])
		rgba = ($online_light_blue)
		text = "-"
		just = [left top]
		z_priority = 10
	}
	createscreenelement {
		type = textelement
		parent = <cont_id>
		id = <leaderboard_name>
		local_id = the_text
		font = text_a4
		scale = <text_scale>
		rgba = ($online_light_blue)
		text = "-"
		just = [left top]
		z_priority = 10
		pos = (<text_offset> + (1.0, 0.0) * <column_pos> [1])
	}
	createscreenelement {
		type = textelement
		parent = <cont_id>
		local_id = score
		id = <leaderboard_score>
		font = text_a4
		scale = <text_scale>
		rgba = ($online_light_blue)
		text = "-"
		just = [right top]
		pos = (<text_offset> + (1.0, 0.0) * <column_pos> [2])
		block_events
		z_priority = 10
	}
	getarraysize \{headers}
	if (<array_size> = 4)
		createscreenelement {
			type = textelement
			parent = <cont_id>
			local_id = difficulty
			id = <leaderboard_difficulty>
			font = text_a4
			scale = <text_scale>
			rgba = ($online_light_blue)
			text = "-"
			just = [left top]
			pos = (<text_offset> + (1.0, 0.0) * <column_pos> [3])
			block_events
			z_priority = 10
		}
	endif
	if checksumequals a = black b = <color>
		bg_color = [0 0 0 100]
		color = grey
	else
		bg_color = [128 128 128 100]
		color = black
	endif
	<cont_id> :settags orig_bg_color = <bg_color>
	createscreenelement {
		type = spriteelement
		parent = <cont_id>
		local_id = bg_bar
		texture = white
		pos = (-85.0, 5.0)
		just = [left top]
		rgba = <bg_color>
		z_priority = 5
	}
	scale_element_to_size {
		id = <id>
		target_width = 500
		target_height = 35
	}
	createscreenelement {
		type = spriteelement
		parent = <cont_id>
		local_id = bg_bar_left
		texture = character_hub_hilite_bookend
		pos = (-112.0, 5.0)
		just = [left top]
		rgba = ($online_light_blue)
		alpha = 0
		z_priority = 5
	}
	scale_element_to_size {
		id = <id>
		target_width = 40
		target_height = 35
	}
	createscreenelement {
		type = spriteelement
		parent = <cont_id>
		local_id = bg_bar_right
		texture = character_hub_hilite_bookend
		pos = (410.0, 5.0)
		just = [left top]
		rgba = ($online_light_blue)
		alpha = 0
		z_priority = 5
	}
	scale_element_to_size {
		id = <id>
		target_width = 40
		target_height = 35
	}
	<array_count> = (<array_count> + 1)
	repeat 10
endscript

script create_leaderboard_headers \{pos = (500.0, 160.0)
		parent = leaderboard_container
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			80
			480
		]
		text_scale = 0.7}
	printf \{"--- create_leaderboard_headers"}
	if NOT screenelementexists id = <parent>
		printf \{"parent does not exist!"}
		return
	endif
	if screenelementexists \{id = leaderboard_column_header_cont}
		destroyscreenelement \{id = leaderboard_column_header_cont}
	endif
	createscreenelement {
		type = containerelement
		id = leaderboard_column_header_cont
		parent = <parent>
		pos = <pos>
		just = [left top]
	}
	cont_id = <id>
	createscreenelement {
		type = spriteelement
		id = leaderboard_header_bg
		parent = <cont_id>
		pos = (-55.0, -14.0)
		texture = store_frame_bottom_bg
		rgba = ($online_dark_purple)
		just = [left top]
	}
	scale_element_to_size {
		id = <id>
		target_width = 580
		target_height = 75
	}
	getarraysize \{headers}
	createscreenelement {
		type = textelement
		parent = <cont_id>
		font = text_a4
		scale = <text_scale>
		pos = ((-35.0, 0.0) + (1.0, 0.0) * <column_pos> [0])
		rgba = ($online_light_purple)
		text = (<headers> [0])
		just = [left top]
		z_priority = 10
	}
	fit_text_into_menu_item id = <id> max_width = 100
	createscreenelement {
		type = textelement
		parent = <cont_id>
		font = text_a4
		scale = <text_scale>
		pos = ((1.0, 0.0) * <column_pos> [1])
		rgba = ($online_light_purple)
		text = (<headers> [1])
		just = [left top]
		z_priority = 10
	}
	fit_text_into_menu_item id = <id> max_width = 200
	createscreenelement {
		type = textelement
		parent = <cont_id>
		font = text_a4
		scale = <text_scale>
		pos = ((1.0, 0.0) * <column_pos> [2])
		rgba = ($online_light_purple)
		text = (<headers> [2])
		just = [right top]
		z_priority = 10
	}
	if (<array_size> > 3)
		formattext textname = new_text "%s %d" s = (<headers> [2]) d = (<headers> [3])
		<id> :setprops {
			text = <new_text>
			just = [right top]
			pos = ((1.0, 0.0) * <column_pos> [3] + (50.0, 0.0))
		}
	endif
	fit_text_into_menu_item id = <id> max_width = 200
endscript

script leaderboard_custom_focus 
	obj_getid
	if screenelementexists id = {<objid> child = rank}
		setscreenelementprops id = {<objid> child = rank} rgba = ($online_dark_purple)
	endif
	if screenelementexists id = {<objid> child = the_text}
		setscreenelementprops id = {<objid> child = the_text} rgba = ($online_dark_purple)
	endif
	if screenelementexists id = {<objid> child = score}
		setscreenelementprops id = {<objid> child = score} rgba = ($online_dark_purple)
	endif
	if screenelementexists id = {<objid> child = difficulty}
		setscreenelementprops id = {<objid> child = difficulty} rgba = ($online_dark_purple)
	endif
	if screenelementexists id = {<objid> child = bg_bar}
		setscreenelementprops id = {<objid> child = bg_bar} rgba = ($online_light_blue)
	endif
	if screenelementexists id = {<objid> child = bg_bar_right}
		setscreenelementprops id = {<objid> child = bg_bar_right} alpha = 1
	endif
	if screenelementexists id = {<objid> child = bg_bar_left}
		setscreenelementprops id = {<objid> child = bg_bar_left} alpha = 1
	endif
endscript

script leaderboard_custom_unfocus 
	obj_getid
	if screenelementexists id = {<objid> child = rank}
		setscreenelementprops id = {<objid> child = rank} rgba = ($online_light_blue)
	endif
	if screenelementexists id = {<objid> child = the_text}
		setscreenelementprops id = {<objid> child = the_text} rgba = ($online_light_blue)
	endif
	if screenelementexists id = {<objid> child = score}
		setscreenelementprops id = {<objid> child = score} rgba = ($online_light_blue)
	endif
	if screenelementexists id = {<objid> child = difficulty}
		setscreenelementprops id = {<objid> child = difficulty} rgba = ($online_light_blue)
	endif
	<objid> :getsingletag orig_bg_color
	if screenelementexists id = {<objid> child = bg_bar}
		setscreenelementprops id = {<objid> child = bg_bar} rgba = <orig_bg_color>
	endif
	if screenelementexists id = {<objid> child = bg_bar_right}
		setscreenelementprops id = {<objid> child = bg_bar_right} alpha = 0
	endif
	if screenelementexists id = {<objid> child = bg_bar_left}
		setscreenelementprops id = {<objid> child = bg_bar_left} alpha = 0
	endif
endscript

script leaderboard_scroll \{dir = down}
	if (<dir> = down)
		if ($lb_selection_index = 9)
			launchevent \{type = unfocus
				target = gamertag_vmenu}
			change \{lb_selection_index = 0}
			change lb_offset = ($lb_offset + 10)
			if ($current_leaderboard_group = song)
				get_leaderboard_headers \{song = true}
			else
				get_leaderboard_headers \{song = false}
			endif
			if screenelementexists \{id = arrow_down}
				setscreenelementprops id = arrow_down rgba = ($online_dark_purple)
				wait \{0.2
					seconds}
			endif
			request_leaderboard <...>
		else
			change lb_selection_index = ($lb_selection_index + 1)
		endif
	else
		if ($lb_selection_index = 0)
			if ($lb_offset <= 1)
				printf \{"at very top... returning"}
				return
			elseif ($lb_offset < 11)
				change \{lb_offset = 1}
			else
				change lb_offset = ($lb_offset - 10)
			endif
			launchevent \{type = unfocus
				target = gamertag_vmenu}
			change \{lb_selection_index = 9}
			if ($current_leaderboard_group = song)
				get_leaderboard_headers \{song = true}
			else
				get_leaderboard_headers \{song = false}
			endif
			if screenelementexists \{id = arrow_up}
				setscreenelementprops id = arrow_up rgba = ($online_dark_purple) flip_h
				wait \{0.2
					seconds}
			endif
			request_leaderboard <...>
		else
			change lb_selection_index = ($lb_selection_index - 1)
		endif
	endif
	generic_menu_up_or_down_sound <dir>
endscript

script request_leaderboard 
	create_leaderboard_loading_bar
	netsessionfunc {
		obj = stats
		func = get_stats
		params = {
			leaderboard_id = ($current_leaderboard_id)
			callback = add_leaderboard_rows_to_menu
			offset = ($lb_offset)
			columns = <columns>
			num_rows = 10
			listtype = ($lb_list_type)
			rating_val = ($lb_rating_value)
		}
	}
endscript

script show_gamercard 
	formattext checksumname = leaderboard_entry 'leaderboard_entry_%i_gamertag' i = ($lb_selection_index)
	<leaderboard_entry> :gettags
	netsessionfunc func = showgamercard params = {player_xuid = <player_xuid>}
endscript

script create_leaderboard_filter_dialog \{menu_id = online_leaderboard_filter_menu
		vmenu_id = online_leaderboard_filter_vmenu
		pos = (400.0, 525.0)}
	launchevent \{type = unfocus
		target = gamertag_vmenu}
	search_vmenu_id = leaderboard_search_filter
	search_text_id = leaderboard_search_type
	difficulty_vmenu_id = difficulty_selection
	difficulty_text_id = lb_difficulty_selection_text
	song_vmenu_id = song_selection
	song_text_id = song_selection_text
	createscreenelement \{type = containerelement
		parent = root_window
		id = leaderboard_filter_container
		pos = (0.0, 0.0)}
	createscreenelement {
		type = vscrollingmenu
		parent = leaderboard_filter_container
		id = <menu_id>
		just = [center top]
		dims = (500.0, 480.0)
		pos = (640.0, 290.0)
		z_priority = 1
	}
	createscreenelement {
		type = vmenu
		parent = <menu_id>
		id = <vmenu_id>
		pos = (205.0, 0.0)
		just = [center top]
		internal_just = [left top]
		dims = (500.0, 480.0)
		event_handlers = [
			{pad_back hide_unhide_current_leaderboard}
			{pad_back destroy_leaderboard_filter}
			{pad_back generic_menu_pad_back_sound}
			{pad_up generic_menu_up_or_down_sound params = {up}}
			{pad_down generic_menu_up_or_down_sound params = {down}}
		]
		exclusive_device = ($primary_controller)
	}
	displaysprite \{id = leaderboard_filter_frame
		parent = leaderboard_filter_container
		tex = online_frame_large
		pos = (640.0, 100.0)
		just = [
			center
			top
		]
		z = 2}
	displaysprite \{id = leaderboard_filter_frame_crown
		parent = leaderboard_filter_container
		tex = online_frame_crown
		pos = (640.0, 42.0)
		just = [
			center
			top
		]
		z = 3
		dims = (256.0, 105.0)}
	createscreenelement {
		type = textelement
		parent = leaderboard_filter_container
		font = fontgrid_title_gh3
		scale = 0.85
		rgba = ($online_dark_purple)
		text = "LEADERBOARD FILTERS"
		pos = (640.0, 135.0)
		just = [center top]
		z_priority = 100.0
	}
	createscreenelement {
		type = textelement
		id = search
		parent = <vmenu_id>
		font = fontgrid_title_gh3
		scale = 0.65000004
		rgba = ($online_light_blue)
		text = "SEARCH FOR:"
		just = [left top]
		z_priority = 100.0
		event_handlers = [
			{focus net_custom_ui_focus params = {this_id = search text_id = <search_text_id> vmenu = <vmenu_id>}}
			{unfocus net_custom_ui_unfocus params = {text_id = <search_text_id>}}
			{pad_choose net_custom_ui_change_focus params = {this_id = search text_id = <search_text_id> to = <search_vmenu_id> from = <vmenu_id>}}
			{pad_choose net_copy_intial_params params = {copy_from = leaderboardsearchvalue copy_to = copyofglobal}}
		]
	}
	createscreenelement {
		type = vmenu
		id = <search_vmenu_id>
		parent = search
		pos = (550.0, 0.0)
		just = [left top]
		internal_just = [left top]
		event_handlers = [
			{pad_up animate_helper_arrows params = {direction = up}}
			{pad_down animate_helper_arrows params = {direction = down}}
			{pad_up net_custom_up_down params = {text = <search_text_id> global = copyofglobal type = search direction = up}}
			{pad_down net_custom_up_down params = {text = <search_text_id> global = copyofglobal type = search direction = down}}
			{pad_back net_commit_or_reset_params params = {text = <search_text_id> global = leaderboardsearchvalue type = search}}
			{pad_back net_custom_ui_change_unfocus params = {action = back to = <vmenu_id> from = <search_vmenu_id> menu = search}}
			{pad_choose net_commit_or_reset_params params = {commit copy_from = copyofglobal copy_to = leaderboardsearchvalue}}
			{pad_choose net_custom_ui_change_unfocus params = {action = choose to = <vmenu_id> from = <search_vmenu_id> menu = search}}
		]
	}
	createscreenelement {
		type = textelement
		id = <search_text_id>
		parent = <search_vmenu_id>
		font = fontgrid_title_gh3
		scale = 1.0
		rgba = ($online_light_blue)
		text = ($filtertypes.search.values [($leaderboardsearchvalue)])
		just = [left top]
		z_priority = 100.0
	}
	fit_text_into_menu_item id = <id> max_width = 375
	createscreenelement {
		type = textelement
		id = lb_difficulty
		parent = <vmenu_id>
		font = fontgrid_title_gh3
		scale = 0.65000004
		rgba = ($online_light_blue)
		text = "DIFFICULTY:"
		just = [left top]
		z_priority = 100.0
		event_handlers = [
			{focus net_custom_ui_focus params = {this_id = lb_difficulty text_id = <difficulty_text_id> vmenu = <vmenu_id>}}
			{unfocus net_custom_ui_unfocus params = {text_id = <difficulty_text_id>}}
			{pad_choose net_custom_ui_change_focus params = {this_id = lb_difficulty text_id = <difficulty_text_id> to = <difficulty_vmenu_id> from = <vmenu_id>}}
			{pad_choose net_copy_intial_params params = {copy_from = leaderboarddiffvalue copy_to = copyofglobal}}
		]
	}
	createscreenelement {
		type = vmenu
		id = <difficulty_vmenu_id>
		parent = lb_difficulty
		pos = (550.0, 0.0)
		just = [left top]
		internal_just = [left top]
		event_handlers = [
			{pad_up animate_helper_arrows params = {direction = up}}
			{pad_down animate_helper_arrows params = {direction = down}}
			{pad_up net_custom_up_down params = {text = <difficulty_text_id> global = copyofglobal type = lb_diff direction = up}}
			{pad_down net_custom_up_down params = {text = <difficulty_text_id> global = copyofglobal type = lb_diff direction = down}}
			{pad_back net_commit_or_reset_params params = {text = <difficulty_text_id> global = leaderboarddiffvalue type = lb_diff}}
			{pad_back net_custom_ui_change_unfocus params = {action = back to = <vmenu_id> from = <difficulty_vmenu_id> menu = search}}
			{pad_choose net_commit_or_reset_params params = {commit copy_from = copyofglobal copy_to = leaderboarddiffvalue}}
			{pad_choose net_custom_ui_change_unfocus params = {action = choose to = <vmenu_id> from = <difficulty_vmenu_id> menu = search}}
		]
	}
	createscreenelement {
		type = textelement
		id = <difficulty_text_id>
		parent = <difficulty_vmenu_id>
		font = fontgrid_title_gh3
		scale = 1.0
		rgba = ($online_light_blue)
		text = ($filtertypes.lb_diff.values [($leaderboarddiffvalue)])
		just = [left top]
		z_priority = 100.0
	}
	fit_text_into_menu_item id = <id> max_width = 375
	createscreenelement {
		type = textelement
		id = song_type
		parent = <vmenu_id>
		font = fontgrid_title_gh3
		scale = 0.65000004
		rgba = ($online_light_blue)
		text = "SEARCH FOR:"
		just = [left top]
		z_priority = 100.0
		event_handlers = [
			{focus net_custom_ui_focus params = {this_id = song_type text_id = <song_text_id> vmenu = <vmenu_id>}}
			{unfocus net_custom_ui_unfocus params = {text_id = <song_text_id>}}
			{pad_choose net_custom_ui_change_focus params = {this_id = song_type text_id = <song_text_id> to = <song_vmenu_id> from = <vmenu_id>}}
			{pad_choose net_copy_intial_params params = {copy_from = leaderboardsongtypevalue copy_to = copyofglobal}}
		]
	}
	createscreenelement {
		type = vmenu
		id = <song_vmenu_id>
		parent = song_type
		pos = (550.0, 0.0)
		just = [left top]
		internal_just = [left top]
		event_handlers = [
			{pad_up animate_helper_arrows params = {direction = up}}
			{pad_down animate_helper_arrows params = {direction = down}}
			{pad_up net_custom_up_down params = {text = <song_text_id> global = copyofglobal type = song_type direction = up}}
			{pad_down net_custom_up_down params = {text = <song_text_id> global = copyofglobal type = song_type direction = down}}
			{pad_back net_commit_or_reset_params params = {text = <song_text_id> global = leaderboardsongtypevalue type = song_type}}
			{pad_back net_custom_ui_change_unfocus params = {action = back to = <vmenu_id> from = <song_vmenu_id> menu = song_type}}
			{pad_choose net_commit_or_reset_params params = {commit copy_from = copyofglobal copy_to = leaderboardsongtypevalue}}
			{pad_choose net_custom_ui_change_unfocus params = {action = choose to = <vmenu_id> from = <song_vmenu_id> menu = song_type}}
		]
	}
	createscreenelement {
		type = textelement
		id = <song_text_id>
		parent = <song_vmenu_id>
		font = fontgrid_title_gh3
		scale = 1.0
		rgba = ($online_light_blue)
		text = ($filtertypes.song_type.values [($leaderboardsongtypevalue)])
		just = [left top]
		z_priority = 100.0
	}
	fit_text_into_menu_item id = <id> max_width = 375
	createscreenelement {
		type = textelement
		id = submit_selection
		parent = <vmenu_id>
		font = fontgrid_title_gh3
		scale = 0.65000004
		rgba = ($online_light_blue)
		text = "DONE"
		just = [left top]
		z_priority = 100.0
		event_handlers = [
			{focus net_custom_ui_focus params = {this_id = submit_selection vmenu = <vmenu_id>}}
			{unfocus net_custom_ui_unfocus}
			{pad_choose submit_filter_query}
		]
	}
	<vmenu_id> :settags current_focus = first_time
	block_unblock_filter_criterias
	launchevent type = focus target = <vmenu_id>
endscript

script destroy_leaderboard_filter 
	launchevent \{type = unfocus
		target = online_leaderboard_filter_vmenu}
	if screenelementexists \{id = leaderboard_filter_container}
		destroyscreenelement \{id = leaderboard_filter_container}
	endif
	launchevent \{type = focus
		target = gamertag_vmenu}
endscript

script block_unblock_filter_criterias 
	if NOT ($current_leaderboard_group = song)
		if screenelementexists \{id = lb_difficulty}
			lb_difficulty :setprops not_focusable rgba = ($online_grey)
		endif
		if screenelementexists \{id = lb_difficulty_selection_text}
			lb_difficulty_selection_text :setprops rgba = ($online_grey) text = "N/A"
		endif
		if screenelementexists \{id = song_type}
			song_type :setprops not_focusable rgba = ($online_grey)
		endif
		if screenelementexists \{id = song_selection_text}
			song_selection_text :setprops rgba = ($online_grey) text = "N/A"
		endif
	endif
endscript

script create_blue_bg \{id = net_blue_bg_cont
		parent = root_window
		pos = (0.0, 0.0)
		z_priority = 0
		window_width = 250
		window_body_height = 40
		bg_fill_color = [
			0
			0
			0
			255
		]}
	createscreenelement {
		type = containerelement
		id = <id>
		parent = <parent>
		pos = <pos>
		just = [left top]
		z_priority = <z_priority>
	}
	cont_id = <id>
	base_z = <z_priority>
	top_dims = ((0.0, 64.0) + <window_width> * (1.0, 0.0))
	top_pos = (0.0, 0.0)
	displaysprite {
		parent = <cont_id>
		tex = window_frame_cap
		rgba = ($online_medium_blue)
		pos = <top_pos>
		just = [left top]
		z_priority = <base_z>
	}
	scale_element_to_size {
		id = <id>
		target_width = (<top_dims>.(1.0, 0.0))
		target_height = (<top_dims>.(0.0, 1.0))
	}
	displaysprite {
		parent = <cont_id>
		tex = window_fill_cap
		rgba = <bg_fill_color>
		pos = <top_pos>
		just = [left top]
		z_priority = <base_z>
	}
	scale_element_to_size {
		id = <id>
		target_width = (<top_dims>.(1.0, 0.0))
		target_height = (<top_dims>.(0.0, 1.0))
	}
	getscreenelementdims id = <id>
	middle_pos = (<top_pos> + <height> * (0.0, 1.0))
	middle_dims = ((0.0, 1.0) * <window_body_height> + <window_width> * (1.0, 0.0))
	displaysprite {
		parent = <cont_id>
		tex = window_frame_body_tall
		rgba = ($online_medium_blue)
		pos = <middle_pos>
		just = [left top]
		z_priority = <base_z>
		flip_h
	}
	scale_element_to_size {
		id = <id>
		target_width = (<middle_dims>.(1.0, 0.0))
		target_height = (<middle_dims>.(0.0, 1.0))
	}
	displaysprite {
		parent = <cont_id>
		tex = window_fill_body_large
		rgba = <bg_fill_color>
		pos = <middle_pos>
		just = [left top]
		z_priority = <base_z>
		flip_h
	}
	scale_element_to_size {
		id = <id>
		target_width = (<middle_dims>.(1.0, 0.0))
		target_height = (<middle_dims>.(0.0, 1.0))
	}
	getscreenelementdims id = <id>
	bottom_pos = (<middle_pos> + <height> * (0.0, 1.0))
	bottom_dims = ((0.0, 64.0) + <window_width> * (1.0, 0.0))
	displaysprite {
		parent = <cont_id>
		tex = window_frame_cap
		rgba = ($online_medium_blue)
		pos = <bottom_pos>
		just = [left top]
		z_priority = <base_z>
		flip_h
	}
	scale_element_to_size {
		id = <id>
		target_width = (<bottom_dims>.(1.0, 0.0))
		target_height = (<bottom_dims>.(0.0, 1.0))
	}
	displaysprite {
		parent = <cont_id>
		tex = window_fill_cap
		rgba = <bg_fill_color>
		pos = <bottom_pos>
		just = [left top]
		z_priority = <base_z>
		flip_h
	}
	scale_element_to_size {
		id = <id>
		target_width = (<bottom_dims>.(1.0, 0.0))
		target_height = (<bottom_dims>.(0.0, 1.0))
	}
	getscreenelementdims id = <id>
	cont_dims = (<bottom_pos> + (1.0, 0.0) * <width> + (0.0, 1.0) * <height>)
	setscreenelementprops {
		id = <cont_id>
		dims = <cont_dims>
	}
	return id = <cont_id>
endscript

script hide_unhide_current_leaderboard 
	if gotparam \{hide}
		alpha_value = 0.0
	else
		alpha_value = 1.0
	endif
	if screenelementexists \{id = leaderboard_container}
		setscreenelementprops {
			id = leaderboard_container
			alpha = <alpha_value>
		}
	endif
endscript

script get_diff_string_from_string_num 
	if gotparam \{num}
		switch <num>
			case "1"
			return \{diff = "E"}
			case "2"
			return \{diff = "M"}
			case "3"
			return \{diff = "H"}
			case "4"
			return \{diff = "EX"}
		endswitch
	endif
endscript
