player1_status = {
	controller = 0
	player = 1
	star_power_usable = 1
	star_power_amount = 0.0
	star_tilt_threshold = 16.0
	playline_song_measure_time = 0
	star_power_used = 0
	current_run = 0
	resting_whammy_position = -0.76
	bot_play = 0
	bot_pattern = 0
	bot_strum = 0
	bot_star_power = 0
	text = 'p1'
	part = guitar
	lefthanded_gems = 0
	lefthanded_button_ups = 0
	lefthanded_gems_flip_save = 0
	lefthanded_button_ups_flip_save = 0
	current_song_gem_array = none
	current_song_fretbar_array = none
	current_song_star_array = none
	current_star_array_entry = 0
	current_song_beat_time = 0
	playline_song_beat_time = 0
	current_song_measure_time = 0
	current_detailedstats_array = none
	current_detailedstats_max_array = none
	current_detailedstats_array_entry = 0
	time_in_lead = 0.0
	hammer_on_tolerance = 0.0
	check_time_early = 0.0
	check_time_late = 0.0
	whammy_on = 0
	star_power_sequence = 0
	star_power_note_count = 0
	score = 0.0
	notes_hit = 0
	total_notes = 0
	best_run = 0
	max_notes = 0
	base_score = 0.0
	stars = 0
	sp_phrases_hit = 0
	sp_phrases_total = 0
	multiplier_count = 0
	num_multiplier = 0
	sim_bot_score = 0.0
	scroll_time = 5.0
	game_speed = 1.5
	highway_speed = 0.0
	highway_material = none
	guitar_volume = 100
	last_guitar_volume = 100
	last_faceoff_note = 100
	net_whammy = 0.0
	is_local_client = 1
	highway_layout = default_highway
	net_id_first = 0
	net_id_second = 0
	battlemode_creation_selection = -1
	current_num_powerups = 0
	final_blow_powerup = -1
	battle_text_count = 0
	shake_notes = -1
	double_notes = -1
	diffup_notes = -1
	lefty_notes = -1
	whammy_attack = -1
	stealing_powerup = -1
	death_lick_attack = -1.0
	last_hit_note = none
	broken_string_mask = 0
	broken_string_green = 0
	broken_string_red = 0
	broken_string_yellow = 0
	broken_string_blue = 0
	broken_string_orange = 0
	last_selected_attack = -1
	battle_num_attacks = 0
	hold_difficulty_up = 0.0
	save_health = 0.0
	save_num_powerups = 0
	gem_filler_enabled_time_on = -1
	gem_filler_enabled_time_off = -1
	current_health = 0.0
	health_invincible_time = 0.0
	character_id = axel
	outfit = 1
	style = 1
	instrument_id = instrument_les_paul_black
	saved_character_id = none
	saved_outfit = 0
	saved_style = 0
	saved_instrument_id = none
	band_member = guitarist
	cash = 0
	new_cash = 0
	fourx_fingerfxid01 = jow_nil
	fourx_fingerfxid02 = jow_nil
	fourx_fingerfxid03 = jow_nil
	fourx_fingerfxid04 = jow_nil
	button_checker_up_time = -1.0
	last_playline_song_beat_time = 1.0
	last_playline_song_beat_change_time = 1.0
}
player2_status = {
	controller = 1
	player = 2
	star_power_usable = 1
	star_power_amount = 0.0
	star_tilt_threshold = 16.0
	playline_song_measure_time = 0
	star_power_used = 0
	current_run = 0
	resting_whammy_position = -0.76
	bot_play = 0
	bot_pattern = 0
	bot_strum = 0
	bot_star_power = 0
	text = 'p2'
	part = guitar
	lefthanded_gems = 0
	lefthanded_button_ups = 0
	lefthanded_gems_flip_save = 0
	lefthanded_button_ups_flip_save = 0
	current_song_gem_array = none
	current_song_fretbar_array = none
	current_song_star_array = none
	current_star_array_entry = 0
	current_song_beat_time = 0
	playline_song_beat_time = 0
	current_song_measure_time = 0
	current_detailedstats_array = none
	current_detailedstats_max_array = none
	current_detailedstats_array_entry = 0
	time_in_lead = 0.0
	hammer_on_tolerance = 0.0
	check_time_early = 0.0
	check_time_late = 0.0
	whammy_on = 0
	star_power_sequence = 0
	star_power_note_count = 0
	score = 0.0
	notes_hit = 0
	total_notes = 0
	best_run = 0
	max_notes = 0
	base_score = 0.0
	stars = 0
	sp_phrases_hit = 0
	sp_phrases_total = 0
	multiplier_count = 0
	num_multiplier = 0
	sim_bot_score = 0.0
	scroll_time = 5.0
	game_speed = 1.5
	highway_speed = 0.0
	highway_material = none
	guitar_volume = 100
	last_guitar_volume = 100
	last_faceoff_note = 100
	is_local_client = 1
	highway_layout = default_highway
	net_id_first = 0
	net_id_second = 0
	battlemode_creation_selection = -1
	current_num_powerups = 0
	final_blow_powerup = -1
	battle_text_count = 0
	shake_notes = -1
	double_notes = -1
	diffup_notes = -1
	lefty_notes = -1
	whammy_attack = -1
	stealing_powerup = -1
	death_lick_attack = -1.0
	last_hit_note = none
	broken_string_mask = 0
	broken_string_green = 0
	broken_string_red = 0
	broken_string_yellow = 0
	broken_string_blue = 0
	broken_string_orange = 0
	last_selected_attack = -1
	battle_num_attacks = 0
	hold_difficulty_up = 0.0
	save_health = 0.0
	save_num_powerups = 0
	gem_filler_enabled_time_on = -1
	gem_filler_enabled_time_off = -1
	current_health = 0.0
	health_invincible_time = 0.0
	character_id = axel
	outfit = 1
	style = 1
	instrument_id = instrument_les_paul_black
	saved_character_id = none
	saved_outfit = 0
	saved_style = 0
	saved_instrument_id = none
	band_member = bassist
	cash = 0
	new_cash = 0
	fourx_fingerfxid01 = jow_nil
	fourx_fingerfxid02 = jow_nil
	fourx_fingerfxid03 = jow_nil
	fourx_fingerfxid04 = jow_nil
	button_checker_up_time = -1.0
	last_playline_song_beat_time = 1.0
	last_playline_song_beat_change_time = 1.0
}
show_gpu_time = 0
output_gpu_log = 0
show_cpu_time = 0
show_play_log = 0
play_log_lines = 10
show_guitar_tilt = 0
nxwatson_channels = 1
output_song_stats = 0
show_sensor_debug = 0
player1_device = 0
player2_device = 1
current_song = beyondbeautiful
current_difficulty = easy
current_difficulty2 = easy
current_difficulty_coop = easy
current_level = load_z_fenway
previous_level = load_z_fenway
current_highway = highway
current_time = 0.0
current_deltatime = 0.0167
current_starttime = 0
current_endtime = 0
current_looppoint = -1000000
current_speedfactor = 1.0
autolaunch_startnow = 0
current_song_qpak = none
current_band = 1
current_transition = none
current_num_players = 1
max_num_players = 2
num_players_finished = 0
disable_band = 0
disable_crowd = 0
disable_note_input = 0
tutorial_disable_hud = 0
is_network_game = 0
net_ready_to_start = 0
rich_presence_context = presence_main_menu
game_mode = p1_quickplay
skip_boot_menu = 0
show_movies = 1
is_demo_mode = 0
downloadcontent_enabled = 0
input_mode = record
replay_suspend = 1
current_boss = boss_tommorello_props
boss_battle = 0
boss_controller = 0
boss_oldcontroller = 0
boss_pattern = 0
boss_strum = 0
boss_lastwhammytime = 0
boss_lastbrokenstringtime = 0
last_bossresponse_array_entry = 0
faceoff_enabled = 0
faceoff_note_array_p1 = none
faceoff_note_array_p2 = none
faceoff_note_array_count_p1 = 0
faceoff_note_array_count_p2 = 0
faceoff_note_array_size_p1 = 0
faceoff_note_array_size_p2 = 0
faceoff_note_time_p1 = 0
faceoff_note_time_p2 = 0
faceoff_time_offset_p1 = 0
faceoff_time_offset_p2 = 0
faceoffv_note_array_p1 = none
faceoffv_note_array_p2 = none
faceoffv_note_array_count_p1 = 0
faceoffv_note_array_count_p2 = 0
faceoffv_note_array_size_p1 = 0
faceoffv_note_array_size_p2 = 0
faceoffv_note_time_p1 = 0
faceoffv_note_time_p2 = 0
faceoffv_note_on_p1 = 0
faceoffv_note_on_p2 = 0
faceoffv_time_offset_p1 = 0
faceoffv_time_offset_p2 = 0
boss_play = 0
input_debug_display = 0
display_debug_input = 0
output_log_file = 0
practice_start_time = 0
practice_end_time = 0
startup_song = beyondbeautiful
startup_difficulty = easy
time_gem_offset = 0.0
time_input_offset = 0.0
p1_ready = 0
p2_ready = 0
max_num_powerups = 3
current_powerups_p1 = [
	0
	0
	0
]
current_powerups_p2 = [
	0
	0
	0
]
current_battle_text_p1 = [
	id
	id
	id
]
current_battle_text_p2 = [
	id
	id
	id
]
battle_p1_highway_hammer = 0
battle_p2_highway_hammer = 0
battle_flicker_difficulty_p1 = 2
battle_flicker_difficulty_p2 = 2
show_battle_text = 1
devil_finish = 0
save_current_powerups_p1 = [
	0
	0
	0
]
save_current_powerups_p2 = [
	0
	0
	0
]
battle_sudden_death = 0
cheat_airguitar = -1
cheat_performancemode = -1
cheat_hyperspeed = -1
cheat_nofail = -1
cheat_precisionmode = -1
boss_wuss_out = 0
crowd_model_array = none
p1_last_song_detailed_stats = [
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
]
p2_last_song_detailed_stats = [
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
]
p1_last_song_detailed_stats_max = [
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
]
p2_last_song_detailed_stats_max = [
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
	0
]
failed_song_time = 0.0
current_section_array = none
current_section_array_entry = 0
last_time_in_lead = 0.0
last_time_in_lead_player = -1
enable_saving = 1
primary_controller = 0
primary_controller_assigned = 0
invite_controller = -1
num_career_bands = 5
streamall_fsb_index = -1
whammy_mania_achievement_invalidated = 0
vocalist_height = 1.6
winning_player_camera_percentage = 100

script guitar_startup 
	change \{assertonmissingscripts = 1}
	if isps3
		change \{show_2d_particles = 0}
		change \{interleave_animations = 1}
	endif
	<load_screen> = 'boot_legal'
	if isps3
		getterritory
		if gotparam \{territory}
			if (<territory> = territory_europe)
				<load_screen> = 'boot_legal_eu'
			endif
		endif
	endif
	if iswinport
		if notismacport
			displayloadingscreen \{'boot_legal'
				spin_texture = 'load_wheel'
				spin_x = 384
				spin_y = 490
				localized}
		else
			displayloadingscreen \{'boot_legal_mac'
				spin_texture = 'load_wheel'
				spin_x = 384
				spin_y = 490
				localized}
		endif
	else
		displayloadingscreen <load_screen> spin_texture = 'load_wheel' spin_x = 400 spin_y = 500 localized
	endif
	gettruestarttime
	change \{legal_timer = 0}
	legal_start_time = <starttime>
	stoprendering
	printf \{"Initializing Heaps"}
	getplatform
	switch <platform>
		case xenon
		<heap_size_globalpak> = (74 * 1024 * 1024)
		<heap_size_globalpak_vram> = 0
		<heap_size_audio> = (11540 * 1024)
		<heap_size_audio_vram> = 0
		<heap_size_musician> = (9001 * 1024)
		<heap_size_musician_vram> = (0 * 1024)
		<heap_size_guitarist_anim> = (10 * 1024 * 1024)
		<heap_size_guitarist_anim_vram> = (0 * 1024)
		<heap_size_rhythm_anim> = (2 * 1024 * 1024)
		<heap_size_rhythm_anim_vram> = (0 * 1024 * 1024)
		<heap_size_drummer_anim> = (2 * 1024 * 1024)
		<heap_size_drummer_anim_vram> = (0 * 1024 * 1024)
		<heap_size_vocalist_anim> = (10 * 1024 * 1024)
		<heap_size_vocalist_anim_vram> = (0 * 1024 * 1024)
		<heap_size_instrument> = (1950 * 1024)
		<heap_size_song> = (4500 * 1024)
		<heap_size_instrument_vram> = (0 * 1024)
		<heap_size_song_vram> = (0 * 1024)
		<heap_size_zones> = (35 * 1024 * 1024)
		<heap_size_zones_vram> = (0 * 1024)
		<heap_size_downloads> = (1024 * 1024)
		<heap_size_downloads_vram> = (0 * 1024)
		case ps3
		<heap_size_globalpak> = (4900 * 1024)
		<heap_size_globalpak_vram> = (60 * 1024 * 1024)
		<heap_size_audio> = (32 * 1024)
		<heap_size_audio_vram> = (11540 * 1024)
		<heap_size_musician> = (2400 * 1024)
		<heap_size_musician_vram> = (8950 * 1024)
		<heap_size_guitarist_anim> = (10 * 1024 * 1024)
		<heap_size_guitarist_anim_vram> = (5 * 1024)
		<heap_size_rhythm_anim> = (2 * 1024 * 1024)
		<heap_size_rhythm_anim_vram> = (5 * 1024)
		<heap_size_drummer_anim> = (2 * 1024 * 1024)
		<heap_size_drummer_anim_vram> = (5 * 1024)
		<heap_size_vocalist_anim> = (10 * 1024 * 1024)
		<heap_size_vocalist_anim_vram> = (5 * 1024)
		<heap_size_instrument> = (300 * 1024)
		<heap_size_song> = (4500 * 1024)
		<heap_size_instrument_vram> = (3200 * 1024)
		<heap_size_song_vram> = (5 * 1024)
		<heap_size_zones> = (1600 * 1024)
		<heap_size_zones_vram> = (32 * 1024 * 1024)
		<heap_size_downloads> = (256 * 1024)
		<heap_size_downloads_vram> = (768 * 1024)
		default
		scriptassert \{"Unrecognized platform for heap setup"}
	endswitch
	pushmemprofile \{'Global Pak Heap'}
	meminitheap name = 'heap_global_pak' size = <heap_size_globalpak> vram_size = <heap_size_globalpak_vram>
	popmemprofile
	pushmemprofile \{'Characters'}
	meminitheap name = 'heap_musician1' size = <heap_size_musician> vram_size = <heap_size_musician_vram>
	meminitheap name = 'heap_musician2' size = <heap_size_musician> vram_size = <heap_size_musician_vram>
	meminitheap name = 'heap_musician3' size = <heap_size_musician> vram_size = <heap_size_musician_vram>
	meminitheap name = 'heap_musician4' size = <heap_size_musician> vram_size = <heap_size_musician_vram>
	meminitheap name = 'heap_musician5' size = <heap_size_musician> vram_size = <heap_size_musician_vram>
	meminitheap name = 'heap_musician1_anim' size = <heap_size_guitarist_anim> vram_size = <heap_size_guitarist_anim_vram>
	meminitheap name = 'heap_musician2_anim' size = <heap_size_guitarist_anim> vram_size = <heap_size_guitarist_anim_vram>
	meminitheap name = 'heap_musician3_anim' size = <heap_size_rhythm_anim> vram_size = <heap_size_rhythm_anim_vram>
	meminitheap name = 'heap_musician4_anim' size = <heap_size_drummer_anim> vram_size = <heap_size_drummer_anim_vram>
	meminitheap name = 'heap_musician5_anim' size = <heap_size_vocalist_anim> vram_size = <heap_size_vocalist_anim_vram>
	meminitheap name = 'heap_instrument1' size = <heap_size_instrument> vram_size = <heap_size_instrument_vram>
	meminitheap name = 'heap_instrument2' size = <heap_size_instrument> vram_size = <heap_size_instrument_vram>
	meminitheap name = 'heap_instrument3' size = <heap_size_instrument> vram_size = <heap_size_instrument_vram>
	meminitheap name = 'heap_instrument4' size = <heap_size_instrument> vram_size = <heap_size_instrument_vram>
	meminitheap name = 'heap_instrument5' size = <heap_size_instrument> vram_size = <heap_size_instrument_vram>
	meminitheap name = 'heap_zones' size = <heap_size_zones> vram_size = <heap_size_zones_vram>
	meminitheap name = 'heap_downloads' size = <heap_size_downloads> vram_size = <heap_size_downloads_vram>
	meminitheap name = 'heap_song' size = <heap_size_song> vram_size = <heap_size_song_vram>
	if isfmodenabled
		meminitheap name = 'heap_audio' size = <heap_size_audio> vram_size = <heap_size_audio_vram>
	endif
	popmemprofile
	printf \{"Initializing COIM"}
	pushmemprofile \{'COIM'}
	initcoim \{size = $generic_coim_size
		blockalign = $generic_coim_blockalign
		coim_min_scratch_blocks
		$generic_coim_params}
	popmemprofile
	compositeobjectmanager_startup
	printf \{"Initializing memory card system"}
	memcardsysteminitialize
	printf \{"Initializing Anim Cache"}
	initanimcompresstable \{'anims\\standardkeyq.bin'
		q48}
	initanimcompresstable \{'anims\\standardkeyt.bin'
		t48}
	pushmemprofile \{'Animation Cache'}
	initanimsystem {
		animheapsize = 7335936
		cacheblockalign = 3072
		animnxbuffersize = (2 * 1024 * 1024)
		defcachetype = fullres
		maxanimstages = 2
		maxanimsubsets = 4
		maxdegenerateanims = 3
	}
	popmemprofile
	initlightmanager \{max_lights = 128
		max_model_lights = 350
		max_groups = 30
		max_render_verts_per_geom = 4096}
	lightshow_addnodeflags
	lightshow_init \{notes = $lightshow_notemapping
		nodeflags = $lightshow_statenodeflags
		coloroverrideexclusions = $lightshow_coloroverrideexcludelights}
	lightshow_setprocessors \{shared = $lightshow_sharedprocessors}
	create_node_flags
	printf \{"Initializing Replay buffer"}
	getplatform
	switch <platform>
		case xenon
		<replay_buffer_size> = (1024 * 5)
		case ps3
		<replay_buffer_size> = (1024 * 1)
		default
		scriptassert \{"Unrecognized platform for replay buffer setup"}
	endswitch
	allocatedatabuffer name = replay kb = <replay_buffer_size>
	printf \{"Initializing Cutscenes"}
	loadpak \{'pak/cutscene_infos/cutscene_infos.pak'
		no_vram}
	engineconfig \{particlelod = 0}
	if ($is_demo_mode = 1)
		change \{enable_button_cheats = 0}
	endif
	if ($enable_button_cheats = 1)
		launchviewer
		change \{select_shift = 1}
	endif
	printf \{"Creating sound busses"}
	master_sfx_adding_sound_busses
	printf \{"Calling user startup script"}
	if scriptexists \{startup}
		startup
	endif
	printf \{"Loading Paks"}
	loadpak \{'zones/global/global.pak'
		heap = heap_global_pak
		splitfile}
	parsenodearray \{queue
		zone_name = global
		array_name = global_nodearray}
	loadpak \{'pak/perm_anims/perm_anims.pak'
		heap = bottomupheap
		no_vram}
	if NOT isps3
		if gotextramemory
			mempushcontext \{debugheap}
		endif
	endif
	loadpak \{'fonts/debug.pak'}
	if NOT isps3
		if gotextramemory
			mempopcontext
		endif
	endif
	setfontproperties \{'debug'
		color_tab = $default_font_colors
		debug_font}
	setfontnonproportionalnumbers \{'debug'}
	loadpak \{'fonts/text_a1.pak'}
	setfontproperties \{'text_A1'
		color_tab = $default_font_colors}
	buttons_font = 'ButtonsXenon'
	setfontproperties <buttons_font> buttons_font
	setfontproperties \{'text_a3'
		color_tab = $default_font_colors}
	setfontproperties \{'text_a4'
		color_tab = $default_font_colors}
	setfontproperties \{'text_a5'
		color_tab = $default_font_colors}
	setfontproperties \{'text_a6'
		color_tab = $default_font_colors}
	setfontproperties \{'num_a7'
		color_tab = $default_font_colors}
	setfontproperties \{'text_a8'
		color_tab = $default_font_colors}
	setfontproperties \{'num_a9'
		color_tab = $default_font_colors}
	setfontproperties \{'text_a10'
		color_tab = $default_font_colors}
	setfontproperties \{'text_a11'
		color_tab = $default_font_colors}
	setfontproperties \{'text_a11_Large'
		color_tab = $default_font_colors}
	setfontproperties \{'fontgrid_title_gh3'
		color_tab = $default_font_colors}
	if isfmodenabled
		loadfsb \{filename = 'streams/streamall'
			numstreams = 4
			nowait}
		change streamall_fsb_index = <fsb_index>
		enableremovesoundentry \{enable}
		loadpak \{'zones/global/global_sfx.pak'
			heap = heap_audio}
	endif
	setscenepermanent \{scene = 'zones/global/global_gfx.scn'
		permanent}
	setup_models
	printf \{"Loading Zone"}
	mempushcontext \{heap_zones}
	createpakmanmap \{map = zones
		links = gh3zones
		folder = 'zones/'
		uselinkslots}
	mempopcontext
	printf \{"current_level = %s"
		s = $current_level}
	setpakmancurrentblock \{map = zones
		pak = none
		block_scripts = 1}
	setpakmancurrentblock \{map = zones
		pak = z_soundcheck
		block_scripts = 1}
	addeditablelist \{ped_editable_list}
	if NOT cd
		startkeyboardhandler \{max_length = 128}
	endif
	printf \{"Done initializing - into game..."}
	initatoms
	setprogressionmaxdifficulty \{difficulty = 3}
	if isps3
		remove_red_octane_explorer_from_ps3
	endif
	setup_globaltags
	setup_sprites
	kill_start_key_binding
	setshadowrenderingflags \{enable = 'true'
		object = 'skin'}
	setshadowmapparams \{far = 16.0}
	if NOT iswinport
		setup_bg_viewport
		restore_dummy_bg_camera
	endif
	player = 1
	begin
	formattext checksumname = player_status 'player%i_status' i = <player> addtostringlookup
	formattext textname = player_text 'p%i' i = <player> addtostringlookup
	spawnscriptlater create_guitar_events params = {<...>}
	player = (<player> + 1)
	repeat $max_num_players
	setshadowprojectiontexture \{texture = white}
	if ($autolaunch_startnow = 0)
		if ($skip_boot_menu = 1)
			spawnscriptnow \{gh3_start_pressed
				params = {
					no_back
				}}
			startrendering
			start_flow_manager \{flow_state = main_menu_fs}
		else
			start_flow_manager \{flow_state = bootup_sequence_fs}
		endif
	else
		startrendering
		spawnscriptlater \{autolaunch_spawned}
	endif
	create_guitarist
	create_guitarist \{name = bassist}
	change \{tutorial_disable_hud = 0}
	createscreenelement \{type = containerelement
		id = dead_particle_container
		parent = root_window
		pos = (0.0, 0.0)}
	init2dparticles \{parent = dead_particle_container}
	<profile_gpu> = 0
	if ($show_gpu_time = 1)
		<profile_gpu> = 1
	endif
	if ($output_gpu_log = 1)
		<profile_gpu> = 1
	endif
	if (<profile_gpu> = 1)
		togglemetrics \{mode = 5}
		if isps3
			change \{current_cpu = 2}
		else
			change \{current_cpu = 6}
		endif
	else
		if ($show_cpu_time = 1)
			change \{current_cpu = 0}
			togglemetrics \{mode = 5}
		else
			togglemetrics \{mode = 0}
		endif
	endif
	if ($show_build_version = 1)
		debug_toggle_changelist \{show}
	endif
	begin
	gettrueelapsedtime starttime = <legal_start_time>
	if (<elapsedtime> >= 6000)
		change \{legal_timer = 1}
		break
	endif
	repeat
	hideloadingscreen
endscript
autolaunch_showstorageselector = 1

script autolaunch_spawned 
	if ($autolaunch_showstorageselector = 1)
		newshowstorageselector
	endif
	start_flow_manager \{flow_state = quickplay_play_song_fs}
	if ($autolaunch_startnow = 2)
		spawnscriptlater \{select_venue
			params = {
				norestart
			}}
	else
		spawnscriptlater start_song params = {device_num = ($player1_status.controller)}
	endif
endscript

script kill_dummy_bg_camera 
	killcamanim \{name = dummy_cam_bg}
endscript

script restore_dummy_bg_camera 
	kill_dummy_bg_camera
	playigccam \{name = dummy_cam_bg
		viewport = bg_viewport
		pos = (-2.391084, 1.860994, 9.406317)
		quat = (0.001788, 0.993925, -0.016326997)
		fov = 72.0
		play_hold}
endscript

script get_levelzonearray_size 
	getarraysize \{$levelzonearray}
	size = (<array_size>)
	if globalexists \{name = download_levelzonearray
			type = array}
		getarraysize \{$download_levelzonearray}
		size = (<array_size> + <size>)
	endif
	return array_size = <size>
endscript

script get_levelzonearray_checksum 
	getarraysize \{$levelzonearray}
	if (<index> < <array_size>)
		return level_checksum = ($levelzonearray [<index>])
	else
		return level_checksum = ($download_levelzonearray [(<index> - <array_size>)])
	endif
endscript

script is_levelzone_downloaded \{level_checksum = load_z_nipmuc}
	if arraycontains array = ($download_levelzonearray) contains = <level_checksum>
		formattext textname = filename '%s.pak' s = (($download_levelzones.<level_checksum>).name)
		getcontentfolderindexfromfile <filename>
		if (<device> = content)
			return \{download = 1
				true}
		else
			return \{download = 1
				false}
		endif
	else
		return \{download = 0
			true}
	endif
endscript
download_levelzonearray = [
]
download_levelzones = {
}
levelzonearray = [
	load_z_hof
	load_z_nine_lives
	load_z_jpplay
	load_z_nipmuc
	load_z_maxskc
	load_z_fenway
	viewer
	load_z_credits
	load_z_soundcheck
]
levelzones = {
	$download_levelzones
	load_z_fenway = {
		zone = z_fenway
		name = 'z_Fenway'
		title = "The Orpheum Theatre of Boston"
		bg = venue_poster_fenway
	}
	load_z_hof = {
		zone = z_hof
		name = 'z_hof'
		title = "Hall of Fame"
		bg = venue_poster_hallfame
	}
	load_z_jpplay = {
		zone = z_jpplay
		name = 'z_JPPlay'
		title = "Half-time show"
		bg = venue_poster_halftime
	}
	load_z_maxskc = {
		zone = z_maxskc
		name = 'z_MaxsKC'
		title = "Maxs Kansas City"
		bg = venue_poster_max
	}
	load_z_nine_lives = {
		zone = z_nine_lives
		name = 'z_nine_lives'
		title = "Moscow"
		bg = venue_poster_moscow
	}
	load_z_nipmuc = {
		zone = z_nipmuc
		name = 'z_Nipmuc'
		title = "Nipmuc High"
		bg = venue_poster_highschool
	}
	load_z_soundcheck = {
		zone = z_soundcheck
		name = 'z_soundcheck'
		title = "soundcheck"
		debug_only
	}
	load_z_credits = {
		zone = z_credits
		name = 'z_credits'
		title = "credits"
		debug_only
	}
	viewer = {
		zone = z_viewer
		name = 'z_viewer'
		title = "viewer"
		debug_only
	}
	load_z_viewer = {
		zone = z_viewer
		name = 'z_viewer'
		title = "viewer"
		debug_only
	}
}

script getcurrentlevel 
	return level = ($current_level)
endscript

script get_level_prefix 
	if structurecontains \{structure = $levelzones
			$current_level}
		return prefix = ($levelzones.($current_level).name) prefix_crc = ($levelzones.($current_level).zone)
	endif
	printf \{"!!!!!!!!!!!!!!!!!!!!!!!!!!!!"}
	printf \{"!!!!!!!!!!!!!!!!!!!!!!!!!!!"}
	printf \{"!!!Warning! Unknown level!!!"}
	printf \{"!!!!!!!!!!!!!!!!!!!!!!!!!!!!"}
	printf \{"!!!!!!!!!!!!!!!!!!!!!!!!!!!!"}
	return \{prefix = 'z_unknown'
		prefix_crc = z_unknown}
endscript

script preqbromid 
	pausegh3
endscript

script postqbromid 
	restart_gem_scroller song_name = ($current_song) difficulty = ($current_difficulty) difficulty2 = ($current_difficulty2) starttime = ($current_starttime) device_num = ($player1_status.controller)
endscript

script infrontend 
	return \{false}
endscript

script startrendering 
	startrendering_c
	change \{pause_no_render = 0}
endscript

script stoprendering 
	stoprendering_c
	change \{pause_no_render = 1}
endscript
