vocals_comet_particle_effects = {
	scrolling = [
		{
			base = {
				pos = (0.0, 0.0)
				z_priority = 18.0
				material = sys_particle_spark01_sys_particle_spark01
				start_color = [
					255
					128
					0
					255
				]
				end_color = [
					255
					0
					0
					0
				]
				start_scale = (1.6, 1.6)
				end_scale = (0.5, 0.5)
				start_angle_spread = 360.0
				min_rotation = -500.0
				max_rotation = 500.0
				emit_start_radius = 0.0
				emit_radius = 1.0
				emit_rate = 0.006
				emit_dir = 270.0
				emit_spread = 45.0
				velocity = 3.0
				friction = (0.0, 0.0)
				time = 0.5
			}
			miss = {
				start_color = [
					128
					0
					255
					255
				]
				end_color = [
					0
					0
					255
					0
				]
				emit_rate = 0.012
				velocity = 2.5
			}
		}
	]
	scrolling_sp = [
		{
			base = {
				pos = (0.0, 0.0)
				z_priority = 18.0
				material = sys_particle_star01_sys_particle_star01
				start_color = [
					64
					128
					128
					255
				]
				end_color = [
					0
					0
					0
					0
				]
				start_scale = (0.35000002, 0.35000002)
				end_scale = (0.0, 0.0)
				start_angle_spread = 360.0
				min_rotation = -500.0
				max_rotation = 500.0
				emit_start_radius = 0.0
				emit_radius = 1.0
				emit_rate = 0.05
				emit_dir = 270.0
				emit_spread = 45.0
				velocity = 0.3
				friction = (0.0, 0.0)
				time = 1.0
			}
		}
		{
			base = {
				pos = (0.0, 0.0)
				z_priority = 18.0
				material = vh_sp_fx01
				start_color = [
					255
					255
					255
					255
				]
				end_color = [
					255
					255
					255
					128
				]
				start_scale = (0.015, 1.0)
				end_scale = (0.13, 6.0)
				start_angle_spread = 360.0
				min_rotation = 0
				max_rotation = 360
				emit_start_radius = 5.0
				emit_radius = 1.0
				emit_rate = 0.2
				emit_dir = 270.0
				emit_spread = 270.0
				velocity = 0.0
				friction = (0.0, 0.0)
				time = 0.2
			}
		}
		{
			base = {
				pos = (0.0, 0.0)
				z_priority = 18.0
				material = vh_sp_fx01
				start_color = [
					255
					255
					255
					255
				]
				end_color = [
					255
					255
					255
					0
				]
				start_scale = (0.01, 1.0)
				end_scale = (0.1, 5.0)
				start_angle_spread = 360.0
				min_rotation = 0
				max_rotation = 360
				emit_start_radius = 5.0
				emit_radius = 1.0
				emit_rate = 0.1
				emit_dir = 270.0
				emit_spread = 360.0
				velocity = 0.0
				friction = (0.0, 0.0)
				time = 0.2
			}
		}
		{
			base = {
				pos = (0.0, 0.0)
				z_priority = 18.0
				material = sys_particle_spark01_sys_particle_spark01
				start_color = [
					128
					255
					255
					255
				]
				end_color = [
					0
					255
					255
					0
				]
				start_scale = (1.5, 1.5)
				end_scale = (0.5, 0.5)
				start_angle_spread = 360.0
				min_rotation = -500.0
				max_rotation = 500.0
				emit_start_radius = 0.0
				emit_radius = 1.0
				emit_rate = 0.01
				emit_dir = 270.0
				emit_spread = 45.0
				velocity = 1.0
				friction = (0.0, 0.0)
				time = 0.5
			}
		}
	]
	static = [
		{
			base = {
				pos = (0.0, 0.0)
				z_priority = 18.0
				material = sys_particle_spark01_sys_particle_spark01
				start_color = [
					255
					128
					0
					255
				]
				end_color = [
					255
					0
					0
					0
				]
				start_scale = (1.5, 1.5)
				end_scale = (0.5, 0.5)
				start_angle_spread = 360.0
				min_rotation = -500.0
				max_rotation = 500.0
				emit_start_radius = 0.0
				emit_radius = 1.0
				emit_rate = 0.006
				emit_dir = 0.0
				emit_spread = 355.0
				velocity = 1.0
				friction = (0.0, 0.0)
				time = 0.5
			}
			miss = {
				start_color = [
					128
					0
					255
					255
				]
				end_color = [
					0
					0
					255
					0
				]
				emit_rate = 0.012
				velocity = 0.8
			}
		}
	]
	static_sp = [
		{
			base = {
				pos = (0.0, 0.0)
				z_priority = 18.0
				material = sys_particle_star01_sys_particle_star01
				start_color = [
					64
					128
					128
					255
				]
				end_color = [
					0
					0
					0
					0
				]
				start_scale = (0.35000002, 0.35000002)
				end_scale = (0.0, 0.0)
				start_angle_spread = 360.0
				min_rotation = -500.0
				max_rotation = 500.0
				emit_start_radius = 0.0
				emit_radius = 1.0
				emit_rate = 0.05
				emit_dir = 0.0
				emit_spread = 355.0
				velocity = 0.3
				friction = (0.0, 0.0)
				time = 1.0
			}
		}
		{
			base = {
				pos = (0.0, 0.0)
				z_priority = 18.0
				material = vh_sp_fx01
				start_color = [
					255
					255
					255
					255
				]
				end_color = [
					255
					255
					255
					128
				]
				start_scale = (0.015, 1.0)
				end_scale = (0.13, 6.0)
				start_angle_spread = 360.0
				min_rotation = 0
				max_rotation = 360
				emit_start_radius = 5.0
				emit_radius = 1.0
				emit_rate = 0.2
				emit_dir = 0.0
				emit_spread = 355.0
				velocity = 0.0
				friction = (0.0, 0.0)
				time = 0.2
			}
		}
		{
			base = {
				pos = (0.0, 0.0)
				z_priority = 18.0
				material = vh_sp_fx01
				start_color = [
					255
					255
					255
					255
				]
				end_color = [
					255
					255
					255
					0
				]
				start_scale = (0.01, 1.0)
				end_scale = (0.1, 3.1)
				start_angle_spread = 360.0
				min_rotation = 0
				max_rotation = 360
				emit_start_radius = 5.0
				emit_radius = 1.0
				emit_rate = 0.1
				emit_dir = 0.0
				emit_spread = 355.0
				velocity = 0.0
				friction = (0.0, 0.0)
				time = 0.2
			}
		}
		{
			base = {
				pos = (0.0, 0.0)
				z_priority = 18.0
				material = sys_particle_spark01_sys_particle_spark01
				start_color = [
					128
					255
					255
					255
				]
				end_color = [
					0
					255
					255
					0
				]
				start_scale = (1.5, 1.5)
				end_scale = (0.5, 0.5)
				start_angle_spread = 360.0
				min_rotation = -500.0
				max_rotation = 500.0
				emit_start_radius = 0.0
				emit_radius = 1.0
				emit_rate = 0.01
				emit_dir = 0.0
				emit_spread = 355.0
				velocity = 1.0
				friction = (0.0, 0.0)
				time = 0.5
			}
		}
	]
}
vocal_cheat_fireball_start_color = [
	255
	0
	200
	255
]
vocal_cheat_fireball_end_color = [
	255
	0
	200
	64
]

script vocalshighway_getmaterial 
	requireparams \{[
			player
		]
		all}
	formattext {
		checksumname = vocals_highway_material
		textname = vocals_highway_material_text
		'VocalEKGMaterial_p%p'
		p = <player>
		addtostringlookup = true
	}
	return vocals_highway_material = <vocals_highway_material> vocals_highway_material_text = <vocals_highway_material_text>
endscript

script vocals_setup_paint_material \{player = 1}
	vocalshighway_getid player = <player>
	vocalshighway_getmaterial player = <player>
	destroymaterial name = <vocals_highway_material>
	if screenelementexists id = {<vocals_highway_id> child = ekgelement}
		destroyscreenelement id = {<vocals_highway_id> child = ekgelement}
	endif
	creatematerial {
		name = <vocals_highway_material>
		template = waveform_ui
		technique = linear
		blendmode = blend
		alphacutoff = 1
		materialprops = [
			{name = m_sampnoise textureproperty = `tex\_______default_m_____.dds`}
			{name = m_pscolors0 vectorproperty = [0.98999995 0.90999997 0.21000001 0.0]}
			{name = m_pscolors1 vectorproperty = [0.98999995 0.98999995 0.26 1.5]}
			{name = m_pscolors2 vectorproperty = [1.0 0.75 0.120000005 0.0]}
			{name = m_pscolors3 vectorproperty = [0.0 0.0 0.0 0.0]}
			{name = m_pscolors4 vectorproperty = [2.0 1.0 0.0 0.0]}
			{name = m_pscolors5 vectorproperty = [0.0 0.0 0.1 0.0]}
			{name = m_pscolors6 vectorproperty = [1.0 0.6 0.2 0.0]}
			{name = m_pscolors7 vectorproperty = [1.0 1.0 0.3 0.0]}
			{name = m_noisescale floatproperty = 0.8}
			{name = m_noisebias floatproperty = 0.0}
			{name = m_noisepower floatproperty = 0.25}
			{name = m_noise1speedx floatproperty = 0.2}
			{name = m_noise1speedy floatproperty = 0.25}
			{name = m_noise2speedx floatproperty = 0.2}
			{name = m_noise2speedy floatproperty = -0.25}
			{name = m_splinefadedistance floatproperty = 5.0}
			{name = m_playerindex floatproperty = <player>}
		]
		texdicts = ($material_texdicts)
	}
	createscreenelement {
		parent = <vocals_highway_id>
		local_id = ekgelement
		type = spriteelement
		pos = (0.0, 0.0)
		dims = (512.0, 128.0)
		scale = 1.0
		material = <vocals_highway_material>
		texture = white
		z_priority = ($g_vocal_paint_z_priority)
	}
endscript

script vocals_end_phrase_good_comet_fx 
	obj_getid
	formattext checksumname = fx_id 'vocals_end_phrase_GOOD_comet_fx_%p' p = <player>
	destroy2dparticlesystem id = <fx_id>
	create2dparticlesystem {
		id = <fx_id>
		pos = (0.0, 0.0)
		z_priority = 16.0
		material = sys_particle_drumhit1_sys_particle_drumhit1
		parent = <objid>
		start_color = <rgba>
		end_color = [0 0 0 0]
		start_scale = (0.0, 0.0)
		end_scale = (5.0, 25.0)
		start_angle_spread = 360.0
		min_rotation = 0
		max_rotation = 0
		emit_start_radius = 0.0
		emit_radius = 5.0
		emit_rate = 0.02
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formattext checksumname = fx1_id 'vocals_end_phrase_GOOD_comet_fx1_%p' p = <player>
	destroy2dparticlesystem id = <fx1_id>
	create2dparticlesystem {
		id = <fx1_id>
		pos = (0.0, 0.0)
		z_priority = 22.0
		material = sys_particle_spark01_sys_particle_spark01
		parent = <objid>
		start_color = <rgba>
		end_color = [0 0 0 0]
		start_scale = (1.0, 1.0)
		end_scale = (0.5, 0.5)
		start_angle_spread = 360
		min_rotation = -500.0
		max_rotation = 500.0
		emit_start_radius = 1.0
		emit_radius = 1.0
		emit_rate = 0.001
		emit_dir = 0.0
		emit_spread = 360
		velocity = 10.0
		friction = (0.0, 10.0)
		time = 0.25
	}
	wait \{6
		frames}
	destroy2dparticlesystem id = <fx_id> kill_when_empty
	destroy2dparticlesystem id = <fx1_id> kill_when_empty
endscript

script vocals_end_phrase_bad_comet_fx 
	obj_getid
	formattext checksumname = fx_id 'vocals_end_phrase_BAD_comet_fx_%p' p = <player>
	destroy2dparticlesystem id = <fx_id>
	create2dparticlesystem {
		id = <fx_id>
		pos = (0.0, 0.0)
		z_priority = 19.0
		material = sys_particle_spark01_sys_particle_spark01
		parent = <objid>
		start_color = <rgba>
		end_color = [255 0 0 0]
		start_scale = (4.0, 1.0)
		end_scale = (0.4, 0.1)
		start_angle_spread = 360.0
		min_rotation = -500.0
		max_rotation = 500.0
		emit_start_radius = 0.0
		emit_radius = 10.0
		emit_rate = 0.01
		emit_dir = 0.0
		emit_spread = 355.0
		velocity = 5.0
		friction = (0.0, 10.0)
		time = 0.5
	}
	wait \{0.4
		seconds}
	destroy2dparticlesystem id = <fx_id> kill_when_empty
endscript

script vocals_end_phrase_no_fx 
endscript

script vocals_paint_star_power_on \{player = 1}
	vocalshighway_getid player = <player>
	if NOT screenelementexists id = {<vocals_highway_id> child = ekgelement}
		return
	endif
	vocalshighway_getmaterial player = <player>
	setmaterialproperty mat = <vocals_highway_material_text> prop = 'm_psColors0' x = 0.26 y = 1.0 z = 0.98999995 w = 0.0
	setmaterialproperty mat = <vocals_highway_material_text> prop = 'm_psColors1' x = 0.26 y = 1.0 z = 0.98999995 w = 1.0
	setmaterialproperty mat = <vocals_highway_material_text> prop = 'm_psColors2' x = 0.120000005 y = 0.75 z = 1.0 w = 0.0
	setmaterialproperty mat = <vocals_highway_material_text> prop = 'm_psColors3' x = 0.0 y = 0.0 z = 0.0 w = 0.0
	setmaterialproperty mat = <vocals_highway_material_text> prop = 'm_psColors4' x = 0.0 y = 1.4 z = 1.4 w = 0.0
	setmaterialproperty mat = <vocals_highway_material_text> prop = 'm_psColors5' x = 0.0 y = 0.0 z = 0.1 w = 0.0
	setmaterialproperty mat = <vocals_highway_material_text> prop = 'm_psColors6' x = 0.2 y = 0.6 z = 1.0 w = 0.0
	setmaterialproperty mat = <vocals_highway_material_text> prop = 'm_psColors7' x = 0.3 y = 1.0 z = 1.0 w = 0.0
endscript

script vocals_paint_star_power_off \{player = 1}
	vocalshighway_getid player = <player>
	if NOT screenelementexists id = {<vocals_highway_id> child = ekgelement}
		return
	endif
	vocalshighway_getmaterial player = <player>
	setmaterialproperty mat = <vocals_highway_material_text> prop = 'm_psColors0' x = 0.98999995 y = 0.98999995 z = 0.26 w = 0.0
	setmaterialproperty mat = <vocals_highway_material_text> prop = 'm_psColors1' x = 0.98999995 y = 0.98999995 z = 0.26 w = 1.5
	setmaterialproperty mat = <vocals_highway_material_text> prop = 'm_psColors2' x = 1.0 y = 0.75 z = 0.120000005 w = 0.0
	setmaterialproperty mat = <vocals_highway_material_text> prop = 'm_psColors3' x = 0.0 y = 0.0 z = 0.0 w = 0.0
	setmaterialproperty mat = <vocals_highway_material_text> prop = 'm_psColors4' x = 2.0 y = 1.0 z = 0.0 w = 0.0
	setmaterialproperty mat = <vocals_highway_material_text> prop = 'm_psColors5' x = 0.0 y = 0.0 z = 0.1 w = 0.0
	setmaterialproperty mat = <vocals_highway_material_text> prop = 'm_psColors6' x = 1.0 y = 0.6 z = 0.2 w = 0.0
	setmaterialproperty mat = <vocals_highway_material_text> prop = 'm_psColors7' x = 1.0 y = 1.0 z = 0.3 w = 0.0
endscript
