goal_arcade_characters = [
	{
		text = "TONY HAWK"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Hawk
		hair_rgba = [
			180
			130
			100
			255
		]
		skin_rgba = [
			255
			204
			153
			255
		]
		shirt_rgba = [
			144
			101
			62
			255
		]
		pants_rgba = [
			62
			65
			74
			255
		]
		shoes_rgba = [
			225
			225
			225
			255
		]
		deck_rgba = [
			220
			150
			70
			255
		]
	}
	{
		text = "BOB BURNQUIST"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Burnquist
		hair_rgba = [
			130
			120
			110
			255
		]
		skin_rgba = [
			255
			204
			153
			255
		]
		shirt_rgba = [
			225
			225
			225
			255
		]
		pants_rgba = [
			70
			80
			102
			255
		]
		shoes_rgba = [
			100
			100
			100
			255
		]
		deck_rgba = [
			120
			150
			200
			255
		]
	}
	{
		text = "DUSTIN DOLLIN"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Dollin
		hair_rgba = [
			20
			20
			20
			255
		]
		skin_rgba = [
			211
			171
			169
			255
		]
		shirt_rgba = [
			147
			45
			71
			255
		]
		pants_rgba = [
			45
			45
			45
			255
		]
		shoes_rgba = [
			105
			38
			36
			255
		]
		deck_rgba = [
			100
			200
			140
			255
		]
	}
	{
		text = "BRYCE KANIGHTS"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_kanights
		hair_rgba = [
			141
			68
			29
			255
		]
		skin_rgba = [
			255
			204
			153
			255
		]
		shirt_rgba = [
			100
			200
			140
			255
		]
		pants_rgba = [
			150
			160
			182
			255
		]
		shoes_rgba = [
			147
			45
			71
			255
		]
		deck_rgba = [
			100
			200
			140
			255
		]
	}
	{
		text = "JEFF KING"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_King
		hair_rgba = [
			141
			68
			29
			255
		]
		skin_rgba = [
			255
			204
			153
			255
		]
		shirt_rgba = [
			225
			225
			225
			255
		]
		pants_rgba = [
			70
			80
			102
			255
		]
		shoes_rgba = [
			225
			225
			225
			255
		]
		deck_rgba = [
			100
			200
			140
			255
		]
	}
	{
		text = "NYJAH HUSTON"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Huston
		hair_rgba = [
			46
			38
			37
			255
		]
		skin_rgba = [
			121
			80
			56
			255
		]
		shirt_rgba = [
			45
			45
			45
			255
		]
		pants_rgba = [
			70
			80
			102
			255
		]
		shoes_rgba = [
			120
			120
			120
			255
		]
		deck_rgba = [
			100
			200
			140
			255
		]
	}
	{
		text = "BAM MARGERA"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Margera
		hair_rgba = [
			70
			70
			70
			255
		]
		skin_rgba = [
			250
			200
			150
			255
		]
		shirt_rgba = [
			45
			45
			45
			255
		]
		pants_rgba = [
			120
			120
			120
			255
		]
		shoes_rgba = [
			80
			80
			80
			255
		]
		deck_rgba = [
			150
			150
			150
			255
		]
	}
	{
		text = "LANCE MOUNTAIN"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Mountain
		hair_rgba = [
			66
			45
			40
			255
		]
		skin_rgba = [
			250
			180
			110
			255
		]
		shirt_rgba = [
			61
			63
			79
			255
		]
		pants_rgba = [
			191
			175
			161
			255
		]
		shoes_rgba = [
			90
			90
			90
			255
		]
		deck_rgba = [
			84
			174
			200
			255
		]
	}
	{
		text = "RODNEY MULLEN"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Mullen
		hair_rgba = [
			62
			65
			65
			255
		]
		skin_rgba = [
			184
			131
			111
			255
		]
		shirt_rgba = [
			52
			55
			55
			255
		]
		pants_rgba = [
			82
			85
			85
			255
		]
		shoes_rgba = [
			210
			160
			80
			255
		]
		deck_rgba = [
			84
			174
			200
			255
		]
	}
	{
		text = "ANDREW REYNOLDS"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Reynolds
		hair_rgba = [
			150
			90
			70
			255
		]
		skin_rgba = [
			250
			180
			110
			255
		]
		shirt_rgba = [
			52
			55
			55
			255
		]
		pants_rgba = [
			180
			130
			60
			255
		]
		shoes_rgba = [
			72
			75
			75
			255
		]
		deck_rgba = [
			84
			174
			200
			255
		]
	}
	{
		text = "JEREME ROGERS"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Rogers
		hair_rgba = [
			130
			120
			110
			255
		]
		skin_rgba = [
			255
			204
			153
			255
		]
		shirt_rgba = [
			225
			225
			225
			255
		]
		pants_rgba = [
			150
			160
			182
			255
		]
		shoes_rgba = [
			100
			100
			100
			255
		]
		deck_rgba = [
			120
			150
			200
			255
		]
	}
	{
		text = "RYAN SHECKLER"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Sheckler
		hair_rgba = [
			62
			65
			65
			255
		]
		skin_rgba = [
			255
			204
			153
			255
		]
		shirt_rgba = [
			225
			225
			225
			255
		]
		pants_rgba = [
			100
			110
			132
			255
		]
		shoes_rgba = [
			100
			100
			100
			255
		]
		deck_rgba = [
			120
			150
			200
			255
		]
	}
	{
		text = "ARTO SAARI"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Saari
		hair_rgba = [
			62
			65
			65
			255
		]
		skin_rgba = [
			250
			180
			110
			255
		]
		shirt_rgba = [
			52
			55
			55
			255
		]
		pants_rgba = [
			180
			130
			60
			255
		]
		shoes_rgba = [
			72
			75
			75
			255
		]
		deck_rgba = [
			84
			174
			200
			255
		]
	}
	{
		text = "DAEWON SONG"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Song
		hair_rgba = [
			62
			65
			65
			255
		]
		skin_rgba = [
			121
			80
			56
			255
		]
		shirt_rgba = [
			52
			55
			55
			255
		]
		pants_rgba = [
			180
			130
			60
			255
		]
		shoes_rgba = [
			72
			75
			75
			255
		]
		deck_rgba = [
			84
			174
			200
			255
		]
	}
	{
		text = "VANESSA TORRES"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Torres
		hair_rgba = [
			62
			65
			65
			255
		]
		skin_rgba = [
			250
			180
			110
			255
		]
		shirt_rgba = [
			52
			55
			55
			255
		]
		pants_rgba = [
			70
			80
			102
			255
		]
		shoes_rgba = [
			72
			75
			75
			255
		]
		deck_rgba = [
			84
			174
			200
			255
		]
	}
	{
		text = "MIKE VALLELY"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Vallely
		hair_rgba = [
			150
			90
			70
			255
		]
		skin_rgba = [
			250
			180
			110
			255
		]
		shirt_rgba = [
			70
			80
			102
			255
		]
		pants_rgba = [
			180
			130
			60
			255
		]
		shoes_rgba = [
			225
			225
			225
			255
		]
		deck_rgba = [
			84
			174
			200
			255
		]
	}
	{
		text = "STEVIE WILLIAMS"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Williams
		hair_rgba = [
			46
			46
			46
			255
		]
		skin_rgba = [
			121
			80
			56
			255
		]
		shirt_rgba = [
			225
			225
			225
			255
		]
		pants_rgba = [
			191
			175
			161
			255
		]
		shoes_rgba = [
			22
			22
			22
			255
		]
		deck_rgba = [
			84
			174
			200
			255
		]
	}
	{
		text = "MCA"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_MCA
		hair_rgba = [
			0
			0
			0
			255
		]
		skin_rgba = [
			0
			0
			0
			255
		]
		shirt_rgba = [
			0
			0
			0
			255
		]
		pants_rgba = [
			0
			0
			0
			255
		]
		shoes_rgba = [
			0
			0
			0
			255
		]
		deck_rgba = [
			0
			0
			0
			255
		]
		unlock_flag = $SKATER_UNLOCKED_MCA
	}
	{
		text = "El PATINADOR"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_luchador
		hair_rgba = [
			0
			0
			0
			255
		]
		skin_rgba = [
			0
			0
			0
			255
		]
		shirt_rgba = [
			0
			0
			0
			255
		]
		pants_rgba = [
			0
			0
			0
			255
		]
		shoes_rgba = [
			0
			0
			0
			255
		]
		deck_rgba = [
			0
			0
			0
			255
		]
		unlock_flag = $SKATER_UNLOCKED_THE_LUCHADOR
	}
	{
		text = "JUDY NAILS"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Judy
		hair_rgba = [
			0
			0
			0
			255
		]
		skin_rgba = [
			0
			0
			0
			255
		]
		shirt_rgba = [
			0
			0
			0
			255
		]
		pants_rgba = [
			0
			0
			0
			255
		]
		shoes_rgba = [
			0
			0
			0
			255
		]
		deck_rgba = [
			0
			0
			0
			255
		]
		unlock_flag = $SKATER_UNLOCKED_JUDY_NAILS
	}
	{
		text = "RUBE"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Rube
		hair_rgba = [
			0
			0
			0
			255
		]
		skin_rgba = [
			0
			0
			0
			255
		]
		shirt_rgba = [
			0
			0
			0
			255
		]
		pants_rgba = [
			0
			0
			0
			255
		]
		shoes_rgba = [
			0
			0
			0
			255
		]
		deck_rgba = [
			0
			0
			0
			255
		]
		unlock_flag = $SKATER_UNLOCKED_RUBE
	}
	{
		text = "SPENCER"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Spence
		hair_rgba = [
			0
			0
			0
			255
		]
		skin_rgba = [
			0
			0
			0
			255
		]
		shirt_rgba = [
			0
			0
			0
			255
		]
		pants_rgba = [
			0
			0
			0
			255
		]
		shoes_rgba = [
			0
			0
			0
			255
		]
		deck_rgba = [
			0
			0
			0
			255
		]
		unlock_flag = $SKATER_UNLOCKED_SPENCE
	}
	{
		text = "COOPER"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Cooper
		hair_rgba = [
			0
			0
			0
			255
		]
		skin_rgba = [
			0
			0
			0
			255
		]
		shirt_rgba = [
			0
			0
			0
			255
		]
		pants_rgba = [
			0
			0
			0
			255
		]
		shoes_rgba = [
			0
			0
			0
			255
		]
		deck_rgba = [
			0
			0
			0
			255
		]
		unlock_flag = $SKATER_UNLOCKED_COOPER
	}
	{
		text = "BOSCO"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_bosco
		hair_rgba = [
			0
			0
			0
			255
		]
		skin_rgba = [
			0
			0
			0
			255
		]
		shirt_rgba = [
			0
			0
			0
			255
		]
		pants_rgba = [
			0
			0
			0
			255
		]
		shoes_rgba = [
			0
			0
			0
			255
		]
		deck_rgba = [
			0
			0
			0
			255
		]
		unlock_flag = $SKATER_UNLOCKED_BOSCO
	}
	{
		text = "CAM"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Cam
		hair_rgba = [
			0
			0
			0
			255
		]
		skin_rgba = [
			0
			0
			0
			255
		]
		shirt_rgba = [
			0
			0
			0
			255
		]
		pants_rgba = [
			0
			0
			0
			255
		]
		shoes_rgba = [
			0
			0
			0
			255
		]
		deck_rgba = [
			0
			0
			0
			255
		]
		unlock_flag = $SKATER_UNLOCKED_CAM
	}
	{
		text = "ERIC"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_eric
		hair_rgba = [
			0
			0
			0
			255
		]
		skin_rgba = [
			0
			0
			0
			255
		]
		shirt_rgba = [
			0
			0
			0
			255
		]
		pants_rgba = [
			0
			0
			0
			255
		]
		shoes_rgba = [
			0
			0
			0
			255
		]
		deck_rgba = [
			0
			0
			0
			255
		]
		unlock_flag = $SKATER_UNLOCKED_ERIC
	}
	{
		text = "EDDIE X"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_eddiex
		hair_rgba = [
			0
			0
			0
			255
		]
		skin_rgba = [
			0
			0
			0
			255
		]
		shirt_rgba = [
			0
			0
			0
			255
		]
		pants_rgba = [
			0
			0
			0
			255
		]
		shoes_rgba = [
			0
			0
			0
			255
		]
		deck_rgba = [
			0
			0
			0
			255
		]
		unlock_flag = $SKATER_UNLOCKED_EDDIE_X
	}
	{
		text = "MAD DOG"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_maddog
		hair_rgba = [
			0
			0
			0
			255
		]
		skin_rgba = [
			0
			0
			0
			255
		]
		shirt_rgba = [
			0
			0
			0
			255
		]
		pants_rgba = [
			0
			0
			0
			255
		]
		shoes_rgba = [
			0
			0
			0
			255
		]
		deck_rgba = [
			0
			0
			0
			255
		]
		unlock_flag = $SKATER_UNLOCKED_MAD_DOG
	}
	{
		text = "MEL"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Mel
		hair_rgba = [
			0
			0
			0
			255
		]
		skin_rgba = [
			0
			0
			0
			255
		]
		shirt_rgba = [
			0
			0
			0
			255
		]
		pants_rgba = [
			0
			0
			0
			255
		]
		shoes_rgba = [
			0
			0
			0
			255
		]
		deck_rgba = [
			0
			0
			0
			255
		]
		unlock_flag = $SKATER_UNLOCKED_MEL
	}
	{
		text = "SHAYNE"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_Shayne
		hair_rgba = [
			0
			0
			0
			255
		]
		skin_rgba = [
			0
			0
			0
			255
		]
		shirt_rgba = [
			0
			0
			0
			255
		]
		pants_rgba = [
			0
			0
			0
			255
		]
		shoes_rgba = [
			0
			0
			0
			255
		]
		deck_rgba = [
			0
			0
			0
			255
		]
		unlock_flag = $SKATER_UNLOCKED_SHAYNE
	}
	{
		text = "TV PRODUCER"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_tvproducer
		hair_rgba = [
			0
			0
			0
			255
		]
		skin_rgba = [
			0
			0
			0
			255
		]
		shirt_rgba = [
			0
			0
			0
			255
		]
		pants_rgba = [
			0
			0
			0
			255
		]
		shoes_rgba = [
			0
			0
			0
			255
		]
		deck_rgba = [
			0
			0
			0
			255
		]
		unlock_flag = $SKATER_UNLOCKED_TV_PRODUCER
	}
	{
		text = "D-BUG BONEMAN"
		pad_choose_script = goal_arcade_set_skater
		arcade_skater = appearance_boneman
		hair_rgba = [
			0
			0
			0
			255
		]
		skin_rgba = [
			0
			0
			0
			255
		]
		shirt_rgba = [
			0
			0
			0
			255
		]
		pants_rgba = [
			0
			0
			0
			255
		]
		shoes_rgba = [
			0
			0
			0
			255
		]
		deck_rgba = [
			0
			0
			0
			255
		]
		unlock_flag = $SKATER_UNLOCKED_BONEMAN
	}
]
goal_arcade_current_character = 0
goal_arcade_top_character = 0
goal_arcade_activating_subgoal = 0

script goal_arcade_pre_activate 
	PauseObjects
endscript

script goal_arcade_menu_enter 
	spawnscriptnow goal_arcade_menu_enter_spawned params = {<...>}
endscript

script goal_arcade_menu_get_game_ranks 
	gman_getconstant goal = <goal> name = classic_goal
	gman_getgrade goal = <classic_goal>
	switch <grade>
		case 3
		<classic_text> = "CLASSIC - SICK"
		case 2
		<classic_text> = "CLASSIC - PRO"
		case 1
		<classic_text> = "CLASSIC - AM"
		case 0
		<classic_text> = "CLASSIC"
	endswitch
	gman_getconstant goal = <goal> name = high_score_run_goal
	gman_getgrade goal = <high_score_run_goal>
	switch <grade>
		case 3
		<high_score_run_text> = "HIGH SCORE RUN - SICK"
		case 2
		<high_score_run_text> = "HIGH SCORE RUN - PRO"
		case 1
		<high_score_run_text> = "HIGH SCORE RUN - AM"
		case 0
		<high_score_run_text> = "HIGH SCORE RUN"
	endswitch
	gman_getconstant goal = <goal> name = hawk_man_goal
	gman_getgrade goal = <hawk_man_goal>
	switch <grade>
		case 3
		<hawk_man_text> = "HAWK-MAN - SICK"
		case 2
		<hawk_man_text> = "HAWK-MAN - PRO"
		case 1
		<hawk_man_text> = "HAWK-MAN - AM"
		case 0
		<hawk_man_text> = "HAWK-MAN"
	endswitch
	return classic_text = <classic_text> high_score_run_text = <high_score_run_text> hawk_man_text = <hawk_man_text>
endscript

script goal_arcade_menu_enter_spawned 
	soundevent event = arcade_mzk_background
	pauseskaters
	skater :pausephysics
	goal_arcade_menu_get_game_ranks goal = <goal_id>
	<buttons> = [
		{
			text = <classic_text>
			pad_choose_script = goal_arcade_set_game
			pad_choose_params = {goal = <goal_id> arcade_game = classic}
		}
		{
			text = <hawk_man_text>
			pad_choose_script = goal_arcade_set_game
			pad_choose_params = {goal = <goal_id> arcade_game = hawkman}
		}
		{
			text = <high_score_run_text>
			pad_choose_script = goal_arcade_set_game
			pad_choose_params = {goal = <goal_id> arcade_game = high_score_run}
		}
	]
	<back_button> = [
		{
			text = "QUIT"
			pad_choose_script = goal_arcade_menu_quit
			pad_choose_params = {goal = <goal_id> arcade_game = quit}
		}
	]
	<buttons> = (<buttons> + <back_button>)
	change goal_arcade_current_character = 0
	change goal_arcade_top_character = 0
	if screenelementexists id = goal_arcade_container
		destroyscreenelement id = goal_arcade_container
	endif
	createscreenelement {
		type = containerelement
		parent = root_window
		id = goal_arcade_container
		dims = (1280.0, 720.0)
		pos = (0.0, 0.0)
		just = [left top]
		child_anchor = [center center]
		event_handlers = [
			{pad_back goal_arcade_menu_quit params = {goal = <goal_id> arcade_game = quit}}
		]
		focusable_child = goal_arcade_menu
		alpha = 0.0
	}
	createscreenelement {
		type = textelement
		parent = goal_arcade_container
		id = goal_arcade_title
		font = text_a1
		text = "WELCOME TO TONY HAWK 2000"
		rgba = [200 200 200 255]
		pos = (0.0, -100.0)
		just = [center center]
		shadow
		shadow_rgba = [30 30 80 255]
		shadow_offs = (0.0, 3.0)
	}
	createscreenelement {
		type = vmenu
		parent = goal_arcade_container
		id = goal_arcade_menu
		pos = (0.0, 130.0)
		just = [center center]
		event_handlers = [
			{pad_down goal_arcade_scroll_sfx}
			{pad_up goal_arcade_scroll_sfx}
		]
	}
	getarraysize buttons
	<i> = 0
	begin
	<width> = 450
	if (<i> = (<array_size> - 1))
		<width> = 250
	endif
	createscreenelement {
		type = containerelement
		parent = goal_arcade_menu
		just = [center center]
		dims = (300.0, 70.0)
		event_handlers = [
			{focus goal_arcade_menu_focus}
			{unfocus goal_arcade_menu_unfocus}
			{pad_choose ((<buttons> [<i>]).pad_choose_script) params = ((<buttons> [<i>]).pad_choose_params)}
		]
		child_anchor = [center center]
		scale = 0.8
		tags = {
			width = <width>
		}
	}
	<container_id> = <id>
	goal_arcade_menu_bg parent = <container_id> local_id = bg width = <width> z_priority = 8 bg_rgba = [64 64 64 128] fg_rgba = [140 140 140 255]
	goal_arcade_menu_bg parent = <container_id> local_id = shadow width = <width> z_priority = 7 pos = (2.0, 2.0) fg_rgba = [90 90 90 255] nobg
	createscreenelement {
		type = textelement
		parent = <container_id>
		local_id = text
		font = text_a1
		pos = (0.0, 5.0)
		just = [center center]
		rgba = [140 140 140 255]
		text = ((<buttons> [<i>]).text)
		scale = (1.0, 0.8)
		font_spacing = 2
		z_priority = 10
		shadow
		shadow_rgba = [30 30 80 255]
		shadow_offs = (0.0, 3.0)
	}
	<i> = (<i> + 1)
	repeat <array_size>
	if NOT gotparam from_arcade
		createscreenelement {
			type = containerelement
			parent = goal_arcade_container
			id = goal_arcade_container_handler
			child_anchor = [center center]
			event_handlers = [
				{pad_choose goal_arcade_menu_movie_handler}
			]
			alpha = 0.0
		}
		launchevent target = goal_arcade_container_handler type = focus
		begin
		if ismovieplaying textureslot = 0
			getmovieframe textureslot = 0
			if (<frame> > 295)
				break
			endif
		endif
		wait 1 gameframes
		repeat
		if screenelementexists id = goal_arcade_container_handler
			destroyscreenelement id = goal_arcade_container_handler
		endif
		doscreenelementmorph {
			id = goal_arcade_container
			alpha = 1.0
			time = 0.5
		}
	else
		soundevent event = arcade_select_SFX
		doscreenelementmorph {
			id = goal_arcade_container
			alpha = 1.0
		}
	endif
	launchevent type = focus target = goal_arcade_container
endscript

script goal_arcade_menu_movie_handler 
	SeekMovie \{textureslot = 0
		frame = 230
		loop_start = 230
		loop_end = 570}
	die
endscript

script goal_arcade_menu_quit 
	soundevent \{event = arcade_mzk_background_stop}
	gman_setdata goal = <goal> params = {arcade_game = <arcade_game>}
	if screenelementexists \{id = goal_arcade_container}
		destroyscreenelement \{id = goal_arcade_container}
	endif
	unpauseskaters
	skater :unpausephysics
	gman_deactivategoal goal = <goal>
	goal_arcade_refresh_trigger arcade_goal_id = <goal>
endscript

script goal_arcade_set_game 
	soundevent event = arcade_select_SFX
	gman_setdata goal = <goal> params = {arcade_game = <arcade_game>}
	setscreenelementprops {
		id = goal_arcade_container
		event_handlers = [
			{pad_back goal_arcade_menu_enter_spawned params = {goal_id = <goal> from_arcade}}
		]
		replace_handlers
	}
	setscreenelementprops id = goal_arcade_title text = "CHOOSE YOUR CHARACTER"
	destroyscreenelement id = goal_arcade_menu
	createscreenelement {
		type = containerelement
		parent = goal_arcade_container
		id = goal_arcade_menu
		pos = (0.0, 0.0)
		just = [center center]
		focusable_child = goal_arcade_menu_skater
	}
	createscreenelement {
		type = vmenu
		parent = goal_arcade_menu
		id = goal_arcade_menu_skater
		pos = (-50.0, 100.0)
		just = [right center]
		dont_allow_wrap
		event_handlers = [
			{pad_up goal_arcade_menu_up params = {goal = <goal> arcade_game = <arcade_game>}}
			{pad_down goal_arcade_menu_down params = {goal = <goal> arcade_game = <arcade_game>}}
		]
	}
	goal_arcade_get_available_characters
	<i> = 0
	begin
	<width> = 475
	createscreenelement {
		type = containerelement
		parent = goal_arcade_menu_skater
		just = [center center]
		dims = (300.0, 70.0)
		event_handlers = [
			{focus goal_arcade_menu_focus}
			{unfocus goal_arcade_menu_unfocus}
			{pad_choose ((<available_characters> [<i>]).pad_choose_script) params = {arcade_skater = ((<available_characters> [<i>]).arcade_skater) goal = <goal> arcade_game = <arcade_game>}}
		]
		child_anchor = [center center]
		scale = 0.8
		tags = {
			width = <width>
		}
	}
	<container_id> = <id>
	goal_arcade_menu_bg parent = <container_id> local_id = bg width = <width> z_priority = 8 bg_rgba = [64 64 64 128] fg_rgba = [140 140 140 255]
	goal_arcade_menu_bg parent = <container_id> local_id = shadow width = <width> z_priority = 7 pos = (2.0, 2.0) fg_rgba = [90 90 90 255] nobg
	createscreenelement {
		type = textelement
		parent = <container_id>
		local_id = text
		font = text_a1
		pos = (0.0, 5.0)
		just = [center center]
		rgba = [140 140 140 255]
		text = ((<available_characters> [<i>]).text)
		z_priority = 10
		font_spacing = 2
		scale = (0.9, 0.71999997)
		shadow
		shadow_rgba = [30 30 80 255]
		shadow_offs = (0.0, 3.0)
	}
	<i> = (<i> + 1)
	repeat 4
	if NOT ($goal_arcade_top_character = 0)
		if NOT screenelementexists id = goal_arcade_skate_up
			createscreenelement {
				type = containerelement
				parent = {goal_arcade_menu_skater child = 0}
				id = goal_arcade_skate_up
				pos = (0.0, -45.0)
				just = [center center]
				child_anchor = [center center]
				scale = 1.25
			}
			createscreenelement {
				type = spriteelement
				parent = goal_arcade_skate_up
				texture = HUD_arcade_button_arrow
				just = [center center]
				rgba = [220 220 180 255]
				rot_angle = -90
				z_priority = 10
			}
			createscreenelement {
				type = spriteelement
				parent = goal_arcade_skate_up
				texture = HUD_arcade_button_arrow
				pos = (0.0, -2.0)
				just = [center center]
				rgba = [30 30 30 255]
				rot_angle = -90
				z_priority = 9.5
			}
		endif
	else
		if screenelementexists id = goal_arcade_skate_up
			destroyscreenelement id = goal_arcade_skate_up
		endif
	endif
	getarraysize <available_characters>
	if NOT ($goal_arcade_top_character = (<array_size> - 4))
		if NOT screenelementexists id = goal_arcade_skate_down
			createscreenelement {
				type = containerelement
				parent = {goal_arcade_menu_skater child = 3}
				id = goal_arcade_skate_down
				pos = (0.0, 45.0)
				just = [center center]
				child_anchor = [center center]
				scale = 1.25
			}
			createscreenelement {
				type = spriteelement
				parent = goal_arcade_skate_down
				texture = HUD_arcade_button_arrow
				just = [center center]
				rgba = [220 220 180 255]
				rot_angle = 90
				z_priority = 10
			}
			createscreenelement {
				type = spriteelement
				parent = goal_arcade_skate_down
				texture = HUD_arcade_button_arrow
				just = [center center]
				pos = (0.0, 2.0)
				rgba = [30 30 30 255]
				rot_angle = 90
				z_priority = 9.5
			}
		endif
	else
		if screenelementexists id = goal_arcade_skate_down
			destroyscreenelement id = goal_arcade_skate_down
		endif
	endif
	createscreenelement {
		type = containerelement
		parent = goal_arcade_menu
		pos = (75.0, 100.0)
		dims = (100.0, 150.0)
		just = [left center]
		child_anchor = [center center]
		scale = 2.0
	}
	goal_arcade_menu_bg parent = <id> local_id = bg width = 100 height = 150 z_priority = 8 bg_rgba = [60 170 255 100]
	goal_arcade_menu_bg parent = <id> local_id = shadow width = 100 height = 150 z_priority = 7 pos = (2.0, 2.0) fg_rgba = [0 0 0 255] nobg
	createscreenelement {
		type = containerelement
		parent = <id>
		id = goal_arcade_skater
		pos = (5.0, -8.0)
		just = [center center]
		child_anchor = [center center]
	}
	createscreenelement {
		type = spriteelement
		parent = goal_arcade_skater
		id = goal_arcade_skater_hair
		just = [center bottom]
		pos = (-2.0, -33.0)
		texture = HUD_arcade_skater_hair
		z_priority = 11
		rgba = ((<available_characters> [$goal_arcade_current_character]).hair_rgba)
	}
	createscreenelement {
		type = spriteelement
		parent = goal_arcade_skater
		id = goal_arcade_skater_skin
		just = [center bottom]
		pos = (-4.0, 20.0)
		dims = (64.0, 64.0)
		texture = HUD_arcade_skater_skin
		z_priority = 10
		rgba = ((<available_characters> [$goal_arcade_current_character]).skin_rgba)
	}
	createscreenelement {
		type = spriteelement
		parent = goal_arcade_skater
		id = goal_arcade_skater_shirt
		just = [center bottom]
		pos = (-1.0, 20.0)
		texture = HUD_arcade_skater_shirt
		z_priority = 11
		rgba = ((<available_characters> [$goal_arcade_current_character]).shirt_rgba)
	}
	createscreenelement {
		type = spriteelement
		parent = goal_arcade_skater
		id = goal_arcade_skater_pants
		just = [center top]
		texture = HUD_arcade_skater_pants
		z_priority = 10
		rgba = ((<available_characters> [$goal_arcade_current_character]).pants_rgba)
	}
	createscreenelement {
		type = spriteelement
		parent = goal_arcade_skater
		id = goal_arcade_skater_shoes
		pos = (-2.0, 50.0)
		just = [center top]
		texture = HUD_arcade_skater_shoes
		z_priority = 9
		rgba = ((<available_characters> [$goal_arcade_current_character]).shoes_rgba)
	}
	createscreenelement {
		type = spriteelement
		parent = goal_arcade_skater
		id = goal_arcade_skater_deck
		just = [center top]
		pos = (-24.0, 5.0)
		texture = HUD_arcade_skater_deck
		z_priority = 9
		rgba = ((<available_characters> [$goal_arcade_current_character]).deck_rgba)
	}
	launchevent type = focus target = goal_arcade_menu_skater
endscript

script goal_arcade_get_available_characters 
	<available_characters> = []
	getarraysize \{$goal_arcade_characters}
	<i> = 0
	begin
	if goal_arcade_is_skater_available arcade_skater = ($goal_arcade_characters [<i>])
		addarrayelement array = <available_characters> element = ($goal_arcade_characters [<i>])
		<available_characters> = <array>
	endif
	<i> = (<i> + 1)
	repeat <array_size>
	return available_characters = <available_characters>
endscript

script goal_arcade_is_skater_available 
	requireparams \{[
			arcade_skater
		]
		all}
	if NOT getglobalflag \{flag = $CHEAT_UNLOCK_ALL_SKATERS}
		if structurecontains structure = <arcade_skater> unlock_flag
			if NOT getglobalflag flag = (<arcade_skater>.unlock_flag)
				return \{false}
			endif
		endif
	endif
	return \{true}
endscript

script goal_arcade_set_skater 
	printf "goal_arcade_set_skater"
	soundevent event = arcade_select_SFX
	gman_setdata goal = <goal> params = {arcade_skater = <arcade_skater>}
	setscreenelementprops {
		id = goal_arcade_container
		event_handlers = [
			{pad_back goal_arcade_set_game params = {goal = <goal> arcade_game = <arcade_game>}}
		]
		replace_handlers
	}
	setscreenelementprops id = goal_arcade_title text = "LET'S SKATE!"
	destroyscreenelement id = goal_arcade_menu
	createscreenelement {
		type = vmenu
		parent = goal_arcade_container
		id = goal_arcade_menu
		pos = (0.0, 200.0)
		just = [center center]
	}
	createscreenelement {
		type = containerelement
		parent = goal_arcade_menu
		dims = (500.0, 64.0)
		child_anchor = [center center]
		just = [center center]
		event_handlers = [
			{focus goal_arcade_menu_focus}
			{unfocus goal_arcade_menu_unfocus}
			{pad_choose goal_arcade_start_game params = {goal = <goal>}}
			{pad_down goal_arcade_scroll_sfx}
			{pad_up goal_arcade_scroll_sfx}
		]
		tags = {
			width = 500
		}
	}
	<container_id> = <id>
	goal_arcade_menu_bg parent = <container_id> local_id = bg width = 500 z_priority = 8 bg_rgba = [64 64 64 128] fg_rgba = [140 140 140 255]
	goal_arcade_menu_bg parent = <container_id> local_id = shadow width = 500 z_priority = 7 pos = (2.0, 2.0) fg_rgba = [90 90 90 255] nobg
	createscreenelement {
		type = textelement
		parent = <container_id>
		local_id = text
		font = text_a1
		pos = (0.0, 0.0)
		just = [center center]
		rgba = [200 200 200 255]
		scale = (0.9, 0.71999997)
		text = "PRESS \\m0 TO CONTINUE"
		z_priority = 9
		shadow
		shadow_rgba = [30 30 80 255]
		shadow_offs = (0.0, 3.0)
	}
	launchevent type = focus target = goal_arcade_container
endscript

script goal_arcade_start_game 
	soundevent \{event = arcade_select_SFX}
	change \{goal_arcade_activating_subgoal = 1}
	printf \{'goal_arcade_activating_subgoal=1'}
	if screenelementexists \{id = goal_arcade_container}
		destroyscreenelement \{id = goal_arcade_container}
	endif
	unpauseskaters
	skater :unpausephysics
	gman_deactivategoal goal = <goal>
endscript

script goal_arcade_menu_focus 
	printf "goal_arcade_menu_focus"
	gettags
	if NOT screenelementexists id = {<id> child = text}
		return
	endif
	doscreenelementmorph {
		id = {<id> child = text}
		rgba = [220 220 180 255]
		shadow
	}
	if screenelementexists id = goal_arcade_arrows
		destroyscreenelement id = goal_arcade_arrows
	endif
	<parent> = <id>
	createscreenelement {
		type = containerelement
		parent = <parent>
		id = goal_arcade_arrows
		pos = (0.0, 0.0)
		just = [center center]
		child_anchor = [center center]
	}
	createscreenelement {
		type = spriteelement
		parent = goal_arcade_arrows
		texture = HUD_arcade_button_arrow
		just = [left center]
		pos = (((1.0, 0.0) * (<width> * -0.5)) + (32.0, 0.0))
		rgba = [220 220 180 255]
		z_priority = 10
	}
	createscreenelement {
		type = spriteelement
		parent = goal_arcade_arrows
		texture = HUD_arcade_button_arrow
		just = [right center]
		pos = (((1.0, 0.0) * (<width> * 0.5)) + (-32.0, 0.0))
		rgba = [220 220 180 255]
		z_priority = 10
		flip_v
	}
	createscreenelement {
		type = spriteelement
		parent = goal_arcade_arrows
		texture = HUD_arcade_button_arrow
		just = [left center]
		pos = ((((1.0, 0.0) * (<width> * -0.5)) + (32.0, 0.0)) + (0.0, 4.0))
		rgba = [30 30 80 255]
		z_priority = 9.5
	}
	createscreenelement {
		type = spriteelement
		parent = goal_arcade_arrows
		texture = HUD_arcade_button_arrow
		just = [right center]
		pos = ((((1.0, 0.0) * (<width> * 0.5)) + (-32.0, 0.0)) + (0.0, 4.0))
		rgba = [30 30 80 255]
		z_priority = 9.5
		flip_v
	}
	if screenelementexists id = {<parent> child = bg}
		destroyscreenelement id = {<parent> child = bg}
	endif
	if screenelementexists id = {<parent> child = shadow}
		destroyscreenelement id = {<parent> child = shadow}
	endif
	goal_arcade_menu_bg parent = <parent> local_id = bg width = <width> z_priority = 8 bg_rgba = [60 170 255 100]
	goal_arcade_menu_bg parent = <parent> local_id = shadow width = <width> z_priority = 7 pos = (2.0, 4.0) fg_rgba = [0 0 0 255] nobg
endscript

script goal_arcade_menu_unfocus 
	gettags
	if NOT screenelementexists id = {<id> child = text}
		return
	endif
	doscreenelementmorph {
		id = {<id> child = text}
		rgba = [140 140 140 255]
		no_shadow
	}
	<parent> = <id>
	if screenelementexists id = {<parent> child = bg}
		destroyscreenelement id = {<parent> child = bg}
	endif
	if screenelementexists id = {<parent> child = shadow}
		destroyscreenelement id = {<parent> child = shadow}
	endif
	goal_arcade_menu_bg parent = <parent> local_id = bg width = <width> z_priority = 8 bg_rgba = [64 64 64 128] fg_rgba = [140 140 140 255]
	goal_arcade_menu_bg parent = <parent> local_id = shadow width = <width> z_priority = 7 pos = (2.0, 2.0) fg_rgba = [90 90 90 255] nobg
endscript

script goal_arcade_menu_bg pos = (0.0, 0.0) width = 450 height = 64 just = [center center] z_priority = 8 bg_rgba = [220 220 180 128] fg_rgba = [220 220 180 255]
	if NOT gotparam parent
		return
	endif
	if NOT gotparam local_id
		return
	endif
	createscreenelement {
		type = containerelement
		parent = <parent>
		local_id = <local_id>
		pos = <pos>
		just = <just>
		child_anchor = [center center]
		dims = (((1.0, 0.0) * <width>) + ((0.0, 1.0) * <height>))
	}
	<parent> = <id>
	createscreenelement {
		type = spriteelement
		parent = <parent>
		texture = HUD_arcade_button_line
		just = [left top]
		pos = (((1.0, 0.0) * (<width> * -0.5)) + ((0.0, 1.0) * (<height> * -0.5)))
		z_priority = (<z_priority> + 1)
		rgba = <fg_rgba>
	}
	createscreenelement {
		type = spriteelement
		parent = <parent>
		texture = HUD_arcade_button_line
		just = [right top]
		pos = (((1.0, 0.0) * (<width> * 0.5)) + ((0.0, 1.0) * (<height> * -0.5)))
		z_priority = (<z_priority> + 1)
		rgba = <fg_rgba>
		flip_v
	}
	createscreenelement {
		type = spriteelement
		parent = <parent>
		texture = HUD_arcade_button_line
		just = [left bottom]
		pos = (((1.0, 0.0) * (<width> * -0.5)) + ((0.0, 1.0) * (<height> * 0.5)))
		z_priority = (<z_priority> + 1)
		rgba = <fg_rgba>
		flip_h
	}
	createscreenelement {
		type = spriteelement
		parent = <parent>
		texture = HUD_arcade_button_line
		just = [right bottom]
		pos = (((1.0, 0.0) * (<width> * 0.5)) + ((0.0, 1.0) * (<height> * 0.5)))
		z_priority = (<z_priority> + 1)
		rgba = <fg_rgba>
		flip_v
		flip_h
	}
	createscreenelement {
		type = spriteelement
		parent = <parent>
		texture = white
		just = [center top]
		pos = ((0.0, 1.0) * (<height> * -0.5))
		dims = (((1.0, 0.0) * (<width> - 64)) + (0.0, 4.0))
		z_priority = (<z_priority> + 1)
		rgba = <fg_rgba>
	}
	createscreenelement {
		type = spriteelement
		parent = <parent>
		texture = white
		just = [center bottom]
		pos = ((0.0, 1.0) * (<height> * 0.5))
		dims = (((1.0, 0.0) * (<width> - 64)) + (0.0, 4.0))
		z_priority = (<z_priority> + 1)
		rgba = <fg_rgba>
	}
	createscreenelement {
		type = spriteelement
		parent = <parent>
		texture = white
		just = [left center]
		pos = ((1.0, 0.0) * (<width> * -0.5))
		dims = ((4.0, 0.0) + ((0.0, 1.0) * (<height> - 64)))
		z_priority = (<z_priority> + 1)
		rgba = <fg_rgba>
	}
	createscreenelement {
		type = spriteelement
		parent = <parent>
		texture = white
		just = [right center]
		pos = ((1.0, 0.0) * (<width> * 0.5))
		dims = ((4.0, 0.0) + ((0.0, 1.0) * (<height> - 64)))
		z_priority = (<z_priority> + 1)
		rgba = <fg_rgba>
	}
	if NOT gotparam nobg
		createscreenelement {
			type = spriteelement
			parent = <parent>
			texture = HUD_arcade_button_solid
			just = [left top]
			pos = (((1.0, 0.0) * (<width> * -0.5)) + ((0.0, 1.0) * (<height> * -0.5)))
			z_priority = <z_priority>
			rgba = <bg_rgba>
		}
		createscreenelement {
			type = spriteelement
			parent = <parent>
			texture = HUD_arcade_button_solid
			just = [right top]
			pos = (((1.0, 0.0) * (<width> * 0.5)) + ((0.0, 1.0) * (<height> * -0.5)))
			z_priority = <z_priority>
			rgba = <bg_rgba>
			flip_v
		}
		createscreenelement {
			type = spriteelement
			parent = <parent>
			texture = HUD_arcade_button_solid
			just = [left bottom]
			pos = (((1.0, 0.0) * (<width> * -0.5)) + ((0.0, 1.0) * (<height> * 0.5)))
			z_priority = <z_priority>
			rgba = <bg_rgba>
			flip_h
		}
		createscreenelement {
			type = spriteelement
			parent = <parent>
			texture = HUD_arcade_button_solid
			just = [right bottom]
			pos = (((1.0, 0.0) * (<width> * 0.5)) + ((0.0, 1.0) * (<height> * 0.5)))
			z_priority = <z_priority>
			rgba = <bg_rgba>
			flip_v
			flip_h
		}
		createscreenelement {
			type = spriteelement
			parent = <parent>
			texture = white
			just = [center top]
			pos = ((0.0, 1.0) * (<height> * -0.5))
			dims = (((1.0, 0.0) * (<width> - 64)) + (0.0, 32.0))
			z_priority = <z_priority>
			rgba = <bg_rgba>
		}
		createscreenelement {
			type = spriteelement
			parent = <parent>
			texture = white
			just = [center bottom]
			pos = ((0.0, 1.0) * (<height> * 0.5))
			dims = (((1.0, 0.0) * (<width> - 64)) + (0.0, 32.0))
			z_priority = <z_priority>
			rgba = <bg_rgba>
		}
		createscreenelement {
			type = spriteelement
			parent = <parent>
			texture = white
			just = [left center]
			pos = ((1.0, 0.0) * (<width> * -0.5))
			dims = ((32.0, 0.0) + ((0.0, 1.0) * (<height> - 64)))
			z_priority = <z_priority>
			rgba = <bg_rgba>
		}
		createscreenelement {
			type = spriteelement
			parent = <parent>
			texture = white
			just = [right center]
			pos = ((1.0, 0.0) * (<width> * 0.5))
			dims = ((32.0, 0.0) + ((0.0, 1.0) * (<height> - 64)))
			z_priority = <z_priority>
			rgba = <bg_rgba>
		}
		createscreenelement {
			type = spriteelement
			parent = <parent>
			texture = white
			just = [center center]
			pos = (0.0, 0.0)
			dims = (((1.0, 0.0) * (<width> - 64)) + ((0.0, 1.0) * (<height> - 64)))
			z_priority = <z_priority>
			rgba = <bg_rgba>
		}
	endif
endscript

script goal_arcade_menu_up 
	<i> = ($goal_arcade_current_character - 1)
	if (<i> < 0)
		return
	endif
	soundevent event = arcade_scroll_SFX
	change goal_arcade_current_character = <i>
	goal_arcade_get_available_characters
	if (<i> < $goal_arcade_top_character)
		change goal_arcade_top_character = <i>
		<j> = <i>
		<k> = 0
		begin
		setscreenelementprops {
			id = {goal_arcade_menu_skater child = {<k> child = text}}
			text = ((<available_characters> [<j>].text))
		}
		setscreenelementprops {
			id = {goal_arcade_menu_skater child = <k>}
			event_handlers = [
				{pad_choose ((<available_characters> [<j>]).pad_choose_script) params = {arcade_skater = ((<available_characters> [<j>]).arcade_skater) goal = <goal> arcade_game = <arcade_game>}}
			]
			replace_handlers
		}
		<j> = (<j> + 1)
		<k> = (<k> + 1)
		repeat 4
	endif
	setscreenelementprops {
		id = goal_arcade_skater_hair
		rgba = ((<available_characters> [<i>]).hair_rgba)
	}
	setscreenelementprops {
		id = goal_arcade_skater_skin
		rgba = ((<available_characters> [<i>]).skin_rgba)
	}
	setscreenelementprops {
		id = goal_arcade_skater_shirt
		rgba = ((<available_characters> [<i>]).shirt_rgba)
	}
	setscreenelementprops {
		id = goal_arcade_skater_pants
		rgba = ((<available_characters> [<i>]).pants_rgba)
	}
	setscreenelementprops {
		id = goal_arcade_skater_shoes
		rgba = ((<available_characters> [<i>]).shoes_rgba)
	}
	setscreenelementprops {
		id = goal_arcade_skater_deck
		rgba = ((<available_characters> [<i>]).deck_rgba)
	}
	if NOT ($goal_arcade_top_character = 0)
		if NOT screenelementexists id = goal_arcade_skate_up
			createscreenelement {
				type = containerelement
				parent = {goal_arcade_menu_skater child = 0}
				id = goal_arcade_skate_up
				pos = (0.0, -45.0)
				just = [center center]
				child_anchor = [center center]
				scale = 1.25
			}
			createscreenelement {
				type = spriteelement
				parent = goal_arcade_skate_up
				texture = HUD_arcade_button_arrow
				just = [center center]
				rgba = [220 220 180 255]
				rot_angle = -90
				z_priority = 10
			}
			createscreenelement {
				type = spriteelement
				parent = goal_arcade_skate_up
				texture = HUD_arcade_button_arrow
				pos = (0.0, -2.0)
				just = [center center]
				rgba = [30 30 30 255]
				rot_angle = -90
				z_priority = 9.5
			}
		endif
	else
		if screenelementexists id = goal_arcade_skate_up
			destroyscreenelement id = goal_arcade_skate_up
		endif
	endif
	getarraysize <available_characters>
	if NOT ($goal_arcade_top_character = (<array_size> - 4))
		if NOT screenelementexists id = goal_arcade_skate_down
			createscreenelement {
				type = containerelement
				parent = {goal_arcade_menu_skater child = 3}
				id = goal_arcade_skate_down
				pos = (0.0, 45.0)
				just = [center center]
				child_anchor = [center center]
				scale = 1.25
			}
			createscreenelement {
				type = spriteelement
				parent = goal_arcade_skate_down
				texture = HUD_arcade_button_arrow
				just = [center center]
				rgba = [220 220 180 255]
				rot_angle = 90
				z_priority = 10
			}
			createscreenelement {
				type = spriteelement
				parent = goal_arcade_skate_down
				texture = HUD_arcade_button_arrow
				just = [center center]
				pos = (0.0, 2.0)
				rgba = [30 30 30 255]
				rot_angle = 90
				z_priority = 9.5
			}
		endif
	else
		if screenelementexists id = goal_arcade_skate_down
			destroyscreenelement id = goal_arcade_skate_down
		endif
	endif
endscript

script goal_arcade_menu_down 
	<i> = ($goal_arcade_current_character + 1)
	goal_arcade_get_available_characters
	getarraysize <available_characters>
	if (<i> > (<array_size> - 1))
		return
	endif
	soundevent event = arcade_scroll_SFX
	change goal_arcade_current_character = <i>
	if (<i> > ($goal_arcade_top_character + 3))
		change goal_arcade_top_character = (<i> - 3)
		<j> = $goal_arcade_top_character
		<k> = 0
		begin
		setscreenelementprops {
			id = {goal_arcade_menu_skater child = {<k> child = text}}
			text = ((<available_characters> [<j>].text))
		}
		setscreenelementprops {
			id = {goal_arcade_menu_skater child = <k>}
			event_handlers = [
				{pad_choose ((<available_characters> [<j>]).pad_choose_script) params = {arcade_skater = ((<available_characters> [<j>]).arcade_skater) goal = <goal> arcade_game = <arcade_game>}}
			]
			replace_handlers
		}
		<j> = (<j> + 1)
		<k> = (<k> + 1)
		repeat 4
	endif
	setscreenelementprops {
		id = goal_arcade_skater_hair
		rgba = ((<available_characters> [<i>]).hair_rgba)
	}
	setscreenelementprops {
		id = goal_arcade_skater_skin
		rgba = ((<available_characters> [<i>]).skin_rgba)
	}
	setscreenelementprops {
		id = goal_arcade_skater_shirt
		rgba = ((<available_characters> [<i>]).shirt_rgba)
	}
	setscreenelementprops {
		id = goal_arcade_skater_pants
		rgba = ((<available_characters> [<i>]).pants_rgba)
	}
	setscreenelementprops {
		id = goal_arcade_skater_shoes
		rgba = ((<available_characters> [<i>]).shoes_rgba)
	}
	setscreenelementprops {
		id = goal_arcade_skater_deck
		rgba = ((<available_characters> [<i>]).deck_rgba)
	}
	if NOT ($goal_arcade_top_character = 0)
		if NOT screenelementexists id = goal_arcade_skate_up
			createscreenelement {
				type = containerelement
				parent = {goal_arcade_menu_skater child = 0}
				id = goal_arcade_skate_up
				pos = (0.0, -45.0)
				just = [center center]
				child_anchor = [center center]
				scale = 1.25
			}
			createscreenelement {
				type = spriteelement
				parent = goal_arcade_skate_up
				texture = HUD_arcade_button_arrow
				just = [center center]
				rgba = [220 220 180 255]
				rot_angle = -90
				z_priority = 10
			}
			createscreenelement {
				type = spriteelement
				parent = goal_arcade_skate_up
				texture = HUD_arcade_button_arrow
				pos = (0.0, -2.0)
				just = [center center]
				rgba = [30 30 30 255]
				rot_angle = -90
				z_priority = 9.5
			}
		endif
	else
		if screenelementexists id = goal_arcade_skate_up
			destroyscreenelement id = goal_arcade_skate_up
		endif
	endif
	if NOT ($goal_arcade_top_character = (<array_size> - 4))
		if NOT screenelementexists id = goal_arcade_skate_down
			createscreenelement {
				type = containerelement
				parent = {goal_arcade_menu_skater child = 3}
				id = goal_arcade_skate_down
				pos = (0.0, 45.0)
				just = [center center]
				child_anchor = [center center]
				scale = 1.25
			}
			createscreenelement {
				type = spriteelement
				parent = goal_arcade_skate_down
				texture = HUD_arcade_button_arrow
				just = [center center]
				rgba = [220 220 180 255]
				rot_angle = 90
				z_priority = 10
			}
			createscreenelement {
				type = spriteelement
				parent = goal_arcade_skate_down
				texture = HUD_arcade_button_arrow
				just = [center center]
				pos = (0.0, 2.0)
				rgba = [30 30 30 255]
				rot_angle = 90
				z_priority = 9.5
			}
		endif
	else
		if screenelementexists id = goal_arcade_skate_down
			destroyscreenelement id = goal_arcade_skate_down
		endif
	endif
endscript

script goal_arcade_post_deactivate 
	gman_getdata goal = <goal_id>
	switch <arcade_game>
		case classic
		gman_getconstant goal = <goal_id> name = classic_goal
		<next_goal> = <classic_goal>
		case high_score_run
		gman_getconstant goal = <goal_id> name = high_score_run_goal
		<next_goal> = <high_score_run_goal>
		case hawkman
		gman_getconstant goal = <goal_id> name = hawk_man_goal
		<next_goal> = <hawk_man_goal>
		case quit
		UnpauseObjects
		change goal_arcade_activating_subgoal = 0
		printf 'goal_arcade_activating_subgoal=0'
		return
		default
		UnpauseObjects
		change goal_arcade_activating_subgoal = 0
		printf 'goal_arcade_activating_subgoal=0'
		return
	endswitch
	gman_setdata goal = <next_goal> params = {initializing_from_historical_trigger = 1}
	if NOT gman_goalisinitialized goal = <next_goal>
		gman_initializegoal goal = <next_goal>
		begin
		if gman_goalisinitialized goal = <next_goal>
			break
		endif
		wait 2 gameframes
		repeat
	endif
	gman_setdata goal = <next_goal> params = {initializing_from_historical_trigger = 0}
	gman_setdata goal = <next_goal> params = {arcade_skater = <arcade_skater> arcade_goal_id = <goal_id>}
	spawnscriptlater goal_arcade_activate_arcade_game params = {next_goal = <next_goal>}
endscript

script goal_arcade_activate_arcade_game 
	UnpauseObjects
	gman_activategoal goal = <next_goal>
	change \{goal_arcade_activating_subgoal = 0}
	printf \{'goal_arcade_activating_subgoal=0'}
endscript

script goal_arcade_refresh_trigger 
	if gotparam \{sub_goal_id}
		if NOT gman_getdata goal = <sub_goal_id> name = arcade_goal_id
			return
		endif
	endif
	if gman_getdata goal = <arcade_goal_id> name = trigger_obj_id
		<trigger_obj_id> :goal_setup_arcade_trigger goal_id = <arcade_goal_id>
	endif
endscript

script goal_arcade_clear_trigger 
	if screenelementexists \{id = goal_start_dialog}
		destroyscreenelement \{id = goal_start_dialog}
	endif
endscript

script goal_arcade_set_arcade_skater 
	if gotparam goal_id
		<goal> = <goal_id>
	endif
	gman_getdata goal = <goal> name = arcade_skater
	if NOT gotparam arcade_skater
		softassert "goal_arcade_set_arcade_skater called but goal does not have arcade_skater value in data"
	endif
	SkaterSwapInTemporaryAppearance appearance = $<arcade_skater>
endscript

script goal_arcade_restore_career_skater 
	if NOT istrue \{$goal_is_between_retries}
		load_level_handle_loading_screen
		SkaterRestoreAfterTemporaryAppearance
		hideloadingscreen
	endif
endscript

script goal_arcade_screen_effects_update 
	<default_color> = [174 214 255]
	<default_intensity> = 0.1
	screenfx_addfxinstance name = arcade_noise viewport = 0 type = noise on = 1 intensity = <default_intensity> color = <default_color>
	begin
	getrandomvalue name = intensity a = <default_intensity> b = 0.1 resolution = 10
	getrandomvalue name = morph_time a = 0.1 b = 0.1 resolution = 5
	if screenfx_fxinstanceexists viewport = 0 name = arcade_noise
		screenfx_updatefxinstanceparams viewport = 0 name = arcade_noise time = <morph_time> intensity = <intensity> color = [174 214 255]
	endif
	wait <morph_time> seconds
	if screenfx_fxinstanceexists viewport = 0 name = arcade_noise
		screenfx_updatefxinstanceparams viewport = 0 name = arcade_noise time = (<morph_time> / 2.0) intensity = <default_intensity> color = <default_color>
	endif
	getrandomvalue name = wait_time a = 0.1 b = 0.1 resolution = 7
	wait <wait_time> seconds
	repeat
endscript

script goal_arcade_screen_effects_end 
	soundevent \{event = arcade_mzk_background_stop}
	killspawnedscript \{name = goal_arcade_screen_effects_update}
	if screenfx_fxinstanceexists \{viewport = 0
			name = arcade_noise}
		screenfx_removefxinstance \{viewport = 0
			name = arcade_noise}
	endif
	if screenelementexists \{id = goal_arcade_border}
		destroyscreenelement \{id = goal_arcade_border}
	endif
endscript

script goal_arcade_menu_scroll_SFX 
	soundevent \{event = arcade_scroll_SFX}
endscript

script goal_arcade_lock_secret 
	if getnodeflag \{nodeflag_z_secret_unlock}
		changenodeflag \{nodeflag_z_secret_lock
			1}
		changenodeflag \{nodeflag_z_secret_unlock
			0}
		changenodeflag \{nodeflag_z_secret_lock_wp
			1}
		changenodeflag \{nodeflag_z_secret_unlock_wp
			0}
	endif
endscript

script goal_arcade_unlock_secret 
	sk9_secret_area_unlock_check
endscript

script goal_arcade_scroll_sfx 
	soundevent \{event = arcade_scroll_SFX}
endscript

script goal_arcade_select_sfx 
	soundevent \{event = arcade_select_SFX}
endscript
