clapping_lag = 0
interiorpanningradius = 10
global_user_sfx_number = 10
guitar_always_volume_100 = 0
star_power_verb_is_on = 0
sfx_adjusted_guitar_volume = 100
highpass_cutoff_freq_modulated = 2000
lowpass_cutoff_freq_modulated = 1000
phaser_delay_time_modulated = 10
auto_wah_is_on = 0
wah_cutoff_freq_modulated = 900
current_audio_effect_type = highpass
guitar_audio_effects_are_on = 0
guitar_audio_effects_are_on_p1 = 0
guitar_audio_effects_are_on_p2 = 0
debug_audible_downbeat = 0
debug_audible_open = 0
debug_audible_close = 0
debug_audible_hitnote = 0
debug_audible_metronome = 0
lagtestpart1 = 0
lagtestpart2 = 0
lagtestpart3 = 0
lagtestpart4 = 0
viewvolumesonscreen = 0
crowdlistenerstateclapon1234 = 0
crowdlevelforsurges = 1.66
temp_language_hack = lang_english
crowd_anticipation_flag = 0
clap_fade = 0
halftime_clapping = 0
crowd_transition_start_of_song_normal = 0
star_clap_left = 0
star_clap_right = 0
star_clap_left_middle = 0
star_clap_right_middle = 0
star_clap_middle = 0
star_clap_normal = 0
star_clap_leftcenterright = 0
streamprioritylow = 10
streamprioritylowmid = 30
streamprioritymid = 50
streamprioritymidhigh = 70
streampriorityhigh = 90
streampriorityhighest = 95
streamprioritysystem = 109
star_power_deployed_flag = 0
star_power_ready_flag = 0
star_power_awarded_flag = 0
menu_music_pan_right = 0
global_soundevent_default_priority = 50
global_soundevent_default_buss = `default`
global_soundevent_norepeatfor = 0.1
global_soundevent_instancemanagement = stop_furthest
global_soundevent_instancelimit = 1
current_menu_song = menumusic_woman
guitar_knob_effects_position = 1
bass_knob_effects_position = 1
drum_knob_effects_position = 1
song_guitar_track_buss = leadgtr_balance
song_rhythm_track_buss = bass_balance
song_leadvox_track_buss = lead_vox
song_band_track_buss = band_balance
song_crowd_track_buss = crowd_singalong
song_drum_track_buss = drums_balance
instrument_missed_note_ramp_up_time = 0.0
instrument_missed_note_ramp_down_time = 0.02
starpower_sendeffect_slot = 1
current_crowd_anticipation = `default`
current_crowd_whistle_soundevent = `default`
current_crowd_oneshot_positive_soundevent = `default`
current_crowd_oneshot_negative_soundevent = `default`
current_crowd_looping_bg_area_bad = `default`
current_crowd_looping_bg_area_neutral = `default`
current_crowd_looping_bg_area_good = `default`
current_crowd_looping_bg_area = `default`
current_crowd_battle_cheer_l_p1 = `default`
current_crowd_battle_cheer_r_p1 = `default`
current_crowd_battle_cheer_l_p2 = `default`
current_crowd_battle_cheer_r_p2 = `default`
current_crowd_clap_normal_soundevent = `default`
current_crowd_clap_middle_soundevent = `default`
current_crowd_clap_right_soundevent = `default`
current_crowd_clap_left_soundevent = `default`
current_crowd_clap_right_middle_soundevent = `default`
current_crowd_clap_left_middle_soundevent = `default`
current_crowd_transition_bad_to_neutral_l = `default`
current_crowd_transition_bad_to_neutral_r = `default`
current_crowd_transition_neutral_to_bad_l = `default`
current_crowd_transition_neutral_to_bad_r = `default`
current_crowd_transition_neutral_to_good_l = `default`
current_crowd_transition_neutral_to_good_r = `default`
current_crowd_transition_good_to_neutral_l = `default`
current_crowd_transition_good_to_neutral_r = `default`
current_crowd_transition_bad_to_neutral = `default`
current_crowd_transition_neutral_to_bad = `default`
current_crowd_transition_neutral_to_good = `default`
current_crowd_transition_good_to_neutral = `default`
current_crowd_swell_short_soundevent_l = `default`
current_crowd_swell_short_soundevent_r = `default`
current_crowd_swell_short_soft_soundevent_l = `default`
current_crowd_swell_short_soft_soundevent_r = `default`
current_crowd_swell_med_soundevent_l = `default`
current_crowd_swell_med_soundevent_r = `default`
current_crowd_swell_long_soundevent_l = `default`
current_crowd_swell_long_soundevent_r = `default`
current_crowd_applause_soundevent_l = `default`
current_crowd_applause_soundevent_r = `default`
current_crowd_venue_intro_soundevent = `default`
current_crowd_preencore_looping_soundevent = `default`
current_crowd_encore = `default`
current_venue_size = `default`
turn_off_oneshot_cheers = 0
crowd_is_singing = 0
crowd_in_jam_mode_song_state = 0
crowd_in_front_end_state = 0
crowd_singalong_pan1x = -1
crowd_singalong_pan1y = 0
crowd_singalong_pan2x = 1
crowd_singalong_pan2y = 0
all_songs_master_volume = -2.0
cooppanning = {
	guitar = {
		mono_song_stream = false
		vocal_vol = 0
		center_player_pan = [
			-100
			100
		]
		guitar_vol_on = 0.7
		guitar_vol_off = -100
	}
	bass = {
		mono_song_stream = false
		vocal_vol = 0
		center_player_pan = [
			-100
			100
		]
		bass_vol_on = 4.5
		bass_vol_off = -100
	}
	drums = {
		mono_song_stream = false
		vocal_vol = 0
		center_player_pan = [
			-100
			100
		]
		mono_drums_center_pan = [
			0
			0
		]
		drums_vol_on = 2
		drums_vol_off = -100
		mono_drums_vol_on = 2
		mono_drums_vol_off = -100
	}
	vocals = {
		mono_song_stream = false
		vocal_vol = 1.5
	}
	bossbattle = {
		mono_song_stream = true
		vocal_vol = 0
		left_player_pan = [
			-100
			100
		]
		right_player_pan = [
			-100
			100
		]
		guitar_vol_on = 0.7
		guitar_vol_off = -100
		bass_vol_on = 0.7
		bass_vol_off = -100
	}
	guitarbass = {
		mono_song_stream = true
		vocal_vol = 0
		left_player_pan = [
			-90
			-25
		]
		right_player_pan = [
			25
			90
		]
		guitar_vol_on = 0.7
		guitar_vol_off = -100
		bass_vol_on = 2
		bass_vol_off = -100
	}
	guitardrums = {
		mono_song_stream = true
		vocal_vol = 0
		left_player_pan = [
			-100
			50
		]
		right_player_pan = [
			-50
			100
		]
		mono_drums_left_pan = [
			-25
			-25
		]
		mono_drums_right_pan = [
			25
			25
		]
		guitar_vol_on = 0.7
		guitar_vol_off = -100
		drums_vol_on = 1.5
		drums_vol_off = -100
		mono_drums_vol_on = 1.5
		mono_drums_vol_off = -100
	}
	guitarvocals = {
		mono_song_stream = false
		vocal_vol = 1.5
		center_player_pan = [
			-100
			100
		]
		guitar_vol_on = 0.7
		guitar_vol_off = -100
	}
	bassdrums = {
		mono_song_stream = false
		vocal_vol = 0
		left_player_pan = [
			-100
			50
		]
		right_player_pan = [
			-50
			100
		]
		mono_drums_left_pan = [
			-25
			-25
		]
		mono_drums_right_pan = [
			25
			25
		]
		bass_vol_on = 2
		bass_vol_off = -100
		drums_vol_on = 2
		drums_vol_off = -100
		mono_drums_vol_on = 2
		mono_drums_vol_off = -100
	}
	bassvocals = {
		mono_song_stream = false
		vocal_vol = 2
		center_player_pan = [
			-100
			100
		]
		bass_vol_on = 2
		bass_vol_off = -100
	}
	drumsvocals = {
		mono_song_stream = false
		vocal_vol = 2
		left_player_pan = [
			-100
			100
		]
		right_player_pan = [
			-100
			100
		]
		mono_drums_left_pan = [
			0
			0
		]
		mono_drums_right_pan = [
			0
			0
		]
		drums_vol_on = 2
		drums_vol_off = -100
		mono_drums_vol_on = 2
		mono_drums_vol_off = -100
	}
	guitarbassdrums = {
		mono_song_stream = true
		vocal_vol = 0
		left_player_pan = [
			-90
			-25
		]
		center_player_pan = [
			-100
			100
		]
		right_player_pan = [
			25
			90
		]
		mono_drums_center_pan = [
			0
			0
		]
		guitar_vol_on = 0.7
		guitar_vol_off = -100
		bass_vol_on = 2
		bass_vol_off = -100
		drums_vol_on = 1
		drums_vol_off = -100
		mono_drums_vol_on = 1
		mono_drums_vol_off = -100
	}
	guitarbassvocals = {
		mono_song_stream = true
		vocal_vol = 1.5
		left_player_pan = [
			-90
			-25
		]
		right_player_pan = [
			25
			90
		]
		guitar_vol_on = 0.7
		guitar_vol_off = -100
		bass_vol_on = 2
		bass_vol_off = -100
	}
	guitardrumsvocals = {
		mono_song_stream = true
		vocal_vol = 1.5
		left_player_pan = [
			-100
			0
		]
		right_player_pan = [
			0
			100
		]
		mono_drums_left_pan = [
			-50
			-50
		]
		mono_drums_right_pan = [
			50
			50
		]
		guitar_vol_on = 0.7
		guitar_vol_off = -100
		drums_vol_on = 1
		drums_vol_off = -100
		mono_drums_vol_on = 1
		mono_drums_vol_off = -100
	}
	bassdrumsvocals = {
		mono_song_stream = false
		vocal_vol = 1.5
		left_player_pan = [
			-100
			0
		]
		right_player_pan = [
			0
			100
		]
		mono_drums_left_pan = [
			-50
			-50
		]
		mono_drums_right_pan = [
			50
			50
		]
		bass_vol_on = 2
		bass_vol_off = -100
		drums_vol_on = 1
		drums_vol_off = -100
		mono_drums_vol_on = 1
		mono_drums_vol_off = -100
	}
	guitarbassdrumsvocals = {
		mono_song_stream = true
		vocal_vol = 0
		left_player_pan = [
			-90
			-25
		]
		center_player_pan = [
			-100
			100
		]
		right_player_pan = [
			25
			90
		]
		mono_drums_center_pan = [
			0
			0
		]
		guitar_vol_on = 0
		guitar_vol_off = -100
		bass_vol_on = 0
		bass_vol_off = -100
		drums_vol_on = 0
		drums_vol_off = -100
		mono_drums_vol_on = 0
		mono_drums_vol_off = -100
	}
}
faceoffpanning = {
	guitar = {
		mono_song_stream = true
		vocal_vol = 0
		p1_on_p2_on = {
			p1_vol = -5.3
			p2_vol = -5.3
			p1_pan = [
				-70
				-40
			]
			p2_pan = [
				40
				70
			]
		}
		p1_off_p2_on = {
			p1_vol = -100
			p2_vol = 0.7
			p1_pan = [
				-70
				-40
			]
			p2_pan = [
				40
				70
			]
		}
		p1_on_p2_off = {
			p1_vol = 0.7
			p2_vol = -100
			p1_pan = [
				-70
				-40
			]
			p2_pan = [
				40
				70
			]
		}
		p1_off_p2_off = {
			p1_vol = -100
			p2_vol = -100
			p1_pan = [
				-70
				-40
			]
			p2_pan = [
				40
				70
			]
		}
	}
	bass = {
		mono_song_stream = false
		vocal_vol = 0
		p1_on_p2_on = {
			p1_vol = 0
			p2_vol = 0
			p1_pan = [
				-90
				-25
			]
			p2_pan = [
				25
				90
			]
		}
		p1_off_p2_on = {
			p1_vol = -100
			p2_vol = 3
			p1_pan = [
				-90
				-25
			]
			p2_pan = [
				25
				90
			]
		}
		p1_on_p2_off = {
			p1_vol = 3
			p2_vol = -100
			p1_pan = [
				-90
				-25
			]
			p2_pan = [
				25
				90
			]
		}
		p1_off_p2_off = {
			p1_vol = -100
			p2_vol = -100
			p1_pan = [
				-90
				-25
			]
			p2_pan = [
				25
				90
			]
		}
	}
	drums = {
		mono_song_stream = false
		vocal_vol = 0
		p1_on_p2_on = {
			kick_vol = 2
			snare_vol = 2
			tom_vol = 2
			cymbal_vol = 2
			kick_pan = [
				-100
				100
			]
			snare_pan = [
				-100
				100
			]
			tom_pan = [
				-100
				100
			]
			cymbal_pan = [
				-100
				100
			]
		}
		p1_off_p2_on = {
			kick_vol = 0
			snare_vol = 0
			tom_vol = 1
			cymbal_vol = 1
			kick_pan = [
				25
				100
			]
			snare_pan = [
				25
				100
			]
			tom_pan = [
				25
				100
			]
			cymbal_pan = [
				25
				100
			]
		}
		p1_on_p2_off = {
			kick_vol = 0
			snare_vol = 0
			tom_vol = 1
			cymbal_vol = 1
			kick_pan = [
				-100
				-25
			]
			snare_pan = [
				-100
				-25
			]
			tom_pan = [
				-100
				-25
			]
			cymbal_pan = [
				-100
				-25
			]
		}
		p1_off_p2_off = {
			kick_vol = -100
			snare_vol = -100
			tom_vol = -100
			cymbal_vol = -100
			kick_pan = [
				-75
				75
			]
			snare_pan = [
				-75
				75
			]
			tom_pan = [
				-75
				75
			]
			cymbal_pan = [
				-75
				75
			]
		}
	}
	monodrums = {
		mono_song_stream = false
		vocal_vol = 0
		p1_on_p2_on = {
			kick_vol = 2
			snare_vol = 2
			tom_vol = 2
			cymbal_vol = 2
			kick_pan = [
				0
				0
			]
			snare_pan = [
				0
				0
			]
			tom_pan = [
				0
				0
			]
			cymbal_pan = [
				0
				0
			]
		}
		p1_off_p2_on = {
			kick_vol = 2
			snare_vol = 2
			tom_vol = 2
			cymbal_vol = 2
			kick_pan = [
				50
				50
			]
			snare_pan = [
				50
				50
			]
			tom_pan = [
				50
				50
			]
			cymbal_pan = [
				50
				50
			]
		}
		p1_on_p2_off = {
			kick_vol = 2
			snare_vol = 2
			tom_vol = 2
			cymbal_vol = 2
			kick_pan = [
				-50
				-50
			]
			snare_pan = [
				-50
				-50
			]
			tom_pan = [
				-50
				-50
			]
			cymbal_pan = [
				-50
				-50
			]
		}
		p1_off_p2_off = {
			kick_vol = -100
			snare_vol = -100
			tom_vol = -100
			cymbal_vol = -100
			kick_pan = [
				0
				0
			]
			snare_pan = [
				0
				0
			]
			tom_pan = [
				0
				0
			]
			cymbal_pan = [
				0
				0
			]
		}
	}
	vocals = {
		mono_song_stream = false
		vocal_vol = 0
		p1_on_p2_on = {
			p1_vol = -6
			p2_vol = -6
			p1_pan = [
				-50
				-14
			]
			p2_pan = [
				14
				50
			]
		}
		p1_off_p2_on = {
			p1_vol = -100
			p2_vol = 0
			p1_pan = [
				-50
				-14
			]
			p2_pan = [
				14
				50
			]
		}
		p1_on_p2_off = {
			p1_vol = 0
			p2_vol = -100
			p1_pan = [
				-50
				-14
			]
			p2_pan = [
				14
				50
			]
		}
		p1_off_p2_off = {
			p1_vol = -100
			p2_vol = -100
			p1_pan = [
				-50
				-14
			]
			p2_pan = [
				14
				50
			]
		}
	}
}

script soundevent 
	printf channel = sfx qs(0xa1212c19) a = <event>
	soundeventfast <...>
endscript

script registersoundevent 
	addsoundeventscript soundevent_eventid = <soundevent_eventid>
	onexitrun deregistersoundevent params = {soundevent_eventid = <soundevent_eventid>}
	<event> <...>
endscript

script deregistersoundevent 
	removesoundeventscript soundevent_eventid = <soundevent_eventid>
endscript

script master_sfx_adding_sound_busses 
	createbusssystem \{$busstree}
	setsoundbussparams \{$default_bussset}
	setsoundbussparams \{$default_bussset
		time = 0.5}
	soundbusslock \{master}
	soundbusslock \{user_leadvox}
	soundbusslock \{user_drums}
	soundbusslock \{user_leadgtr}
	soundbusslock \{user_bass}
	soundbusslock \{user_rhythmgtr}
	soundbusslock \{user_crowd}
	soundbusslock \{user_sfx}
	soundbusslock \{user_band}
	soundbusslock \{user_crowdsingalong}
	soundbusslock \{user_misc}
endscript

script printpushpopdebuginfo 
	if NOT gotparam \{push}
		if NOT gotparam \{pop}
			printf \{qs(0xf0680b89)}
			return
		endif
	endif
	if gotparam \{push}
		pushpop = qs(0x1acc2a0c)
	else
		pushpop = qs(0x8637b58f)
	endif
	if NOT gotparam \{name}
		printf \{qs(0xd2bb34b1)}
		return
	endif
	printf qs(0x3c00af92) a = <name> b = <pushpop>
endscript

script gh3_change_crowd_reverb_settings_by_venue 
	getpakmancurrent \{map = zones}
	printf channel = sfx qs(0x28d12439) s = <pak>
	switch <pak>
		case z_london
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_london
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_london
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_bayou
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_bayou
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_bayou
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_goth
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_goth
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_goth
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_hotel
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_hotel
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_hotel
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_cathedral
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_cathedral
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_cathedral
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_recordstore
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_recordstore
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_recordstore
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_frathouse
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_frathouse
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_frathouse
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_metalfest
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_metalfest
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_metalfest
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_fairgrounds
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_fairgrounds
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_fairgrounds
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_newyork
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_newyork
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_newyork
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_ballpark
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_ballpark
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_ballpark
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_castle
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_castle
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_castle
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_military
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_military
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_military
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_harbor
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_harbor
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_harbor
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_scifi
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_scifi
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_scifi
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_submarine
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_submarine
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_submarine
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_party
		printf \{qs(0x713755f7)}
		case z_justice
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_justice
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_justice
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_mop
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_mop
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_mop
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_donnington
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_justice
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_justice
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_forum
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_forum
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_forum
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_meadowlands
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_meadowlands
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_meadowlands
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_tushino
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_tushino
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_tushino
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_stone
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_stone
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_stone
					name = crowd_w_reverb_buss_echo
				}
			]}
		case z_icecave
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_z_icecave
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_z_icecave
					name = crowd_w_reverb_buss_echo
				}
			]}
		default
		setsoundbusseffects \{effects = [
				{
					$reverb_crowd_buss_default_semiwet
					name = crowd_w_reverb_buss_reverb
				}
			]}
		setsoundbusseffects \{effects = [
				{
					$echo_crowd_buss_default_semiwet
					name = crowd_w_reverb_buss_echo
				}
			]}
	endswitch
endscript

script generic_reverb_functionality_script \{newechosettings = $echo_dry
		echofadetime = 0.5
		newreverbsettings = $reverb_dry
		reverbfadetime = 0.5}
	if inside
		if gotparam \{newechosettings}
			if gotparam \{echofadetime}
				setsoundbusseffects effects = [{<newechosettings> name = crowd_w_reverb_buss_echo}] time = <echofadetime>
			else
				setsoundbusseffects effects = [{<newechosettings> name = crowd_w_reverb_buss_echo}]
			endif
		endif
		if gotparam \{newreverbsettings}
			if gotparam \{reverbfadetime}
				setsoundbusseffects effects = [{<newreverbsettings> name = crowd_w_reverb_buss_reverb}] time = <reverbfadetime>
			else
				setsoundbusseffects effects = [{<newreverbsettings> name = crowd_w_reverb_buss_reverb}]
			endif
		endif
	else
		if gotparam \{destroyed}
		else
			if gotparam \{created}
			else
				if gotparam \{exitechosettings}
					if gotparam \{exitechofadetime}
						setsoundbusseffects effects = [{<exitechosettings> name = crowd_w_reverb_buss_echo}] time = <exitechofadetime>
					else
						setsoundbusseffects effects = [{<exitechosettings> name = crowd_w_reverb_buss_echo}]
					endif
				endif
				if gotparam \{exitreverbsettings}
					if gotparam \{exitreverbfadetime}
						setsoundbusseffects effects = [{<exitreverbsettings> name = crowd_w_reverb_buss_reverb}] time = <exitreverbfadetime>
					else
						setsoundbusseffects effects = [{<exitreverbsettings> name = crowd_w_reverb_buss_reverb}]
					endif
				endif
			endif
		endif
	endif
endscript

script gh_star_power_verb_on 
	printf \{channel = sfx
		qs(0x9892061a)}
	getplayerinfo <player> part
	printf channel = sfx qs(0xbaecfbed) s = <player>
	if ($star_power_verb_is_on = 1)
		printf \{channel = sfx
			qs(0xf3504361)}
		if NOT issingleplayergame
			printf \{channel = sfx
				qs(0x4292e934)}
			spawnscriptnow star_power_clap_panning_multiple params = {player = <player>}
			spawnscriptnow star_power_deployed_sfx_multiplayer params = {player = <player>}
			get_song_tempo_cfunc
			oneandahalfbeats = (<beat_duration> * 1.5)
			printf channel = sfx qs(0x3d45af48) s = <oneandahalfbeats>
			if (<oneandahalfbeats> > 600)
				if (<beat_duration> > 400)
					beat_duration = (<beat_duration> / 2)
				endif
				if (<beat_duration> > 400)
					beat_duration = (<beat_duration> / 2)
				endif
				if (<beat_duration> > 400)
					beat_duration = (<beat_duration> / 2)
				endif
				if (<beat_duration> > 400)
					beat_duration = 400
				endif
			else
				beat_duration = <oneandahalfbeats>
			endif
			printf channel = sfx qs(0xa8e933a2) s = <beat_duration>
			printf \{channel = sfx
				qs(0x05b68718)}
			setsoundbusseffects effects = [{effect = echo name = starpowerecho delay = <beat_duration>}]
			switch <part>
				case guitar
				printf \{channel = sfx
					qs(0xaf3a873b)}
				setsoundbusseffects \{effects = [
						{
							effect = echo
							name = starpowerecho
							wetmix = 0.0
							drymix = 0.2
							decayratio = 0.0
						}
					]}
				setsoundbusseffects \{effects = [
						{
							effect = sfxreverb
							name = starpowerreverb
							drylevel = -1000.0
							reverblevel = 2000
							reflectionslevel = 1000
							room = -2000
							roomrollofffactor = 18
							reverbdelay = 0.1
							decaytime = 3.0
							roomhf = -500
						}
					]
					time = 0.1}
				songsetstarpowereffectssendvolume player = <player> vol = 6
				case bass
				printf \{channel = sfx
					qs(0xf7672ca5)}
				setsoundbusseffects \{effects = [
						{
							effect = echo
							name = starpowerecho
							wetmix = 0.3
							drymix = 0.7
							decayratio = 0.25
						}
					]}
				setsoundbusseffects \{effects = [
						{
							effect = sfxreverb
							name = starpowerreverb
							drylevel = -1400.0
							reverblevel = 900
							reflectionslevel = 0
							room = -2000
							roomrollofffactor = 18
							reverbdelay = 0.1
							decaytime = 0.1
							roomhf = -1
						}
					]
					time = 0.1}
				songsetstarpowereffectssendvolume player = <player> vol = 8
				case drum
				printf \{channel = sfx
					qs(0x45603514)}
				setsoundbusseffects \{effects = [
						{
							effect = echo
							name = starpowerecho
							wetmix = 0.0
							drymix = 0.2
							decayratio = 0.0
						}
					]}
				setsoundbusseffects \{effects = [
						{
							effect = sfxreverb
							name = starpowerreverb
							drylevel = -1000.0
							reverblevel = 2000
							reflectionslevel = 1000
							room = -2000
							roomrollofffactor = 18
							reverbdelay = 0.1
							decaytime = 3.0
							roomhf = -500
						}
					]
					time = 0.1}
				songsetstarpowereffectssendvolume player = <player> vol = 7
				case vocals
				printf \{channel = sfx
					qs(0x21a151f5)}
				vocaldspsetparams \{effect = sfxreverb
					reverblevel = 200
					roomhf = 1000
					diffusion = 1200
					drylevel = -2000.0}
				vocaldspsetparams \{effect = echo
					drymix = 0.0
					wetmix = 0.5
					delay = 100}
				default
				printf \{channel = sfx
					qs(0xacc915b2)}
			endswitch
		endif
		printf \{channel = sfx
			qs(0x5f48d472)}
		return
	else
		get_song_tempo_cfunc
		if (<tempo> > 175)
			change \{halftime_clapping = 1}
		endif
		if (<tempo> < 176)
			change \{halftime_clapping = 0}
		endif
		printf \{channel = sfx
			qs(0xd6de249a)}
		spawnscriptnow star_power_clap_panning params = {player = <player>}
		printf \{channel = sfx
			qs(0xc8d90171)}
		change \{star_power_verb_is_on = 1}
		if issingleplayergame
			soundevent \{event = star_power_deployed_lfe_gh4}
			soundevent \{event = star_power_deployed_back_gh4}
			soundevent \{event = star_power_deployed_front_gh4}
			if ($game_mode != tutorial)
				if NOT issoundeventplaying \{star_power_deployed_cheer_sfx}
					soundevent \{event = star_power_deployed_cheer_sfx}
				endif
			endif
		else
			spawnscriptnow star_power_deployed_sfx_multiplayer params = {player = <player>}
		endif
		get_song_tempo_cfunc
		oneandahalfbeats = (<beat_duration> * 1.5)
		printf channel = sfx qs(0x3d45af48) s = <oneandahalfbeats>
		if (<oneandahalfbeats> > 600)
			if (<beat_duration> > 400)
				beat_duration = (<beat_duration> / 2)
			endif
			if (<beat_duration> > 400)
				beat_duration = (<beat_duration> / 2)
			endif
			if (<beat_duration> > 400)
				beat_duration = (<beat_duration> / 2)
			endif
			if (<beat_duration> > 400)
				beat_duration = 400
			endif
		else
			beat_duration = <oneandahalfbeats>
		endif
		printf channel = sfx qs(0xa8e933a2) s = <beat_duration>
		printf \{channel = sfx
			qs(0x05b68718)}
		setsoundbusseffects effects = [{effect = echo name = starpowerecho delay = <beat_duration>}]
		if (<part> = guitar)
			printf \{channel = sfx
				qs(0xaf3a873b)}
			if issingleplayergame
				printf \{channel = sfx
					qs(0xf8444318)}
				setsoundbusseffects \{effects = [
						{
							effect = echo
							name = starpowerecho
							wetmix = 1.0
							drymix = 0.7
							decayratio = 0.25
						}
					]}
				setsoundbusseffects \{effects = [
						{
							effect = sfxreverb
							name = starpowerreverb
							drylevel = -1500.0
							reverblevel = -500
							reflectionslevel = 0
							room = -1000
							roomrollofffactor = 18
							reverbdelay = 0.1
							decaytime = 0.1
							roomhf = -1
						}
					]
					time = 0.1}
				songsetstarpowereffectssendvolume player = <player> vol = 4
			else
				printf \{channel = sfx
					qs(0x7bcc986d)}
				setsoundbusseffects \{effects = [
						{
							effect = echo
							name = starpowerecho
							wetmix = 0.0
							drymix = 0.2
							decayratio = 0.0
						}
					]}
				setsoundbusseffects \{effects = [
						{
							effect = sfxreverb
							name = starpowerreverb
							drylevel = -1000.0
							reverblevel = 2000
							reflectionslevel = 1000
							room = -2000
							roomrollofffactor = 18
							reverbdelay = 0.1
							decaytime = 3.0
							roomhf = -500
						}
					]
					time = 0.1}
				songsetstarpowereffectssendvolume player = <player> vol = 6
			endif
		endif
		if (<part> = drum)
			printf \{channel = sfx
				qs(0x45603514)}
			if issingleplayergame
				printf \{channel = sfx
					qs(0x89688b72)}
				setsoundbusseffects \{effects = [
						{
							effect = echo
							name = starpowerecho
							wetmix = 0.0
							drymix = 0.2
							decayratio = 0.0
						}
					]}
				setsoundbusseffects \{effects = [
						{
							effect = sfxreverb
							name = starpowerreverb
							drylevel = -2000.0
							reverblevel = 1700
							reflectionslevel = -10000
							room = -2000
							roomrollofffactor = 18
							reverbdelay = 0.1
							decaytime = 3.0
							roomhf = -1
						}
					]
					time = 0.1}
				songsetstarpowereffectssendvolume player = <player> vol = 12
			else
				printf \{channel = sfx
					qs(0x71c9f9c0)}
				setsoundbusseffects \{effects = [
						{
							effect = echo
							name = starpowerecho
							wetmix = 0.0
							drymix = 0.2
							decayratio = 0.0
						}
					]}
				setsoundbusseffects \{effects = [
						{
							effect = sfxreverb
							name = starpowerreverb
							drylevel = -1000.0
							reverblevel = 2000
							reflectionslevel = 1000
							room = -2000
							roomrollofffactor = 18
							reverbdelay = 0.1
							decaytime = 3.0
							roomhf = -500
						}
					]
					time = 0.1}
				songsetstarpowereffectssendvolume player = <player> vol = 7
			endif
		endif
		if (<part> = bass)
			printf \{channel = sfx
				qs(0xf7672ca5)}
			if issingleplayergame
				printf \{channel = sfx
					qs(0x29b80d4d)}
				setsoundbusseffects \{effects = [
						{
							effect = echo
							name = starpowerecho
							wetmix = 0.3
							drymix = 0.7
							decayratio = 0.25
						}
					]}
				setsoundbusseffects \{effects = [
						{
							effect = sfxreverb
							name = starpowerreverb
							drylevel = -1400.0
							reverblevel = 900
							reflectionslevel = 0
							room = -2000
							roomrollofffactor = 18
							reverbdelay = 0.1
							decaytime = 0.1
							roomhf = -1
						}
					]
					time = 0.1}
				songsetstarpowereffectssendvolume player = <player> vol = 8
			else
				printf \{channel = sfx
					qs(0xa4fbe460)}
				setsoundbusseffects \{effects = [
						{
							effect = echo
							name = starpowerecho
							wetmix = 0.0
							drymix = 0.2
							decayratio = 0.0
						}
					]}
				setsoundbusseffects \{effects = [
						{
							effect = sfxreverb
							name = starpowerreverb
							drylevel = -1000.0
							reverblevel = 2000
							reflectionslevel = 1000
							room = -2000
							roomrollofffactor = 18
							reverbdelay = 0.1
							decaytime = 3.0
							roomhf = -500
						}
					]
					time = 0.1}
				songsetstarpowereffectssendvolume player = <player> vol = 8
			endif
		endif
		if (<part> = vocals)
			printf \{channel = sfx
				qs(0x21a151f5)}
			vocaldspsetparams \{effect = sfxreverb
				reverblevel = 200
				roomhf = 1000
				diffusion = 1200
				drylevel = -1300.0}
			vocaldspsetparams \{effect = echo
				drymix = 0.0
				wetmix = 0.5
				delay = 100}
		endif
	endif
endscript

script gh_star_power_verb_off 
	printf \{channel = sfx
		qs(0xfa676f80)}
	if ($star_power_verb_is_on = 1)
	endif
	printf channel = sfx qs(0x149d7db3) s = <player>
	spawnscriptnow star_clap_end params = {player = <player>}
	spawnscriptnow \{clap_fading}
	change \{star_power_verb_is_on = 0}
	songsetstarpowereffectssendvolume player = <player> vol = -100
	getplayerinfo <player> part
	if (<part> = vocals)
		vocaldspsetparams \{effect = sfxreverb
			reverblevel = -550
			roomhf = 0
			diffusion = 100
			drylevel = 0.0}
		vocaldspsetparams \{effect = echo
			drymix = 0.0
			wetmis = 0.25
			delay = 100}
	endif
endscript

script gh3_set_guitar_verb_and_echo_to_dry 
endscript

script gh3_battle_attack_finished_sfx 
	if (<player> = 1)
		soundevent \{event = gh_sfx_battlemode_attack_over_p1}
	else
		soundevent \{event = gh_sfx_battlemode_attack_over_p2}
	endif
endscript

script gh_battlemode_player1_sfx_diffup_start 
	soundevent \{event = gh_sfx_battlemode_diffup_p1}
endscript

script gh_battlemode_player2_sfx_diffup_start 
	soundevent \{event = gh_sfx_battlemode_diffup_p2}
endscript

script gh_battlemode_player1_sfx_doublenotes_start 
	soundevent \{event = gh_sfx_battlemode_doublenote_p1}
endscript

script gh_battlemode_player2_sfx_doublenotes_start 
	soundevent \{event = gh_sfx_battlemode_doublenote_p2}
endscript

script gh_battlemode_player1_sfx_shake_start 
	soundevent \{event = gh_sfx_battlemode_lightning_player1}
endscript

script gh_battlemode_player2_sfx_shake_start 
	soundevent \{event = gh_sfx_battlemode_lightning_player2}
endscript

script gh_battlemode_player1_sfx_leftynotes_start 
	soundevent \{event = gh_sfx_battlemode_lefty_p1}
endscript

script gh_battlemode_player2_sfx_leftynotes_start 
	soundevent \{event = gh_sfx_battlemode_lefty_p2}
endscript

script gh_battlemode_player1_sfx_brokenstring_start 
	soundevent \{event = gh_sfx_battlemode_stringbreak_p1}
endscript

script gh_battlemode_player2_sfx_brokenstring_start 
	soundevent \{event = gh_sfx_battlemode_stringbreak_p2}
endscript

script gh_battlemode_player1_sfx_steal 
	soundevent \{event = gh_sfx_battlemode_steal_p1}
endscript

script gh_battlemode_player2_sfx_steal 
	soundevent \{event = gh_sfx_battlemode_steal_p2}
endscript

script gh_battlemode_player1_sfx_whammy_start 
	soundevent \{event = gh_sfx_battlemode_whammyattack_p1}
endscript

script gh_battlemode_player2_sfx_whammy_start 
	soundevent \{event = gh_sfx_battlemode_whammyattack_p2}
endscript

script ghm_battlemode_ridethelightning_attack_p1 
	soundevent \{event = ghm_ridethelightning_attack_p1}
endscript

script ghm_battlemode_ridethelightning_release_p1 
	soundevent \{event = ghm_ridethelightning_release_p1}
endscript

script ghm_battlemode_ridethelightning_attack_p2 
	soundevent \{event = ghm_ridethelightning_attack_p2}
endscript

script ghm_battlemode_ridethelightning_release_p2 
	soundevent \{event = ghm_ridethelightning_release_p2}
endscript

script ghm_battlemode_hitthelights_attack_p1 
	soundevent \{event = ghm_hitthelights_attack_p1}
endscript

script ghm_battlemode_hitthelights_release_p1 
	soundevent \{event = ghm_hitthelights_release_p1}
endscript

script ghm_battlemode_hitthelights_attack_p2 
	soundevent \{event = ghm_hitthelights_attack_p2}
endscript

script ghm_battlemode_hitthelights_release_p2 
	soundevent \{event = ghm_hitthelights_release_p2}
endscript

script ghm_battlemode_trappedunderice_attack_p1 
	soundevent \{event = ghm_trappedunderice_attack_p1}
endscript

script ghm_battlemode_trappedunderice_release_p1 
	soundevent \{event = ghm_trappedunderice_release_p1}
endscript

script ghm_battlemode_trappedunderice_attack_p2 
	soundevent \{event = ghm_trappedunderice_attack_p2}
endscript

script ghm_battlemode_trappedunderice_release_p2 
	soundevent \{event = ghm_trappedunderice_release_p2}
endscript

script ghm_battlemode_damageinc_attack_p1 
	soundevent \{event = ghm_damageinc_attack_p1}
endscript

script ghm_battlemode_damageinc_attack_p2 
	soundevent \{event = ghm_damageinc_attack_p2}
endscript

script gh3_battle_play_crowd_reaction_sfx 
	if (<receiving_player> = 1)
		soundevent \{event = $current_crowd_battle_cheer_l_p2}
		soundevent \{event = $current_crowd_battle_cheer_r_p2}
	else
		soundevent \{event = $current_crowd_battle_cheer_l_p1}
		soundevent \{event = $current_crowd_battle_cheer_r_p1}
	endif
endscript

script gh3_battle_play_whammy_pitch_up_sound 
	num_strums = ($<other_player_status>.whammy_attack)
	player_pan = ($<other_player_status>.player)
	if (<player_pan> = 1)
		<pan1x> = -0.76199996
		<pan1y> = 0.6470001
		<pan2x> = -0.44799998
		<pan2y> = 0.894
	else
		<pan1x> = 0.47
		<pan1y> = 0.883
		<pan2x> = 0.728
		<pan2y> = 0.685
	endif
	switch <difficulty>
		case easy
		<total_strums> = ($battlemode_powerups [6].easy_repair)
		case medium
		<total_strums> = ($battlemode_powerups [6].medium_repair)
		case hard
		<total_strums> = ($battlemode_powerups [6].hard_repair)
		case expert
		<total_strums> = ($battlemode_powerups [6].expert_repair)
		default
		printf \{qs(0xe5d01698)}
	endswitch
	<change_pitch> = (1.3 * <num_strums> / <total_strums>)
	<local_pitch> = (100.0 - (10.0 * <change_pitch>))
	playsound gh3_battlemode_whammyattack_received vol_percent = 50 pitch_percent = <local_pitch> pan1x = <pan1x> pan1y = <pan1y> pan2x = <pan2x> pan2y = <pan2y> buss = ui_battle_mode
endscript

script battle_sfx_repair_broken_string 
	if gotparam \{num_strums}
		if gotparam \{player_pan}
			if gotparam \{difficulty}
				if (<player_pan> = 1)
					<pan1x> = -0.76199996
					<pan1y> = 0.6470001
					<pan2x> = -0.44799998
					<pan2y> = 0.894
				else
					<pan1x> = 0.47
					<pan1y> = 0.883
					<pan2x> = 0.728
					<pan2y> = 0.685
				endif
				switch <difficulty>
					case easy
					<total_strums> = ($battlemode_powerups [5].easy_repair)
					case medium
					<total_strums> = ($battlemode_powerups [5].medium_repair)
					case hard
					<total_strums> = ($battlemode_powerups [5].hard_repair)
					case expert
					<total_strums> = ($battlemode_powerups [5].expert_repair)
					default
					printf \{qs(0xe5d01698)}
				endswitch
				<change_pitch> = (1.0 * <num_strums> / <total_strums>)
				<local_pitch> = (100.0 - (10.0 * <change_pitch>))
				playsound gh3_battlemode_stringtune_2 vol_percent = 50 pitch_percent = <local_pitch> pan1x = <pan1x> pan1y = <pan1y> pan2x = <pan2x> pan2y = <pan2y> buss = ui_battle_mode
			endif
		endif
	endif
endscript

script setup_all_crowd_sounds_based_on_zone 
	venuesize = 'Medium_EXT'
	getpakmancurrentname \{map = zones}
	get_band_name song = ($current_song)
	formattext checksumname = scriptgetvenuesize '%s_sfx_Get_Venue_Size' s = <pakname> addtostringlookup = true
	if scriptexists <scriptgetvenuesize>
		<scriptgetvenuesize>
	else
		venuesize = 'Medium_EXT'
	endif
	formattext checksumname = whistletemp 'Crowd_Whistle_%s_Good' s = <venuesize> addtostringlookup = true
	change current_crowd_whistle_soundevent = <whistletemp>
	if ((<band> = band_metallica) || (<band> = band_metallica_zomb) || (<band> = band_metallica_alt))
		formattext checksumname = oneshotmetallicatemp 'Crowd_OneShot_Metallica_%s' s = <venuesize> addtostringlookup = true
		change current_crowd_oneshot_positive_soundevent = <oneshotmetallicatemp> crowd_oneshot_metallica_large_ext
	else
		formattext checksumname = oneshotgoodtemp 'Crowd_OneShot_%s_Good' s = <venuesize> addtostringlookup = true
		change current_crowd_oneshot_positive_soundevent = <oneshotgoodtemp>
	endif
	formattext checksumname = oneshotbadtemp 'Crowd_OneShot_%s_Bad' s = <venuesize> addtostringlookup = true
	change current_crowd_oneshot_negative_soundevent = <oneshotbadtemp>
	formattext checksumname = loopgoodtemp 'Crowd_Loop_%s_Good' s = <venuesize> addtostringlookup = true
	change current_crowd_looping_bg_area_good = <loopgoodtemp>
	formattext checksumname = loopneutraltemp 'Crowd_Loop_%s_Neutral' s = <venuesize> addtostringlookup = true
	change current_crowd_looping_bg_area_neutral = <loopneutraltemp>
	formattext checksumname = loopbadtemp 'Crowd_Loop_%s_Bad' s = <venuesize> addtostringlookup = true
	change current_crowd_looping_bg_area_bad = <loopbadtemp>
	crowdtransitionchecksum = crowd_transition
	state_p_to_m_left = '_poor_to_med_L'
	state_m_to_p_left = '_med_to_poor_L'
	state_m_to_g_left = '_med_to_good_L'
	state_g_to_m_left = '_good_to_med_L'
	state_p_to_m_right = '_poor_to_med_R'
	state_m_to_p_right = '_med_to_poor_R'
	state_m_to_g_right = '_med_to_good_R'
	state_g_to_m_right = '_good_to_med_R'
	formattext checksumname = claptemp 'Crowd_Clap_To_Beat_%s_Normal' s = <venuesize> addtostringlookup = true
	change current_crowd_clap_normal_soundevent = <claptemp>
	formattext checksumname = claptemp 'Crowd_Clap_To_Beat_%s_Middle' s = <venuesize> addtostringlookup = true
	change current_crowd_clap_middle_soundevent = <claptemp>
	formattext checksumname = claptemp 'Crowd_Clap_To_Beat_%s_Left_Middle' s = <venuesize> addtostringlookup = true
	change current_crowd_clap_left_middle_soundevent = <claptemp>
	formattext checksumname = claptemp 'Crowd_Clap_To_Beat_%s_Right_Middle' s = <venuesize> addtostringlookup = true
	change current_crowd_clap_right_middle_soundevent = <claptemp>
	formattext checksumname = claptemp 'Crowd_Clap_To_Beat_%s_Left' s = <venuesize> addtostringlookup = true
	change current_crowd_clap_left_soundevent = <claptemp>
	formattext checksumname = claptemp 'Crowd_Clap_To_Beat_%s_Right' s = <venuesize> addtostringlookup = true
	change current_crowd_clap_right_soundevent = <claptemp>
	formattext checksumname = transitiontemp 'Crowd_Transition_%s_Poor_To_Med' s = <venuesize> addtostringlookup = true
	change current_crowd_transition_bad_to_neutral = <transitiontemp>
	formattext checksumname = transitiontemp 'Crowd_Transition_%s_Med_To_Poor' s = <venuesize> addtostringlookup = true
	change current_crowd_transition_neutral_to_bad = <transitiontemp>
	formattext checksumname = transitiontemp 'Crowd_Transition_%s_Med_To_Good' s = <venuesize> addtostringlookup = true
	change current_crowd_transition_neutral_to_good = <transitiontemp>
	formattext checksumname = transitiontemp 'Crowd_Transition_%s_Good_To_Med' s = <venuesize> addtostringlookup = true
	change current_crowd_transition_good_to_neutral = <transitiontemp>
	formattext checksumname = transitiontemp 'Crowd_Transition_%s_Poor_To_Med_L' s = <venuesize> addtostringlookup = true
	change current_crowd_transition_bad_to_neutral_l = <transitiontemp>
	formattext checksumname = transitiontemp 'Crowd_Transition_%s_Poor_To_Med_R' s = <venuesize> addtostringlookup = true
	change current_crowd_transition_bad_to_neutral_r = <transitiontemp>
	formattext checksumname = transitiontemp 'Crowd_Transition_%s_Med_To_Poor_L' s = <venuesize> addtostringlookup = true
	change current_crowd_transition_neutral_to_bad_l = <transitiontemp>
	formattext checksumname = transitiontemp 'Crowd_Transition_%s_Med_To_Poor_R' s = <venuesize> addtostringlookup = true
	change current_crowd_transition_neutral_to_bad_r = <transitiontemp>
	formattext checksumname = transitiontemp 'Crowd_Transition_%s_Med_To_Good_L' s = <venuesize> addtostringlookup = true
	change current_crowd_transition_neutral_to_good_l = <transitiontemp>
	formattext checksumname = transitiontemp 'Crowd_Transition_%s_Med_To_Good_R' s = <venuesize> addtostringlookup = true
	change current_crowd_transition_neutral_to_good_r = <transitiontemp>
	formattext checksumname = transitiontemp 'Crowd_Transition_%s_Good_To_Med_L' s = <venuesize> addtostringlookup = true
	change current_crowd_transition_good_to_neutral_l = <transitiontemp>
	formattext checksumname = transitiontemp 'Crowd_Transition_%s_Good_To_Med_R' s = <venuesize> addtostringlookup = true
	change current_crowd_transition_good_to_neutral_r = <transitiontemp>
	formattext checksumname = battlecheertemp 'Crowd_Battle_Cheer_%s_L_P1' s = <venuesize> addtostringlookup = true
	change current_crowd_battle_cheer_l_p1 = <battlecheertemp>
	formattext checksumname = battlecheertemp 'Crowd_Battle_Cheer_%s_R_P1' s = <venuesize> addtostringlookup = true
	change current_crowd_battle_cheer_r_p1 = <battlecheertemp>
	formattext checksumname = battlecheertemp 'Crowd_Battle_Cheer_%s_L_P2' s = <venuesize> addtostringlookup = true
	change current_crowd_battle_cheer_l_p2 = <battlecheertemp>
	formattext checksumname = battlecheertemp 'Crowd_Battle_Cheer_%s_R_P2' s = <venuesize> addtostringlookup = true
	change current_crowd_battle_cheer_r_p2 = <battlecheertemp>
	formattext checksumname = swelltemp 'Crowd_Swell_Short_%s_L' s = <venuesize> addtostringlookup = true
	change current_crowd_swell_short_soundevent_l = <swelltemp>
	formattext checksumname = swelltemp 'Crowd_Swell_Short_%s_R' s = <venuesize> addtostringlookup = true
	change current_crowd_swell_short_soundevent_r = <swelltemp>
	formattext checksumname = swelltemp 'Crowd_Swell_Short_Soft_%s_L' s = <venuesize> addtostringlookup = true
	change current_crowd_swell_short_soft_soundevent_l = <swelltemp>
	formattext checksumname = swelltemp 'Crowd_Swell_Short_Soft_%s_R' s = <venuesize> addtostringlookup = true
	change current_crowd_swell_short_soft_soundevent_r = <swelltemp>
	formattext checksumname = swelltemp 'Crowd_Swell_Med_%s_L' s = <venuesize> addtostringlookup = true
	change current_crowd_swell_med_soundevent_l = <swelltemp>
	formattext checksumname = swelltemp 'Crowd_Swell_Med_%s_R' s = <venuesize> addtostringlookup = true
	change current_crowd_swell_med_soundevent_r = <swelltemp>
	formattext checksumname = swelltemp 'Crowd_Swell_Long_%s_L' s = <venuesize> addtostringlookup = true
	change current_crowd_swell_long_soundevent_l = <swelltemp>
	formattext checksumname = swelltemp 'Crowd_Swell_Long_%s_R' s = <venuesize> addtostringlookup = true
	change current_crowd_swell_long_soundevent_r = <swelltemp>
	formattext checksumname = encoretemp '%s_Encore_Crowd' s = <venuesize> addtostringlookup = true
	change current_crowd_encore = <encoretemp>
	formattext checksumname = anticipationtemp '%s_Crowd_Anticipation_Loop' s = <venuesize> addtostringlookup = true
	change current_crowd_anticipation = <anticipationtemp>
	formattext checksumname = applausetemp 'Crowd_Applause_%s_L' s = <venuesize> addtostringlookup = true
	change current_crowd_applause_soundevent_l = <applausetemp>
	formattext checksumname = applausetemp 'Crowd_Applause_%s_R' s = <venuesize> addtostringlookup = true
	change current_crowd_applause_soundevent_r = <applausetemp>
	formattext checksumname = introtemp 'Crowd_Venue_Intro_%s' s = <pakname> addtostringlookup = true
	change current_crowd_venue_intro_soundevent = <introtemp>
	formattext checksumname = preencoretemp 'Crowd_PreEncore_Looping_SoundEvent_%s' s = <venuesize> addtostringlookup = true
	change current_crowd_preencore_looping_soundevent = <preencoretemp>
	formattext checksumname = tempvenuesize '%s' s = <venuesize> addtostringlookup = true
	change current_venue_size = <tempvenuesize>
	if ((<pakname> = 'z_studio') || (<pakname> = 'z_studio2'))
		change \{current_crowd_looping_bg_area_bad = musicstudio}
		change \{current_crowd_looping_bg_area_neutral = musicstudio}
		change \{current_crowd_looping_bg_area_good = musicstudio}
		change \{current_crowd_looping_bg_area = musicstudio}
	endif
	printf \{channel = sfx
		qs(0xfba306ee)}
	printf \{channel = sfx
		qs(0x8d80eacf)
		s = $current_crowd_whistle_soundevent}
	printf \{channel = sfx
		qs(0xf1a35267)
		s = $current_crowd_oneshot_positive_soundevent}
	printf \{channel = sfx
		qs(0xfe1327ac)
		s = $current_crowd_oneshot_negative_soundevent}
	printf \{channel = sfx
		qs(0x713755f7)}
	printf \{channel = sfx
		qs(0x77767cd1)
		s = $current_crowd_looping_bg_area_bad}
	printf \{channel = sfx
		qs(0x832a45ec)
		s = $current_crowd_looping_bg_area_neutral}
	printf \{channel = sfx
		qs(0xf6e25b4b)
		s = $current_crowd_looping_bg_area_good}
	printf \{channel = sfx
		qs(0x24ab80a8)
		s = $current_crowd_looping_bg_area}
	printf \{channel = sfx
		qs(0x713755f7)}
	printf \{channel = sfx
		qs(0xe512b6d5)
		s = $current_crowd_transition_bad_to_neutral}
	printf \{channel = sfx
		qs(0xbf1fc790)
		s = $current_crowd_transition_neutral_to_bad}
	printf \{channel = sfx
		qs(0x43338762)
		s = $current_crowd_transition_neutral_to_good}
	printf \{channel = sfx
		qs(0xb603dab6)
		s = $current_crowd_transition_good_to_neutral}
	printf \{channel = sfx
		qs(0x713755f7)}
	printf \{channel = sfx
		qs(0xcd6342fb)
		s = $current_crowd_transition_bad_to_neutral_l}
	printf \{channel = sfx
		qs(0x284a7c19)
		s = $current_crowd_transition_bad_to_neutral_r}
	printf \{channel = sfx
		qs(0x0a8a2e34)
		s = $current_crowd_transition_neutral_to_bad_l}
	printf \{channel = sfx
		qs(0xefa310d6)
		s = $current_crowd_transition_neutral_to_bad_r}
	printf \{channel = sfx
		qs(0xdb45a841)
		s = $current_crowd_transition_neutral_to_good_l}
	printf \{channel = sfx
		qs(0x3e6c96a3)
		s = $current_crowd_transition_neutral_to_good_r}
	printf \{channel = sfx
		qs(0x04860b0c)
		s = $current_crowd_transition_good_to_neutral_l}
	printf \{channel = sfx
		qs(0xe1af35ee)
		s = $current_crowd_transition_good_to_neutral_r}
	printf \{channel = sfx
		qs(0x713755f7)}
	printf \{channel = sfx
		qs(0x38c78dcb)
		s = $current_crowd_swell_short_soundevent_l}
	printf \{channel = sfx
		qs(0xddeeb329)
		s = $current_crowd_swell_short_soundevent_r}
	printf \{channel = sfx
		qs(0xbc9d08f4)
		s = $current_crowd_swell_med_soundevent_l}
	printf \{channel = sfx
		qs(0x59b43616)
		s = $current_crowd_swell_med_soundevent_r}
	printf \{channel = sfx
		qs(0xdc496519)
		s = $current_crowd_swell_long_soundevent_l}
	printf \{channel = sfx
		qs(0x39605bfb)
		s = $current_crowd_swell_long_soundevent_r}
	printf \{channel = sfx
		qs(0x713755f7)}
	printf \{channel = sfx
		qs(0x5b5de30b)
		s = $current_crowd_applause_soundevent_l}
	printf \{channel = sfx
		qs(0xbe74dde9)
		s = $current_crowd_applause_soundevent_r}
	printf \{channel = sfx
		qs(0xfba306ee)}
endscript

script gh3_crowd_event_listener 
	printf \{channel = sfx
		qs(0xbc3cb5c5)
		s = $game_mode}
	if NOT ($crowd_in_jam_mode_song_state = 1)
		getpakmancurrent \{map = zones}
		printf channel = sfx qs(0xbca18178) s = <pak>
		if (<pak> != z_studio && <pak> != z_studio2 && <pak> != z_tool)
			if NOT ($game_mode = training)
				if gotparam \{event_type}
					printf channel = sfx qs(0xecb6df2d) s = <event_type>
					switch <event_type>
						case 1
						if ($turn_off_oneshot_cheers = 0)
							play_a_short_crowd_swell_for_this_venue
						endif
						case 2
						if ($turn_off_oneshot_cheers = 0)
							play_a_crowd_applause_for_this_venue
						endif
						case 3
						printf \{channel = sfx
							qs(0x1661eb90)
							a = $current_crowd}
						if ($current_crowd >= 1.3333)
							if ($turn_off_oneshot_cheers = 0)
								crowd_surge_and_sustain_at_end_of_song
							endif
						endif
						case 4
						play_a_crowd_whistle_good_based_on_venue
						case 5
						printf \{channel = sfx
							qs(0x1661eb90)
							a = $current_crowd}
						if ($current_crowd >= 1.3333)
							gh3_adjustcrowdfastsmallsurge
						endif
						case 6
						printf \{channel = sfx
							qs(0x1661eb90)
							a = $current_crowd}
						if ($current_crowd >= 1.3333)
							if ($turn_off_oneshot_cheers = 0)
								play_a_short_crowd_swell_for_this_venue_softer
							endif
							gh3_adjustcrowdfastbigsurge
						endif
						case 7
						printf \{channel = sfx
							qs(0x1661eb90)
							a = $current_crowd}
						if ($current_crowd >= 1.3333)
							if ($turn_off_oneshot_cheers = 0)
								play_a_med_crowd_swell_for_this_venue
							endif
							gh3_adjustcrowdmedsurge
						endif
						case 8
						printf \{channel = sfx
							qs(0x1661eb90)
							a = $current_crowd}
						if ($current_crowd >= 1.3333)
							if ($turn_off_oneshot_cheers = 0)
								play_a_long_crowd_swell_for_this_venue
							endif
							gh3_adjustcrowdslowbigsurge
						endif
						case 9
						printf \{'Not Working Right Now'}
						case 10
						song_quiet_adjust_all_sfx_down
						case 11
						song_quiet_over_adjust_all_sfx_to_normal
						case 12
						moment_on_stage_crowd_reaction_sfx
						default
						printf \{channel = sfx
							qs(0x3c088a0f)}
					endswitch
				endif
			endif
		else
			printf \{channel = sfx
				qs(0x6f5cebdf)}
		endif
	else
		printf \{channel = sfx
			qs(0x595a9f3d)}
	endif
endscript

script play_a_crowd_whistle_good_based_on_venue 
	soundevent \{event = $current_crowd_whistle_soundevent}
endscript

script play_a_short_crowd_swell_for_this_venue 
	printf \{channel = sfx
		qs(0x32f04896)
		s = $current_crowd_swell_short_soundevent_l}
	printf \{channel = sfx
		qs(0x32f04896)
		s = $current_crowd_swell_short_soundevent_r}
	soundevent \{event = $current_crowd_swell_short_soundevent_l}
	soundevent \{event = $current_crowd_swell_short_soundevent_r}
endscript

script play_a_short_crowd_swell_for_this_venue_softer 
	soundevent \{event = $current_crowd_swell_short_soft_soundevent_l}
	soundevent \{event = $current_crowd_swell_short_soft_soundevent_r}
endscript

script play_a_med_crowd_swell_for_this_venue 
	soundevent \{event = $current_crowd_swell_med_soundevent_l}
	soundevent \{event = $current_crowd_swell_med_soundevent_r}
endscript

script play_a_long_crowd_swell_for_this_venue 
	soundevent \{event = $current_crowd_swell_long_soundevent_l}
	soundevent \{event = $current_crowd_swell_long_soundevent_r}
endscript

script play_a_crowd_applause_for_this_venue 
	soundevent \{event = $current_crowd_applause_soundevent_l}
	soundevent \{event = $current_crowd_applause_soundevent_r}
endscript

script gh3_play_a_crowd_oneshot_positive_based_on_venue 
endscript

script gh3_play_a_crowd_oneshot_negative_based_on_venue 
	printf \{channel = sfx
		'HELLLLLLLLLLLLLLLo'}
	soundevent \{event = crowd_reaction_bad_l}
	soundevent \{event = crowd_reaction_bad_r}
	if ($turn_off_oneshot_cheers = 0)
		spawnscriptnow \{stopallcheeringsounds}
	endif
endscript

script gh3_adjustcrowdloopbacktodefault \{restarting = 0
		normal = 0}
	if ($current_playing_transition = loading)
	else
		if (<restarting> = 1)
			if gotparam \{time}
				setsoundbussparams {crowd_beds = {vol = ($default_bussset.crowd_beds.vol) pitch = 0.0} time = <time>}
			else
				setsoundbussparams {crowd_beds = {vol = ($default_bussset.crowd_beds.vol) pitch = 0.0}}
			endif
		else
			if (<normal> = 1)
				if gotparam \{time}
					setsoundbussparams {crowd_beds = {vol = ($default_bussset.crowd_beds.vol) pitch = 0.0} time = <time>}
				else
					setsoundbussparams {crowd_beds = {vol = ($default_bussset.crowd_beds.vol) pitch = 0.0}}
				endif
			else
			endif
		endif
	endif
endscript

script gh3_adjustcrowdfastsmallsurge 
	getpakmancurrent \{map = zones}
	printf channel = sfx qs(0x4d995118) s = <pak>
	setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol) + 4)} time = 0.5}
	wait \{1.5
		seconds}
	gh3_adjustcrowdloopbacktodefault \{time = 4
		normal = 1}
endscript

script gh3_adjustcrowdfastbigsurge 
	if NOT ($is_attract_mode = 1)
		getpakmancurrent \{map = zones}
		printf channel = sfx qs(0xff61e7c6) s = <pak>
		switch <pak>
			case z_metalfest
			setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol) + 3.5) pitch = 0.5} time = 0.08}
			wait \{1.5
				seconds}
			gh3_adjustcrowdloopbacktodefault \{time = 4
				normal = 1}
			case z_newyork
			setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol) + 3)} time = 0.08}
			wait \{1.5
				seconds}
			gh3_adjustcrowdloopbacktodefault \{time = 4
				normal = 1}
			default
			setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol) + 4)} time = 0.6}
			wait \{1.5
				seconds}
			gh3_adjustcrowdloopbacktodefault \{time = 4
				normal = 1}
		endswitch
	endif
endscript

script gh3_adjustcrowdmedsurge 
	if NOT ($is_attract_mode = 1)
		getpakmancurrent \{map = zones}
		printf channel = sfx qs(0x0d163bb8) s = <pak>
		switch <pak>
			case z_metalfest
			setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol) + 4.25) pitch = 0.5} time = 2}
			wait \{4
				seconds}
			gh3_adjustcrowdloopbacktodefault \{time = 4
				normal = 1}
			case z_newyork
			setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol) + 3)} time = 0.08}
			wait \{1.5
				seconds}
			gh3_adjustcrowdloopbacktodefault \{time = 4
				normal = 1}
			default
			setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol) + 5)} time = 2}
			wait \{4
				seconds}
			gh3_adjustcrowdloopbacktodefault \{time = 4
				normal = 1}
		endswitch
	endif
endscript

script gh3_adjustcrowdslowbigsurge 
	if NOT ($is_attract_mode = 1)
		getpakmancurrent \{map = zones}
		printf channel = sfx qs(0xe0d3da54) s = <pak>
		switch <pak>
			case z_metalfest
			setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol) + 5.5) pitch = 0.5} time = 3}
			wait \{8
				seconds}
			gh3_adjustcrowdloopbacktodefault \{time = 4
				normal = 1}
			case z_newyork
			setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol) + 4)} time = 0.08}
			wait \{1.5
				seconds}
			gh3_adjustcrowdloopbacktodefault \{time = 4
				normal = 1}
			default
			setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol) + 5)} time = 3}
			wait \{8
				seconds}
			gh3_adjustcrowdloopbacktodefault \{time = 4
				normal = 1}
		endswitch
	endif
endscript

script song_quiet_adjust_all_sfx_down 
	printf \{channel = sfx
		qs(0xfa5455b6)}
	setsoundbussparams {sfx_balance = {vol = (($default_bussset.sfx_balance.vol) - 4.0)} time = 4}
	setsoundbussparams {front_end = {vol = (($default_bussset.front_end.vol) + 4.0)} time = 4}
	setsoundbussparams {pause_menu = {vol = (($default_bussset.pause_menu.vol) + 4.0)} time = 4}
	setsoundbussparams {crowd_balance = {vol = (($default_bussset.crowd_balance.vol) - 5.0)} time = 8}
	setsoundbussparams {drums_ingame = {vol = (($default_bussset.drums_ingame.vol) - 4.0)} time = 4}
endscript

script remove_song_quiet_setting 
	printf \{channel = sfx
		qs(0x2bb18dbb)}
	setsoundbussparams {sfx_balance = {vol = ($default_bussset.sfx_balance.vol)} time = 0.5}
	setsoundbussparams {front_end = {vol = ($default_bussset.front_end.vol)} time = 0.5}
	setsoundbussparams {pause_menu = {vol = ($default_bussset.pause_menu.vol)} time = 0.5}
	setsoundbussparams {crowd_balance = {vol = ($default_bussset.crowd_balance.vol)} time = 2}
	setsoundbussparams {drums_ingame = {vol = ($default_bussset.drums_ingame.vol)}}
endscript

script song_quiet_over_adjust_all_sfx_to_normal 
	printf \{channel = sfx
		qs(0x1c6b884d)}
	setsoundbussparams {sfx_balance = {vol = ($default_bussset.sfx_balance.vol)} time = 8}
	setsoundbussparams {front_end = {vol = ($default_bussset.front_end.vol)} time = 4}
	setsoundbussparams {pause_menu = {vol = ($default_bussset.pause_menu.vol)} time = 4}
	setsoundbussparams {crowd_balance = {vol = ($default_bussset.crowd_balance.vol)} time = 4}
	setsoundbussparams {drums_ingame = {vol = ($default_bussset.drums_ingame.vol)} time = 2}
endscript

script song_quiet_reset_sfx_balance \{loading_transition = 0
		restarting = 0}
	if (<loading_transition> = 1)
		printf \{channel = sfx
			qs(0x989d0b7a)}
	else
		if (<restarting> = 1)
			printf \{channel = sfx
				qs(0xf695898a)}
			printf \{channel = sfx
				qs(0xd75ad5d0)}
			setsoundbussparams {sfx_balance = {vol = ($default_bussset.sfx_balance.vol)}}
			setsoundbussparams {crowd_balance = {vol = ($default_bussset.crowd_balance.vol)}}
		else
			printf \{channel = sfx
				qs(0xd4c3161a)}
			change \{crowd_transition_start_of_song_normal = 1}
			printf \{channel = sfx
				qs(0xd626aaa4)}
		endif
	endif
endscript

script moment_on_stage_crowd_reaction_sfx 
endscript

script crowd_surge_and_sustain_at_end_of_song 
	setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol) + 4)} time = 3.5}
endscript

script crowd_singalong_volume_up 
	getpakmancurrent \{map = zones}
	if NOT ((<pak> = z_space) || (<pak> = z_studio) || (<pak> = z_studio2) || (<pak> = z_training) || (<pak> = z_soundcheck) || (<pak> = z_soundcheck2) || (<pak> = z_icecave))
		if NOT ($crowd_is_singing = 1)
			setsoundbussparams \{crowd_singalong = {
					vol = -2
				}
				time = 4}
		endif
		change \{crowd_is_singing = 1}
	endif
endscript

script crowd_singalong_volume_down 
	if ($crowd_is_singing = 1)
		setsoundbussparams \{crowd_singalong = {
				vol = -100.0
			}
			time = 4}
	endif
	change \{crowd_is_singing = 0}
endscript

script change_crowd_looping_sfx \{crowd_looping_state = good
		player = 1
		loading_transition = 0
		restarting = 0}
	wait \{1
		gameframe}
	if ($boss_battle = 1)
		if (<player> = 1)
			do_actual_changing_of_looping_sound crowd_looping_state = <crowd_looping_state> loading_transition = <loading_transition> restarting = <restarting>
		else
		endif
	else
		if (($game_mode = p2_battle) || ($game_mode = p2_faceoff) || ($game_mode = p2_pro_faceoff))
			do_actual_changing_of_looping_sound crowd_looping_state = good loading_transition = <loading_transition> restarting = <restarting>
		else
			do_actual_changing_of_looping_sound crowd_looping_state = <crowd_looping_state> loading_transition = <loading_transition> restarting = <restarting>
		endif
	endif
endscript

script do_actual_changing_of_looping_sound \{loading_transition = 0
		restarting = 0}
	if gotparam \{crowd_looping_state}
		getpakmancurrent \{map = zones}
		switch <crowd_looping_state>
			case bad
			new_bg_area = $current_crowd_looping_bg_area_bad
			new_oneshots = $current_crowd_oneshot_negative_soundevent
			case neutral
			new_bg_area = $current_crowd_looping_bg_area_neutral
			new_oneshots = $current_crowd_oneshot_positive_soundevent
			case good
			new_bg_area = $current_crowd_looping_bg_area_good
			new_oneshots = $current_crowd_oneshot_positive_soundevent
			default
			printf \{channel = sfx
				qs(0xae489741)}
			new_bg_area = $current_crowd_looping_bg_area_good
			new_oneshots = $current_crowd_oneshot_positive_soundevent
		endswitch
	else
		printf \{channel = sfx
			qs(0x5b438be7)}
		return
	endif
	if (($crowd_in_jam_mode_song_state = 1) || ($crowd_in_front_end_state = 1) || (<pak> = z_studio) || (<pak> = z_studio2) || (<pak> = z_tool))
		new_oneshots = donothing_oneshot
	endif
	skate8_sfx_backgrounds_new_area bg_sfx_area = <new_bg_area> loading_transition = <loading_transition> restarting = <restarting>
	one_shot_soundevent soundevent = <new_oneshots> waittime = 5
endscript

script bg_crowd_front_end_silence \{immediate = 0}
	skate8_sfx_backgrounds_new_area bg_sfx_area = frontend immediate = <immediate>
	one_shot_soundevent soundevent = donothing_oneshot waittime = 5 immediate = <immediate>
endscript

script crowd_transition_sfx_poor_to_medium 
	if gotparam \{player}
		wait \{1
			gameframe}
		printf \{channel = sfx
			qs(0xa78f5575)}
		crowd_generic_transition_sfx state = poor_to_med player = <player>
	endif
endscript

script crowd_transition_sfx_medium_to_good 
	if gotparam \{player}
		wait \{1
			gameframe}
		printf \{channel = sfx
			qs(0x34382b61)}
		crowd_generic_transition_sfx state = med_to_good player = <player>
	endif
endscript

script crowd_transition_sfx_medium_to_poor 
	if gotparam \{player}
		wait \{1
			gameframe}
		printf \{channel = sfx
			qs(0x5edea684)}
		crowd_generic_transition_sfx state = med_to_poor player = <player>
	endif
endscript

script crowd_transition_sfx_good_to_medium 
	gh3_adjustcrowdloopbacktodefault \{time = 1
		normal = 1}
	if gotparam \{player}
		wait \{1
			gameframe}
		printf \{channel = sfx
			qs(0xde17760e)}
		crowd_generic_transition_sfx state = good_to_med player = <player>
	endif
endscript

script crowd_generic_transition_sfx \{state = med_to_good}
	if ($game_mode = p2_battle)
	else
		if ($boss_battle = 1)
			play_transition_sfx state = <state> left = 1
		else
			if (($game_mode = p2_faceoff) || ($game_mode = p2_pro_faceoff))
			else
				play_transition_sfx state = <state> left = 1 right = 1
			endif
		endif
	endif
endscript

script transition_sfx_left_side 
	play_transition_sfx state = <state> left = 1
endscript

script transition_sfx_right_side 
	play_transition_sfx state = <state> right = 1
endscript

script play_transition_sfx 
	if gotparam \{state}
		switch <state>
			case poor_to_med
			stopsoundevent \{$current_crowd_transition_neutral_to_bad
				fade_time = 0.5
				fade_type = log_slow}
			stopsoundevent \{$current_crowd_transition_neutral_to_bad_l
				fade_time = 0.5
				fade_type = log_slow}
			stopsoundevent \{$current_crowd_transition_neutral_to_bad_r
				fade_time = 0.5
				fade_type = log_slow}
			transitionevent_l = $current_crowd_transition_bad_to_neutral_l
			transitionevent_r = $current_crowd_transition_bad_to_neutral_r
			transitionevent = $current_crowd_transition_bad_to_neutral
			case med_to_good
			stopsoundevent \{$current_crowd_transition_good_to_neutral
				fade_time = 0.5
				fade_type = log_slow}
			stopsoundevent \{$current_crowd_transition_good_to_neutral_l
				fade_time = 0.5
				fade_type = log_slow}
			stopsoundevent \{$current_crowd_transition_good_to_neutral_r
				fade_time = 0.5
				fade_type = log_slow}
			transitionevent_l = $current_crowd_transition_neutral_to_good_l
			transitionevent_r = $current_crowd_transition_neutral_to_good_r
			transitionevent = $current_crowd_transition_neutral_to_good
			case good_to_med
			stopsoundevent \{$current_crowd_transition_neutral_to_good
				fade_time = 0.5
				fade_type = log_slow}
			stopsoundevent \{$current_crowd_transition_neutral_to_good_l
				fade_time = 0.5
				fade_type = log_slow}
			stopsoundevent \{$current_crowd_transition_neutral_to_good_r
				fade_time = 0.5
				fade_type = log_slow}
			transitionevent_l = $current_crowd_transition_good_to_neutral_l
			transitionevent_r = $current_crowd_transition_good_to_neutral_r
			transitionevent = $current_crowd_transition_good_to_neutral
			case med_to_poor
			stopsoundevent \{$current_crowd_transition_bad_to_neutral
				fade_time = 0.5
				fade_type = log_slow}
			stopsoundevent \{$current_crowd_transition_bad_to_neutral_l
				fade_time = 0.5
				fade_type = log_slow}
			stopsoundevent \{$current_crowd_transition_bad_to_neutral_r
				fade_time = 0.5
				fade_type = log_slow}
			transitionevent_l = $current_crowd_transition_neutral_to_bad_l
			transitionevent_r = $current_crowd_transition_neutral_to_bad_r
			transitionevent = $current_crowd_transition_neutral_to_bad
			default
			printf \{channel = sfx
				qs(0xa331cc69)
				play_transition_sfx
				qs(0x03ac90f0)}
		endswitch
		if NOT ($is_attract_mode = 1)
			wait \{1
				gameframe}
			if gotparam \{left}
				if gotparam \{right}
					printf \{channel = sfx
						qs(0x0316271d)}
					soundevent event = <transitionevent>
				else
					printf \{channel = sfx
						qs(0x58436b7c)}
					soundevent event = <transitionevent_l>
				endif
			else
				if gotparam \{right}
					printf \{channel = sfx
						qs(0x0e3be335)}
					soundevent event = <transitionevent_r>
				else
					printf \{channel = sfx
						qs(0xdf6ecc9d)}
				endif
			endif
		endif
	endif
endscript
menu_music_on_flag = 0

script menu_music_on 
	spawnscriptnow menu_music_on_spawned params = {<...>}
endscript

script menu_music_on_spawned 
	if ($menu_music_on_flag = 1)
		return
	else
		change \{menu_music_on_flag = 1}
	endif
	if gotparam \{waitforguitarlick}
		wait <guitarwaittime> seconds
		soundevent \{event = guitar_lick_crowd_swell}
	endif
	panic_counter = 0
	begin
	if ($setlist_songpreview_changing = 1)
		wait \{10
			frames}
		<panic_counter> = (<panic_counter> + 1)
	else
		break
	endif
	if (<panic_counter> > 20)
		break
	endif
	repeat
	enableusermusic
	begin
	soundevent \{event = menu_music_se}
	if ($menu_music_pan_right = 1)
		setsoundparams \{$current_menu_song
			pan1x = -1
			pan1y = 1
			pan2x = -0.4
			pan2y = 1}
	endif
	skate8_sfx_backgrounds_new_area \{bg_sfx_area = frontend_menu_music}
	wait \{2
		seconds}
	menu_music_checking
	wait \{1
		second}
	repeat
endscript

script menu_music_panning_vol 
	if (issoundplaying $current_menu_song)
		if gotparam \{panandlowervol}
			wait \{0.5
				seconds}
			setsoundbussparams {music_frontend = {vol = (($default_bussset.music_frontend.vol) - 2.4)} time = 4}
		else
			if gotparam \{reset}
				wait \{0.5
					seconds}
				setsoundbussparams {music_frontend = {vol = ($default_bussset.music_frontend.vol)} time = 4}
			endif
		endif
	endif
endscript

script menu_music_pan_reset 
	if ($menu_music_pan_right = 1)
		change \{menu_music_pan_right = 0}
		i = -0.4
		begin
		setsoundparams $current_menu_song pan1x = -1 pan1y = 1 pan2x = <i> pan2y = 1
		i = (<i> + 0.0077770003)
		wait \{1
			gameframe}
		repeat 180
	endif
endscript

script menu_music_pan 
	if ($menu_music_pan_right = 0)
		change \{menu_music_pan_right = 1}
		i = 1
		begin
		setsoundparams $current_menu_song pan1x = -1 pan1y = 1 pan2x = <i> pan2y = 1
		i = (<i> -0.0077770003)
		wait \{1
			gameframe}
		repeat 180
	endif
endscript

script menu_music_checking 
	begin
	if ($menu_music_preloading = 0)
		break
	endif
	wait \{1
		gameframe}
	repeat
	begin
	wait \{1
		second}
	if NOT issoundplaying \{$menu_music_stream}
		break
	endif
	repeat
endscript

script menu_music_off 
	if NOT ($shutdown_game_for_signin_change_flag = 1)
		enableusermusic \{disable}
	endif
	killspawnedscript \{name = menu_music_on}
	killspawnedscript \{name = menu_music_on_spawned}
	change \{menu_music_on_flag = 0}
	stopsoundevent \{menu_music_se}
	killmenumusic
endscript

script band_screen_ui_sound 
	printf channel = sfx qs(0x222b9798) s = <player_num>
	if (($game_mode = p2_faceoff) || ($game_mode = p2_pro_faceoff) || ($game_mode = p2_battle))
		if (<player_num> = 1)
			<pan1x> = -0.25
			<pan1y> = 1
			<pan2x> = -0.25
			<pan2y> = 1
		elseif (<player_num> = 2)
			<pan1x> = 0.25
			<pan1y> = 1
			<pan2x> = 0.25
			<pan2y> = 1
		endif
	else
		if (<player_num> = 1)
			<pan1x> = -0.25
			<pan1y> = 1
			<pan2x> = -0.25
			<pan2y> = 1
		elseif (<player_num> = 2)
			<pan1x> = -0.15
			<pan1y> = 1
			<pan2x> = -0.15
			<pan2y> = 1
		elseif (<player_num> = 3)
			<pan1x> = 0.15
			<pan1y> = 1
			<pan2x> = 0.15
			<pan2y> = 1
		elseif (<player_num> = 4)
			<pan1x> = 0.25
			<pan1y> = 1
			<pan2x> = 0.25
			<pan2y> = 1
		endif
	endif
	if gotparam \{up}
		switch <instrument>
			case drum
			playsound menu_scroll_up vol = -13 pitch = 1 buss = front_end pan1x = <pan1x> pan1y = <pan1y> pan2x = <pan2x> pan2y = <pan2y>
			case guitar
			playsound menu_scroll_up vol = -13 pitch = 1 buss = front_end pan1x = <pan1x> pan1y = <pan1y> pan2x = <pan2x> pan2y = <pan2y>
			case vocals
			playsound menu_scroll_up vol = -13 pitch = 1 buss = front_end pan1x = <pan1x> pan1y = <pan1y> pan2x = <pan2x> pan2y = <pan2y>
			case bass
			playsound menu_scroll_up vol = -13 pitch = 1 buss = front_end pan1x = <pan1x> pan1y = <pan1y> pan2x = <pan2x> pan2y = <pan2y>
			default
			playsound menu_scroll_up vol = -13 pitch = 1 buss = front_end pan1x = <pan1x> pan1y = <pan1y> pan2x = <pan2x> pan2y = <pan2y>
		endswitch
	else gotparam \{down}
		switch <instrument>
			case drum
			playsound menu_scroll_down vol = -12 pitch = 3 buss = front_end pan1x = <pan1x> pan1y = <pan1y> pan2x = <pan2x> pan2y = <pan2y>
			case guitar
			playsound menu_scroll_down vol = -12 pitch = 3 buss = front_end pan1x = <pan1x> pan1y = <pan1y> pan2x = <pan2x> pan2y = <pan2y>
			case vocals
			playsound menu_scroll_down vol = -12 pitch = 3 buss = front_end pan1x = <pan1x> pan1y = <pan1y> pan2x = <pan2x> pan2y = <pan2y>
			case bass
			playsound menu_scroll_down vol = -12 pitch = 3 buss = front_end pan1x = <pan1x> pan1y = <pan1y> pan2x = <pan2x> pan2y = <pan2y>
			default
			playsound menu_scroll_down vol = -12 pitch = 3 buss = front_end pan1x = <pan1x> pan1y = <pan1y> pan2x = <pan2x> pan2y = <pan2y>
		endswitch
	endif
endscript

script band_screen_scroll 
endscript

script band_screen_select 
endscript

script band_screen_back 
endscript

script attract_mode_start_sound_script 
	printf \{channel = sfx
		qs(0xa66c98f7)}
	setsoundbussparams {music_frontend = {vol = (($default_bussset.music_frontend.vol) - 100)} time = 2.5}
	setsoundbussparams {leadvox_balance = {vol = (($default_bussset.leadvox_balance.vol) - 11)} time = 1.5}
	setsoundbussparams {drums_balance = {vol = (($default_bussset.drums_balance.vol) - 11)} time = 1.5}
	setsoundbussparams {leadgtr_balance = {vol = (($default_bussset.leadgtr_balance.vol) - 11)} time = 1.5}
	setsoundbussparams {bass_balance = {vol = (($default_bussset.bass_balance.vol) - 11)} time = 1.5}
	setsoundbussparams {rhythmgtr_balance = {vol = (($default_bussset.rhythmgtr_balance.vol) - 11)} time = 1.5}
	setsoundbussparams {band_balance = {vol = (($default_bussset.band_balance.vol) - 11)} time = 1.5}
	setsoundbussparams {sfx_balance = {vol = (($default_bussset.sfx_balance.vol) - 11)} time = 1.5}
	setsoundbussparams {ui_star_power = {vol = (($default_bussset.ui_star_power.vol) - 100)} time = 1.5}
	setsoundbussparams {crowd_balance = {vol = (($default_bussset.crowd_balance.vol) - 11)} time = 7}
	setsoundbussparams {crowdsingalong_balance = {vol = (($default_bussset.crowdsingalong_balance.vol) - 11)} time = 7}
	setsoundbussparams {crowd_w_reverb = {vol = (($default_bussset.crowd_w_reverb.vol) - 11)} time = 7}
endscript

script attract_mode_ends_sound_script 
	printf \{channel = sfx
		qs(0x2023477e)}
	setsoundbussparams {music_frontend = {vol = ($default_bussset.music_frontend.vol)} time = 2.5}
	setsoundbussparams {leadvox_balance = {vol = ($default_bussset.leadvox_balance.vol)} time = 1.5}
	setsoundbussparams {drums_balance = {vol = ($default_bussset.drums_balance.vol)} time = 1.5}
	setsoundbussparams {leadgtr_balance = {vol = ($default_bussset.leadgtr_balance.vol)} time = 1.5}
	setsoundbussparams {bass_balance = {vol = ($default_bussset.bass_balance.vol)} time = 1.5}
	setsoundbussparams {rhythmgtr_balance = {vol = ($default_bussset.rhythmgtr_balance.vol)} time = 1.5}
	setsoundbussparams {band_balance = {vol = ($default_bussset.band_balance.vol)} time = 1.5}
	setsoundbussparams {sfx_balance = {vol = ($default_bussset.sfx_balance.vol)} time = 1.5}
	setsoundbussparams {ui_star_power = {vol = ($default_bussset.ui_star_power.vol)} time = 1.5}
	setsoundbussparams {crowd_balance = {vol = ($default_bussset.crowd_balance.vol)} time = 7}
	setsoundbussparams {crowdsingalong_balance = {vol = ($default_bussset.crowdsingalong_balance.vol)} time = 7}
	setsoundbussparams {crowd_w_reverb = {vol = ($default_bussset.crowd_w_reverb.vol)} time = 7}
endscript

script sound_options_scroll 
	soundevent \{event = audio_options_up_down}
endscript

script playing_sound_fader \{time = 2.102}
	setspawnedscriptnorepeatfor time = <time>
	setspawninstancelimits \{max = 1
		management = ignore_spawn_request}
	if gotparam \{instrument}
		switch <instrument>
			case guitar
			if ($guitar_knob_effects_position = 1)
				playsound \{audio_options_guitar
					vol = -7.0
					buss = options_guitar
					effects = [
						{
							$eq_guitarlead_crisp
							name = audiooptionssound
						}
					]}
			endif
			if ($guitar_knob_effects_position = 2)
				playsound \{audio_options_guitar
					vol = -7.0
					buss = options_guitar
					effects = [
						{
							$eq_guitarlead_edgy
							name = audiooptionssound
						}
					]}
			endif
			if ($guitar_knob_effects_position = 3)
				playsound \{audio_options_guitar
					vol = -7.0
					buss = options_guitar
					effects = [
						{
							$eq_guitarlead_fuzz
							name = audiooptionssound
						}
					]}
			endif
			case bass
			if ($bass_knob_effects_position = 1)
				playsound \{audio_options_bass
					vol = -9.0
					buss = options_bass
					effects = [
						{
							$eq_bass_bari
							name = audiooptionssound
						}
					]}
			endif
			if ($bass_knob_effects_position = 2)
				playsound \{audio_options_bass
					vol = -9.0
					buss = options_bass
					effects = [
						{
							$eq_bass_boomy
							name = audiooptionssound
						}
					]}
			endif
			if ($bass_knob_effects_position = 3)
				playsound \{audio_options_bass
					vol = -9.0
					buss = options_bass
					effects = [
						{
							$eq_bass_fretty
							name = audiooptionssound
						}
					]}
			endif
			case drums
			if ($drum_knob_effects_position = 1)
				playsound \{audio_options_drum
					vol = -2.0
					buss = options_drums
					effects = [
						{
							$eq_drum_punch
							name = audiooptionssound
						}
					]}
			endif
			if ($drum_knob_effects_position = 2)
				playsound \{audio_options_drum
					vol = -2.0
					buss = options_drums
					effects = [
						{
							$eq_drum_crack
							name = audiooptionssound
						}
					]}
			endif
			if ($drum_knob_effects_position = 3)
				playsound \{audio_options_drum
					vol = -2.0
					buss = options_drums
					effects = [
						{
							$eq_drum_sizzle
							name = audiooptionssound
						}
					]}
			endif
			case mic
			playsound \{audio_options_mic
				vol = -1
				buss = options_vox}
			case vocals
			playsound \{audio_options_vocals
				vol = 0
				buss = lead_vox}
			case instruments
			playsound \{audio_options_instruments
				vol = -6
				buss = band_playback}
			case sfx
			playsound \{audio_options_sfx
				vol = -2
				buss = options_crowd}
		endswitch
	endif
endscript

script playing_sound_knob 
	setspawnedscriptnorepeatfor \{time = 2.256}
	setspawninstancelimits \{max = 1
		management = ignore_spawn_request}
	if gotparam \{instrument}
		switch <instrument>
			case guitar
			playsound audio_options_guitar vol = -9.0 buss = options_guitar effects = [{<eq_setting> name = audiooptionssound}]
			case bass
			playsound audio_options_bass vol = -9.0 buss = options_bass effects = [{<eq_setting> name = audiooptionssound}]
			case vocals
			playsound audio_options_vocals vol = -9.0 buss = options_vocals effects = [{<eq_setting> name = audiooptionssound}]
			case drums
			playsound audio_options_drum vol = -9.0 buss = options_drums effects = [{<eq_setting> name = audiooptionssound}]
		endswitch
	endif
endscript

script menu_music_fade \{wait = 0
		volume = 100
		time = 0}
	wait <wait> seconds
	if gotparam \{out}
		setsoundbussparams {music_frontend = {vol = (($default_bussset.music_frontend.vol) - <volume>)} time = <time>}
		if NOT gotparam \{dont_fade_crowd}
			setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol) - <volume>)} time = <time>}
		endif
	else
		if gotparam \{in}
			setsoundbussparams {music_frontend = {vol = ($default_bussset.music_frontend.vol)} time = <time>}
			setsoundbussparams {crowd_beds = {vol = ($default_bussset.crowd_beds.vol)} time = <time>}
			if NOT gotparam \{options_audio}
				skate8_sfx_backgrounds_new_area \{bg_sfx_area = frontend_menu_music}
			endif
		else
			printf \{channel = sfx
				qs(0x876d718a)}
		endif
	endif
endscript

script song_intro_kick_sfx_waiting 
	wait ($current_intro.hud_move_time / 1000.0) seconds
	soundevent \{event = song_intro_kick_sfx}
endscript

script song_intro_highway_up_sfx_waiting 
	waittime = (($current_intro.highway_move_time / 1000.0) - 1.5)
	if (<waittime> < 0)
		waittime = 0
	endif
	wait <waittime> seconds
	soundevent \{event = song_intro_highway_up}
	getpakmancurrent \{map = zones}
	if ((z_studio = <pak>))
		if issoundeventplaying \{z_studio_intro_1}
			stopsoundevent \{z_studio_intro_1
				fade_time = 0.5
				fade_type = log_slow}
		endif
	endif
endscript

script song_intro_highway_up_vocals_sfx_waiting 
	waittime = (($current_intro.highway_move_time / 1000.0) - 2.3)
	if (<waittime> < 0)
		waittime = 0
	endif
	wait <waittime> seconds
	soundevent \{event = vocal_highway_appear}
endscript

script gh_sfx_intro_warmup 
	getpakmancurrent \{map = zones}
	switch <pak>
		case z_canyon
		spawnscriptnow \{canyon_intro}
		soundevent \{event = z_canyon_intro}
		case z_greatwall
		spawnscriptnow \{metalfest_intro}
		soundevent \{event = z_greatwall_intro}
		case z_london
		spawnscriptnow \{london_intro}
		soundevent \{event = z_london_intro}
		case z_atlantis
		spawnscriptnow \{metalfest_intro}
		soundevent \{event = z_atlantis_intro}
		case z_icecap
		spawnscriptnow \{metalfest_intro}
		soundevent \{event = z_icecap_intro}
		case z_quebec
		spawnscriptnow \{metalfest_intro}
		soundevent \{event = z_quebec_intro}
		case z_sphinx
		spawnscriptnow \{metalfest_intro}
		soundevent \{event = z_sphinx_intro}
		case z_amazon
		spawnscriptnow \{metalfest_intro}
		soundevent \{event = z_amazon_intro}
		case z_metalfest
		spawnscriptnow \{metalfest_intro}
		soundevent \{event = z_justice_intro}
		case z_donnington
		spawnscriptnow \{metalfest_intro}
		soundevent \{event = z_donington_intro}
		case z_meadowlands
		spawnscriptnow \{metalfest_intro}
		soundevent \{event = z_metalfest_intro}
		case z_studio
		soundevent \{event = z_studio_intro}
		printf \{channel = sfx
			qs(0x467cbb62)}
		case z_studio2
		soundevent \{event = z_studio_intro2}
		printf \{channel = sfx
			qs(0x9acb1fd9)}
		case z_soundcheck2
		soundevent \{event = z_soundcheck2_intro}
		case z_icecave
		soundevent \{event = z_icecave_intro}
		case z_mop
		spawnscriptnow \{med_inside_intro}
		soundevent \{event = z_mop_intro}
		case z_tushino
		spawnscriptnow \{large_outside_intro}
		soundevent \{event = z_tushino_intro}
		case z_stone
		spawnscriptnow \{small_intro}
		soundevent \{event = z_frathouse_intro}
		case z_hob
		spawnscriptnow \{med_inside_intro}
		soundevent \{event = z_harbor_intro}
		case z_studio
		soundevent \{event = z_studio_intro_1}
		printf \{channel = sfx
			qs(0x467cbb62)}
		case z_studio2
		soundevent \{event = z_studio_intro_1}
		printf \{channel = sfx
			qs(0x9acb1fd9)}
		case z_scifi
		spawnscriptnow \{military_intro}
		soundevent \{event = z_scifi_intro}
		case z_credits
		soundevent \{event = z_credits_intro}
		default
		spawnscriptnow \{metalfest_intro}
		soundevent \{event = z_harbor_intro}
	endswitch
	if (<pak> != z_studio && <pak> != z_studio2 && <pak> != z_tool)
		soundevent \{event = $current_crowd_applause_soundevent_l}
		soundevent \{event = $current_crowd_applause_soundevent_r}
	endif
	killspawnedscript \{name = loading_screen_crowd_swell}
	killspawnedscript \{name = crowd_loading_whistle}
	setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol))} time = 2}
endscript

script gh_sfx_intro_warmup_fast 
	soundevent \{event = $current_crowd_applause_soundevent_l}
	soundevent \{event = $current_crowd_applause_soundevent_r}
	killspawnedscript \{name = loading_screen_crowd_swell}
	killspawnedscript \{name = crowd_loading_whistle}
	setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol))} time = 2}
endscript

script gh_metallicavo_intro_warmup 
	soundevent \{event = $current_crowd_applause_soundevent_l}
	soundevent \{event = $current_crowd_applause_soundevent_r}
	killspawnedscript \{name = loading_screen_crowd_swell}
	killspawnedscript \{name = crowd_loading_whistle}
	setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol))} time = 1.5}
endscript

script gh_sfx_countoff_logic 
	get_song_struct song = ($current_song)
	if structurecontains structure = <song_struct> name = countoff
		countoff_sound = (<song_struct>.countoff)
	else
		countoff_sound = 'sticks_normal'
	endif
	if (<velocity> > 99)
		formattext checksumname = sound_event_name 'Countoff_SFX_%s_Hard' s = <countoff_sound>
	else
		if (<velocity> > 74)
			formattext checksumname = sound_event_name 'Countoff_SFX_%s_Med' s = <countoff_sound>
		else
			if (<velocity> > 49)
				formattext checksumname = sound_event_name 'Countoff_SFX_%s_Soft' s = <countoff_sound>
			else
				formattext checksumname = sound_event_name 'Countoff_SFX_%s_Soft' s = <countoff_sound>
			endif
		endif
	endif
	soundevent event = <sound_event_name>
endscript

script you_rock_waiting_crowd_sfx 
	wait \{2
		seconds}
	soundevent \{event = medium_crowd_applause}
endscript

script gh3_sfx_fail_song_stop_sounds 
	stopsoundsbybuss \{crowd}
	stopsoundsbybuss \{ui_star_power}
	stopsoundsbybuss \{ui_battle_mode}
	stopsoundsbybuss \{practice_band_playback}
	stopsoundsbybuss \{wrong_notes_bass}
	stopsoundsbybuss \{wrong_notes_drums}
	stopsoundsbybuss \{wrong_notes_guitar}
	stopsoundsbybuss \{binkcutscenes}
	bg_crowd_front_end_silence \{immediate = 1}
	remove_song_quiet_setting
endscript

script gh3_sfx_stop_sounds_for_killsong \{loading_transition = 0}
	setsoundbussparams {`default` = {vol = ($default_bussset.`default`.vol)} time = 0.02}
	stopsoundevent \{song_intro_kick_sfx}
	stopsoundevent \{notes_ripple_up_sfx}
	stopsoundevent \{song_intro_highway_up}
	stopsoundevent \{crowd_fast_surge_cheer}
	stopsoundevent \{medium_crowd_applause}
	stopsoundevent \{lose_multiplier_crowd}
	stopsoundevent \{star_power_release_front_p1_gh4}
	stopsoundevent \{star_power_release_center_p1_gh4}
	stopsoundevent \{star_power_release_center_p2_gh4}
	stopsoundevent \{star_power_release_front_p2_gh4}
	stopsoundevent \{star_power_deployed_lfe_p1_gh4}
	stopsoundevent \{star_power_deployed_lfe_p2_gh4}
	stopsoundevent \{star_power_deployed_front_p1_gh4}
	stopsoundevent \{star_power_deployed_back_p1_gh4}
	stopsoundevent \{star_power_deployed_front_p2_gh4}
	stopsoundevent \{star_power_deployed_back_p2_gh4}
	stopsoundevent \{star_power_available_p2_gh4}
	stopsoundevent \{star_power_available_p1_gh4}
	stopsoundevent \{star_power_awarded_sfx}
	stopsoundevent \{star_power_ready_sfx}
	stopsoundevent \{star_power_available_gh4}
	stopsoundevent \{star_power_release_center_gh4}
	stopsoundevent \{star_power_release_front_gh4}
	stopsoundevent \{star_power_deployed_sfx}
	stopsoundevent \{star_power_deployed_cheer_sfx}
	stopsoundevent \{star_power_deployed_back_gh4}
	stopsoundevent \{star_power_deployed_lfe_gh4}
	stopsoundevent \{star_power_deployed_front_gh4}
	stopsoundevent \{gh_sfx_battlemode_lightning_player1}
	stopsoundevent \{gh_sfx_battlemode_lightning_player2}
	stopsoundevent \{gh_sfx_battlemode_diffup_p1}
	stopsoundevent \{gh_sfx_battlemode_diffup_p2}
	stopsoundevent \{gh_sfx_battlemode_doublenote_p1}
	stopsoundevent \{gh_sfx_battlemode_doublenote_p2}
	stopsoundevent \{gh_sfx_battlemode_lefty_p1}
	stopsoundevent \{gh_sfx_battlemode_lefty_p2}
	stopsoundevent \{gh_sfx_battlemode_steal_p1}
	stopsoundevent \{gh_sfx_battlemode_steal_p2}
	stopsoundevent \{gh_sfx_battlemode_stringbreak_p1}
	stopsoundevent \{gh_sfx_battlemode_stringbreak_p2}
	stopsoundevent \{gh_sfx_battlemode_whammyattack_p1}
	stopsoundevent \{gh_sfx_battlemode_whammyattack_p2}
	stopsoundevent \{gh_sfx_bossbattle_playerdies}
	stopsoundevent \{gh_sfx_battlemode_attack_over_p1}
	stopsoundevent \{gh_sfx_battlemode_attack_over_p2}
	stopsoundevent \{battle_power_awarded_sfx_p1}
	stopsoundevent \{battle_power_awarded_sfx_p2}
	stopsoundevent \{gh_sfx_battlemode_whammyattack_received_p1}
	stopsoundevent \{gh_sfx_battlemode_whammyattack_received_p2}
	stopsoundevent \{battlemode_heartbeat_p1}
	stopsoundevent \{battlemode_heartbeat_p2}
	stopsoundsbybuss \{practice_band_playback}
	stopsoundevent \{ui_sfx_lose_multiplier_2x}
	stopsoundevent \{ui_sfx_lose_multiplier_3x}
	stopsoundevent \{ui_sfx_lose_multiplier_4x}
	stopsoundevent \{lose_multiplier_crowd}
	stopsoundevent \{star_power_deployed_back_p3_gh4}
	stopsoundevent \{star_power_deployed_front_p3_gh4}
	stopsoundevent \{star_power_available_p3_gh4}
	stopsoundevent \{star_power_awarded_sfx_p3}
	stopsoundevent \{star_power_release_center_p1_gh4}
	stopsoundevent \{star_power_release_front_p1_gh4}
	stopsoundevent \{ui_sfx_50_note_streak_singleplayer}
	stopsoundevent \{ui_sfx_50_note_streak_p1}
	stopsoundevent \{ui_sfx_50_note_streak_p2}
	stopsoundevent \{ui_sfx_100_note_streak_singleplayer}
	stopsoundevent \{ui_sfx_100_note_streak_p1}
	stopsoundevent \{ui_sfx_100_note_streak_p2}
	stopsoundsbybuss \{drums_ingame}
	stopsoundsbybuss \{drums_jammode}
	stopsoundsbybuss \{guitar_jammode}
	stopsoundsbybuss \{bass_jammode}
	stopsoundsbybuss \{wrong_notes_guitar}
	stopsoundsbybuss \{wrong_notes_bass}
	stopsoundsbybuss \{wrong_notes_drums}
	stopsoundevent \{crowd_applause_large_ext_l}
	stopsoundevent \{crowd_applause_large_ext_r}
	stopsoundevent \{crowd_applause_medium_ext_l}
	stopsoundevent \{crowd_applause_medium_ext_r}
	stopsoundevent \{crowd_applause_medium_int_l}
	stopsoundevent \{crowd_applause_medium_int_r}
	stopsoundevent \{crowd_applause_small_int_l}
	stopsoundevent \{crowd_applause_small_int_r}
	if (<type> = normal)
		if (<loading_transition> = 1)
		else
			bg_crowd_front_end_silence \{immediate = 1}
		endif
	endif
endscript

script gh_sfx_training_tuning_strings 
	switch <note_played>
		case 0
		switch <training_notes_strummed>
			case 1
			playsound \{e_tuning
				vol_percent = 90
				pitch_percent = 80
				buss = training_vo}
			case 2
			playsound \{e_tuning
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
			case 3
			playsound \{e_string
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
		endswitch
		case 1
		switch <training_notes_strummed>
			case 1
			playsound \{a_tuning
				vol_percent = 90
				pitch_percent = 80
				buss = training_vo}
			case 2
			playsound \{a_tuning
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
			case 3
			playsound \{a_string
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
		endswitch
		case 2
		switch <training_notes_strummed>
			case 1
			playsound \{d_tuning
				vol_percent = 90
				pitch_percent = 80
				buss = training_vo}
			case 2
			playsound \{d_tuning
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
			case 3
			playsound \{d_string
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
		endswitch
		case 3
		switch <training_notes_strummed>
			case 1
			playsound \{g_tuning
				vol_percent = 90
				pitch_percent = 80
				buss = training_vo}
			case 2
			playsound \{g_tuning
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
			case 3
			playsound \{g_string
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
		endswitch
		case 4
		switch <training_notes_strummed>
			case 1
			playsound \{b_tuning
				vol_percent = 90
				pitch_percent = 80
				buss = training_vo}
			case 2
			playsound \{b_tuning
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
			case 3
			playsound \{b_string
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
		endswitch
	endswitch
endscript

script gh_sfx_training_hammer_on_lesson_2 
	switch <note_played>
		case 0
		switch <training_notes_strummed>
			case 1
			playsound \{e_tuning
				vol_percent = 90
				pitch_percent = 80
				buss = training_vo}
			case 2
			playsound \{e_tuning
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
			case 3
			playsound \{e_string
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
		endswitch
		case 1
		switch <training_notes_strummed>
			case 1
			playsound \{a_tuning
				vol_percent = 90
				pitch_percent = 80
				buss = training_vo}
			case 2
			playsound \{a_tuning
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
			case 3
			playsound \{a_string
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
		endswitch
		case 2
		switch <training_notes_strummed>
			case 1
			playsound \{d_tuning
				vol_percent = 90
				pitch_percent = 80
				buss = training_vo}
			case 2
			playsound \{d_tuning
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
			case 3
			playsound \{d_string
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
		endswitch
		case 3
		switch <training_notes_strummed>
			case 1
			playsound \{g_tuning
				vol_percent = 90
				pitch_percent = 80
				buss = training_vo}
			case 2
			playsound \{g_tuning
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
			case 3
			playsound \{g_string
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
		endswitch
		case 4
		switch <training_notes_strummed>
			case 1
			playsound \{b_tuning
				vol_percent = 90
				pitch_percent = 80
				buss = training_vo}
			case 2
			playsound \{b_tuning
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
			case 3
			playsound \{b_string
				vol_percent = 90
				pitch_percent = 90
				buss = training_vo}
		endswitch
	endswitch
endscript

script stopnotes_01 
	if issoundeventplaying \{tutorial_string_1_strum_free}
		setsoundparams \{tutorial_string_1_strum_free
			vol_percent = 100}
		wait \{0.05
			seconds}
		setsoundparams \{tutorial_string_1_strum_free
			vol_percent = 50}
		wait \{0.05
			seconds}
		setsoundparams \{tutorial_string_1_strum_free
			vol_percent = 10}
		stopsoundevent \{tutorial_string_1_strum_free}
	endif
endscript

script stopnotes_02 
	if issoundeventplaying \{tutorial_string_2_hopo_free}
		setsoundparams \{tutorial_string_2_hopo_free
			vol_percent = 100}
		wait \{0.05
			seconds}
		setsoundparams \{tutorial_string_2_hopo_free
			vol_percent = 50}
		wait \{0.05
			seconds}
		setsoundparams \{tutorial_string_2_hopo_free
			vol_percent = 10}
		stopsoundevent \{tutorial_string_2_hopo_free}
	endif
endscript

script stopnotes_03 
	if issoundeventplaying \{tutorial_string_3_hopo_free}
		setsoundparams \{tutorial_string_3_hopo_free
			vol_percent = 100}
		wait \{0.05
			seconds}
		setsoundparams \{tutorial_string_3_hopo_free
			vol_percent = 50}
		wait \{0.05
			seconds}
		setsoundparams \{tutorial_string_3_hopo_free
			vol_percent = 10}
		stopsoundevent \{tutorial_string_3_hopo_free}
	endif
endscript

script stopnotes_04 
	if issoundeventplaying \{tutorial_string_3_strum_free}
		setsoundparams \{tutorial_string_3_strum_free
			vol_percent = 100}
		wait \{0.05
			seconds}
		setsoundparams \{tutorial_string_3_strum_free
			vol_percent = 50}
		wait \{0.05
			seconds}
		setsoundparams \{tutorial_string_3_strum_free
			vol_percent = 10}
		stopsoundevent \{tutorial_string_3_strum_free}
	endif
endscript

script stopnotes_05 
	if issoundeventplaying \{tutorial_string_2_hopo_free}
		setsoundparams \{tutorial_string_2_hopo_free
			vol_percent = 100}
		wait \{0.05
			seconds}
		setsoundparams \{tutorial_string_2_hopo_free
			vol_percent = 50}
		wait \{0.05
			seconds}
		setsoundparams \{tutorial_string_2_hopo_free
			vol_percent = 10}
		stopsoundevent \{tutorial_string_2_hopo_free}
	endif
endscript

script stopnotes_06 
	if issoundeventplaying \{tutorial_string_1_hopo_free}
		setsoundparams \{tutorial_string_1_hopo_free
			vol_percent = 100}
		wait \{0.05
			seconds}
		setsoundparams \{tutorial_string_1_hopo_free
			vol_percent = 50}
		wait \{0.05
			seconds}
		setsoundparams \{tutorial_string_1_hopo_free
			vol_percent = 10}
		stopsoundevent \{tutorial_string_1_hopo_free}
	endif
endscript

script tutorial_mode_finish_chord_02 
	wait \{1
		seconds}
	soundevent \{event = tutorial_mode_finish_chord}
endscript

script tutorial_mode_finish_chord_03 
	wait \{0.3
		seconds}
	soundevent \{event = tutorial_mode_finish_chord}
endscript

script gh_sfx_note_streak_singleplayer 
	printf \{channel = sfx
		qs(0x249a99e1)}
	if NOT (($is_attract_mode = 1) || ($crowd_in_jam_mode_song_state = 1) || ($game_mode = p2_battle))
		if (<combo> < 100)
			soundevent \{event = ui_sfx_50_note_streak_singleplayer}
		else
			soundevent \{event = ui_sfx_100_note_streak_singleplayer}
		endif
	endif
endscript

script gh_sfx_note_streak_p1 
	printf \{channel = sfx
		qs(0xed9e0418)}
	if NOT (($is_attract_mode = 1) || ($crowd_in_jam_mode_song_state = 1) || ($game_mode = p2_battle))
		if (<combo> < 100)
			soundevent \{event = ui_sfx_50_note_streak_singleplayer}
		else
			soundevent \{event = ui_sfx_100_note_streak_singleplayer}
		endif
	endif
endscript

script gh_sfx_note_streak_p2 
	printf \{channel = sfx
		qs(0xc6b357db)}
	if NOT (($is_attract_mode = 1) || ($crowd_in_jam_mode_song_state = 1) || ($game_mode = p2_battle))
		if (<combo> < 100)
			soundevent \{event = ui_sfx_50_note_streak_singleplayer}
		else
			soundevent \{event = ui_sfx_100_note_streak_singleplayer}
		endif
	endif
endscript

script gh_sfx_hotstart_singleplayer 
	soundevent \{event = ui_sfx_50_note_streak_singleplayer}
endscript

script gh_sfx_hotstart_p1 
	soundevent \{event = ui_sfx_50_note_streak_p1}
endscript

script gh_sfx_hotstart_p2 
	soundevent \{event = ui_sfx_50_note_streak_p2}
endscript

script guitar_wrong_note_sound_logic \{vol = 0.0
		pitch = 0.0
		soundasset = `default`
		buss = `default`
		pan1x = 0.0
		pan1y = 0.0
		pan2x = 0.0
		pan2y = 0.0}
	switch ($<player_status>.highway_position)
		case left
		printf \{channel = sfx
			qs(0xac627fa4)}
		pan1x = -1.0
		pan1y = 1.0
		pan2x = 0.0
		pan2y = 1.0
		case right
		printf \{channel = sfx
			qs(0x26f527b0)}
		pan1x = 1.0
		pan1y = 1.0
		pan2x = 0.0
		pan2y = 1.0
		case center
		if ($current_num_players < 2)
			printf \{channel = sfx
				qs(0x64108053)}
			pan1x = -1.0
			pan1y = 1.0
			pan2x = 1.0
			pan2y = 1.0
		else
			printf \{channel = sfx
				qs(0x28ac8da2)}
			pan1x = -0.25
			pan1y = 1.0
			pan2x = 0.25
			pan2y = 1.0
		endif
		default
		printf \{channel = sfx
			qs(0x4ecd64b0)}
	endswitch
	switch ($<player_status>.part)
		case bass
		RandomNoRepeat (
			@ soundasset = bad_note_bass2
			vol = -2
			@ soundasset = bad_note_bass4
			vol = -2
			@ soundasset = bad_note_bass6
			vol = -2
			)
		newbuss = wrong_notes_bass
		printf channel = sfx qs(0x1e59813a) s = <soundasset> v = <vol> t = <newbuss>
		case guitar
		RandomNoRepeat (
			@ soundasset = bad_note1
			vol = -5.63
			@ soundasset = bad_note2
			vol = -4.02
			@ soundasset = bad_note3
			vol = -5.2599998
			@ soundasset = bad_note4
			vol = -5.21
			@ soundasset = bad_note6
			vol = -5.2599998
			)
		newbuss = wrong_notes_guitar
		printf channel = sfx qs(0xdddcd451) s = <soundasset> v = <vol> t = <newbuss>
		case drum
		switch <drum_stream>
			case 0
			case 2
			soundasset = bad_note_tom1
			vol = -6
			pitch = RandomFloat (-2.0, 0.0)
			case 1
			soundasset = bad_note_hihat1
			vol = -2
			pitch = -4
			case 3
			soundasset = bad_note_kick1
			vol = -1
			pitch = 4
		endswitch
		newbuss = wrong_notes_drums
		printf channel = sfx qs(0x6828d74c) s = <soundasset> v = <vol> t = <newbuss>
		default
		printf \{channel = sfx
			qs(0xd6ef2146)}
	endswitch
	gamemode_getnumplayersshown
	if (<num_players_shown> > 1)
		vol = (<vol> - 2)
	endif
	printf channel = sfx qs(0xa9b0bfad) s = <soundasset> t = <vol> u = <pitch> v = <newbuss> w = <pan1x> x = <pan1y> y = <pan2x> z = <pan2y>
	playsound <soundasset> vol = <vol> pitch = <pitch> buss = <newbuss> pan1x = <pan1x> pan1y = <pan1y> pan2x = <pan2x> pan2y = <pan2y> priority = 90 panremovecenter = true
endscript

script play_instrument_sound_with_panning \{vol = 0.0
		pitch = 0.0
		soundasset = `default`
		buss = `default`
		pan1x = 0.0
		pan1y = 0.0
		pan2x = 0.0
		pan2y = 0.0}
	switch ($<player_status>.highway_position)
		case left
		printf \{channel = sfx
			qs(0xac627fa4)}
		pan1x = -1.0
		pan1y = 1.0
		pan2x = 0.0
		pan2y = 1.0
		case right
		printf \{channel = sfx
			qs(0x26f527b0)}
		pan1x = 1.0
		pan1y = 1.0
		pan2x = 0.0
		pan2y = 1.0
		case center
		if ($current_num_players < 2)
			printf \{channel = sfx
				qs(0x64108053)}
			pan1x = -1.0
			pan1y = 1.0
			pan2x = 1.0
			pan2y = 1.0
		else
			printf \{channel = sfx
				qs(0x28ac8da2)}
			pan1x = -0.25
			pan1y = 1.0
			pan2x = 0.25
			pan2y = 1.0
		endif
		default
		printf \{channel = sfx
			qs(0x4ecd64b0)}
	endswitch
	switch ($<player_status>.part)
		case bass
		RandomNoRepeat (
			@ soundasset = bad_note_bass2
			vol = -2
			@ soundasset = bad_note_bass4
			vol = -2
			@ soundasset = bad_note_bass6
			vol = -2
			)
		newbuss = wrong_notes_bass
		printf channel = sfx qs(0x1e59813a) s = <soundasset> v = <vol> t = <newbuss>
		case guitar
		RandomNoRepeat (
			@ soundasset = bad_note1
			vol = -5.63
			@ soundasset = bad_note2
			vol = -4.02
			@ soundasset = bad_note3
			vol = -5.2599998
			@ soundasset = bad_note4
			vol = -5.21
			@ soundasset = bad_note6
			vol = -5.2599998
			)
		newbuss = wrong_notes_guitar
		printf channel = sfx qs(0xdddcd451) s = <soundasset> v = <vol> t = <newbuss>
		case drum
		switch <drum_index>
			case 0
			case 1
			case 3
			soundasset = bad_note_tom1
			vol = -6
			pitch = RandomFloat (-2.0, 0.0)
			case 2
			case 4
			soundasset = bad_note_hihat1
			vol = -2
			pitch = -4
			case 5
			soundasset = bad_note_kick1
			vol = -1
			pitch = 4
		endswitch
		newbuss = wrong_notes_drums
		printf channel = sfx qs(0x6828d74c) s = <soundasset> v = <vol> t = <newbuss>
		default
		printf \{channel = sfx
			qs(0xd6ef2146)}
	endswitch
	printf channel = sfx qs(0xa9b0bfad) s = <soundasset> t = <vol> u = <pitch> v = <newbuss> w = <pan1x> x = <pan1y> y = <pan2x> z = <pan2y>
	playsound <soundasset> vol = <vol> pitch = <pitch> buss = <newbuss> pan1x = <pan1x> pan1y = <pan1y> pan2x = <pan2x> pan2y = <pan2y> priority = 90 panremovecenter = true
endscript

script z_metalfest_sfx_proxim_test 
	if inside
		printf \{channel = sfx
			qs(0xd77ff6d5)}
	else
		if gotparam \{destroyed}
			printf \{channel = sfx
				qs(0x55c7c113)}
		else
			if gotparam \{created}
				printf \{channel = sfx
					qs(0x1d37061a)}
			else
				printf \{channel = sfx
					qs(0x5b76594f)}
			endif
		endif
	endif
endscript

script testtonesoundevent \{type = `default`}
	printf channel = sfx qs(0x7a0099b8) s = <type>
	switch <type>
		case guitar
		printf \{channel = sfx
			qs(0x3d4d753d)}
		playsound \{testtones_guitar
			buss = master}
		case bass
		printf \{channel = sfx
			qs(0x3d4d753d)}
		playsound \{testtones_bass
			buss = master}
		case kick
		printf \{channel = sfx
			qs(0x3d4d753d)}
		playsound \{testtones_kickdrum
			buss = master}
		case snare
		printf \{channel = sfx
			qs(0x3d4d753d)}
		playsound \{testtones_snaredrum
			buss = master}
		case tom
		printf \{channel = sfx
			qs(0x3d4d753d)}
		playsound \{testtones_toms
			buss = master}
		case cymbal
		printf \{channel = sfx
			qs(0x3d4d753d)}
		playsound \{testtones_cymbals
			buss = master}
		case voxlead
		printf \{channel = sfx
			qs(0x3d4d753d)}
		playsound \{testtones_leadvocals
			buss = master}
		case voxbackup
		printf \{channel = sfx
			qs(0x3d4d753d)}
		playsound \{testtones_backupvocals
			buss = master}
		case band
		printf \{channel = sfx
			qs(0x3d4d753d)}
		playsound \{testtones_band
			buss = master}
		case crowd
		printf \{channel = sfx
			qs(0x3d4d753d)}
		playsound \{testtones_crowd
			buss = master}
		default
		printf channel = sfx qs(0x7a0099b8) s = <type>
	endswitch
endscript

script startpinknoiseloopforcaliratelagscreen 
	playsound \{pinknoise_minnus_20
		buss = `default`
		vol = -70
		num_loops = -1}
endscript

script stoppinknoiseloopforcaliratelagscreen 
	stopsound \{pinknoise_minnus_20}
endscript

script testtoneenterscript 
	setsoundbussparams {sfx_balance = {vol = (($default_bussset.sfx_balance.vol) - 100)}}
endscript

script testtoneexitscript 
	setsoundbussparams {sfx_balance = {vol = ($default_bussset.sfx_balance.vol)}}
endscript

script muting_test_setup_script 
	setsoundbussparams \{ui = {
			vol = -100.0
		}}
	change \{crowd_debug_mode = 1}
endscript
save_check_time_early = 0.0
save_check_time_late = 0.0

script audio_sync_test_disable_highway 
	disable_bg_viewport
	change \{save_check_time_early = $check_time_early}
	change \{save_check_time_late = $check_time_late}
	change \{check_time_early = 1.0}
	change \{check_time_late = 1.0}
endscript

script audio_sync_test_enable_highway 
	enable_bg_viewport
	change \{check_time_early = $save_check_time_early}
	change \{check_time_late = $save_check_time_late}
endscript

script profiling_fmod_effects 
endscript

script stars 
	printf \{channel = sfx
		qs(0x65278da5)}
	printf \{channel = sfx
		qs(0x65278da5)}
	printf \{channel = sfx
		qs(0x65278da5)}
	printf \{channel = sfx
		qs(0x65278da5)}
	printf \{channel = sfx
		qs(0x65278da5)}
endscript

script star_power_deployed_sfx_multiplayer \{player = 1}
	printf \{channel = sfx
		qs(0x9e86cd69)}
	getplayerinfo <player> highway_position
	printf channel = sfx qs(0x3c9d8c67) s = <highway_position>
	if NOT issoundplaying \{star_deployed_back}
		printf \{channel = sfx
			qs(0xc62aa5dd)}
		if (<highway_position> = left)
			printf \{channel = sfx
				qs(0x4dfd5b77)}
			soundevent \{event = star_power_deployed_lfe_p1_gh4}
			soundevent \{event = star_power_deployed_back_p1_gh4}
			soundevent \{event = star_power_deployed_front_p1_gh4}
			soundevent \{event = star_power_deployed_cheer_sfx_p1}
		else
			if (<highway_position> = right)
				printf \{channel = sfx
					qs(0x290badee)}
				soundevent \{event = star_power_deployed_lfe_p1_gh4}
				soundevent \{event = star_power_deployed_back_p2_gh4}
				soundevent \{event = star_power_deployed_front_p2_gh4}
				soundevent \{event = star_power_deployed_cheer_sfx_p2}
			else
				printf \{channel = sfx
					qs(0xb3f669ca)}
				soundevent \{event = star_power_deployed_lfe_p1_gh4}
				soundevent \{event = star_power_deployed_back_p3_gh4}
				soundevent \{event = star_power_deployed_front_p3_gh4}
				soundevent \{event = star_power_deployed_cheer_sfx_p3}
			endif
		endif
		printf \{channel = sfx
			qs(0xe6e95e4d)}
		change \{star_power_deployed_flag = 1}
		wait \{0.9
			seconds}
		printf \{channel = sfx
			qs(0x0a5c5d52)}
		change \{star_power_deployed_flag = 0}
	else
		printf \{channel = sfx
			qs(0xe4f96e42)}
		if ($star_power_deployed_flag = 1)
			printf \{channel = sfx
				qs(0xbf9f78e2)}
			setsoundparams \{star_deployed_front
				pan1x = -1
				pan1y = 1
				pan2x = 1
				pan2y = 1}
			setsoundparams \{star_deployed_back
				pan1x = -1
				pan1y = 1
				pan2x = 1
				pan2y = -1}
			setsoundparams \{sp_cheer1
				pan1x = -1
				pan1y = 1
				pan2x = 1
				pan2y = 1}
		else
			printf \{channel = sfx
				qs(0x181f2540)}
			if (<highway_position> = left)
				printf \{channel = sfx
					qs(0x4dfd5b77)}
				soundevent \{event = star_power_deployed_lfe_p1_gh4}
				soundevent \{event = star_power_deployed_back_p1_gh4}
				soundevent \{event = star_power_deployed_front_p1_gh4}
				soundevent \{event = star_power_deployed_cheer_sfx_p1}
			else
				if (<highway_position> = right)
					printf \{channel = sfx
						qs(0x290badee)}
					soundevent \{event = star_power_deployed_lfe_p1_gh4}
					soundevent \{event = star_power_deployed_back_p2_gh4}
					soundevent \{event = star_power_deployed_front_p2_gh4}
					soundevent \{event = star_power_deployed_cheer_sfx_p2}
				else
					printf \{channel = sfx
						qs(0xb3f669ca)}
					soundevent \{event = star_power_deployed_lfe_p1_gh4}
					soundevent \{event = star_power_deployed_back_p3_gh4}
					soundevent \{event = star_power_deployed_front_p3_gh4}
					soundevent \{event = star_power_deployed_cheer_sfx_p3}
				endif
			endif
		endif
	endif
endscript

script star_power_ready_sfx_multiplayer \{player = 1}
	getplayerinfo <player> highway_position
	if NOT issoundplaying \{star_available}
		if (<highway_position> = left)
			soundevent \{event = star_power_available_p1_gh4}
		elseif (<highway_position> = right)
			soundevent \{event = star_power_available_p2_gh4}
		else
			soundevent \{event = star_power_available_p3_gh4}
		endif
		change \{star_power_ready_flag = 1}
		wait \{0.9
			second}
		change \{star_power_ready_flag = 0}
	else
		if ($star_power_ready_flag = 1)
			setsoundparams \{star_available
				pan1x = -0.5
				pan1y = 0.87
				pan2x = 0.5
				pan2y = 0.87}
		else
			if (<highway_position> = left)
				soundevent \{event = star_power_available_p1_gh4}
			elseif (<highway_position> = right)
				soundevent \{event = star_power_available_p2_gh4}
			else
				soundevent \{event = star_power_available_p3_gh4}
			endif
		endif
	endif
endscript

script star_power_awarded_sfx_multiplayer \{player = 1}
	getplayerinfo <player> highway_position
	if NOT issoundplaying \{sp_awarded1}
		if (<highway_position> = left)
			soundevent \{event = star_power_awarded_sfx_p1}
		elseif (<highway_position> = right)
			soundevent \{event = star_power_awarded_sfx_p2}
		else
			soundevent \{event = star_power_awarded_sfx_p3}
		endif
		change \{star_power_awarded_flag = 1}
		wait \{0.3
			second}
		change \{star_power_awarded_flag = 0}
	else
		if ($star_power_awarded_flag = 1)
			setsoundparams \{sp_awarded1
				pan1x = -0.5
				pan1y = 0.87
				pan2x = 0.5
				pan2y = 0.87}
		else
			if (<highway_position> = left)
				soundevent \{event = star_power_awarded_sfx_p1}
			elseif (<highway_position> = right)
				soundevent \{event = star_power_awarded_sfx_p2}
			else
				soundevent \{event = star_power_awarded_sfx_p3}
			endif
		endif
	endif
endscript

script star_power_release_sfx_multiplayer \{player = 1}
	getplayerinfo <player> highway_position
	if NOT issoundplaying \{star_release_front}
		if (<highway_position> = left)
			soundevent \{event = star_power_release_center_p1_gh4}
			soundevent \{event = star_power_release_front_p1_gh4}
		elseif (<highway_position> = right)
			soundevent \{event = star_power_release_center_p2_gh4}
			soundevent \{event = star_power_release_front_p2_gh4}
		else
			soundevent \{event = star_power_release_center_p3_gh4}
			soundevent \{event = star_power_release_front_p3_gh4}
		endif
		change \{star_power_deployed_flag = 1}
		wait \{0.9
			second}
		change \{star_power_deployed_flag = 0}
	else
		if ($star_power_deployed_flag = 1)
			setsoundparams \{star_release_front
				pan1x = -0.5
				pan1y = 0.87
				pan2x = 0.5
				pan2y = 0.87}
			setsoundparams \{star_release_center
				pan1x = 0.2392232
				pan1y = 0.97096455}
		else
			if (<highway_position> = left)
				soundevent \{event = star_power_release_center_p1_gh4}
				soundevent \{event = star_power_release_front_p1_gh4}
			elseif (<highway_position> = right)
				soundevent \{event = star_power_release_center_p2_gh4}
				soundevent \{event = star_power_release_front_p2_gh4}
			else
				soundevent \{event = star_power_release_center_p3_gh4}
				soundevent \{event = star_power_release_front_p3_gh4}
			endif
		endif
	endif
endscript

script stopallcheeringsounds 
	stopsoundevent \{$current_crowd_swell_short_soundevent_l
		fade_time = 0.8
		fade_type = log_slow}
	stopsoundevent \{$current_crowd_swell_short_soundevent_r
		fade_time = 0.8
		fade_type = log_slow}
	stopsoundevent \{$current_crowd_applause_soundevent_l
		fade_time = 0.8
		fade_type = log_slow}
	stopsoundevent \{$current_crowd_applause_soundevent_r
		fade_time = 0.8
		fade_type = log_slow}
	stopsoundevent \{$current_crowd_swell_short_soft_soundevent_l
		fade_time = 0.8
		fade_type = log_slow}
	stopsoundevent \{$current_crowd_swell_short_soft_soundevent_r
		fade_time = 0.8
		fade_type = log_slow}
	stopsoundevent \{$current_crowd_swell_med_soundevent_r
		fade_time = 0.8
		fade_type = log_slow}
	stopsoundevent \{$current_crowd_swell_med_soundevent_l
		fade_time = 0.8
		fade_type = log_slow}
	stopsoundevent \{$current_crowd_swell_long_soundevent_l
		fade_time = 0.8
		fade_type = log_slow}
	stopsoundevent \{$current_crowd_swell_long_soundevent_r
		fade_time = 0.8
		fade_type = log_slow}
	change \{turn_off_oneshot_cheers = 1}
	wait \{8
		seconds}
	change \{turn_off_oneshot_cheers = 0}
endscript

script clap_fading 
	change \{clap_fade = 1}
	setsoundbussparams \{crowd_star_power = {
			vol = -100
		}
		time = 5}
	wait \{5
		seconds}
	change \{clap_fade = 0}
	change \{star_clap_left = 0}
	change \{star_clap_right = 0}
	change \{star_clap_left_middle = 0}
	change \{star_clap_right_middle = 0}
	change \{star_clap_middle = 0}
	change \{star_clap_normal = 0}
	setsoundbussparams {crowd_star_power = {vol = ($default_bussset.crowd_star_power.vol)} time = 0.1}
endscript

script clap_fade_kill 
	killspawnedscript \{name = clap_fading}
	setsoundbussparams {crowd_star_power = {vol = ($default_bussset.crowd_star_power.vol)} time = 0.1}
endscript

script star_power_clap_panning \{player = 1}
	if NOT issingleplayergame
		getplayerinfo <player> highway_position
		if (<highway_position> = left)
			change \{star_clap_left = 1}
			change \{star_clap_right = 0}
			change \{star_clap_left_middle = 0}
			change \{star_clap_right_middle = 0}
			change \{star_clap_middle = 0}
			change \{star_clap_normal = 0}
			change \{star_clap_leftcenterright = 0}
		elseif (<highway_position> = right)
			change \{star_clap_right = 1}
			change \{star_clap_left = 0}
			change \{star_clap_left_middle = 0}
			change \{star_clap_right_middle = 0}
			change \{star_clap_middle = 0}
			change \{star_clap_normal = 0}
			change \{star_clap_leftcenterright = 0}
		else
			change \{star_clap_middle = 1}
			change \{star_clap_left = 0}
			change \{star_clap_right = 0}
			change \{star_clap_left_middle = 0}
			change \{star_clap_right_middle = 0}
			change \{star_clap_normal = 0}
			change \{star_clap_leftcenterright = 0}
		endif
	else
		change \{star_clap_normal = 1}
		change \{star_clap_left = 0}
		change \{star_clap_right = 0}
		change \{star_clap_left_middle = 0}
		change \{star_clap_right_middle = 0}
		change \{star_clap_middle = 0}
		change \{star_clap_leftcenterright = 0}
	endif
endscript

script star_power_clap_panning_multiple \{player = 1}
	printf \{channel = sfx
		qs(0xd4253830)}
	if NOT issingleplayergame
		printf \{channel = sfx
			qs(0xfae4d235)}
		getplayerinfo <player> highway_position
		printf channel = sfx qs(0x1fc7622c) s = <highway_position>
		if (<highway_position> = left)
			if (($star_clap_right = 1))
				change \{star_clap_normal = 1}
				change \{star_clap_left = 0}
				change \{star_clap_right = 0}
				change \{star_clap_left_middle = 0}
				change \{star_clap_right_middle = 0}
				change \{star_clap_middle = 0}
				change \{star_clap_leftcenterright = 0}
			elseif ($star_clap_right_middle = 1)
				change \{star_clap_normal = 0}
				change \{star_clap_left = 0}
				change \{star_clap_right = 0}
				change \{star_clap_left_middle = 0}
				change \{star_clap_right_middle = 0}
				change \{star_clap_middle = 0}
				change \{star_clap_leftcenterright = 1}
			elseif ($star_clap_middle = 1)
				change \{star_clap_left_middle = 1}
				change \{star_clap_normal = 0}
				change \{star_clap_left = 0}
				change \{star_clap_right = 0}
				change \{star_clap_right_middle = 0}
				change \{star_clap_middle = 0}
				change \{star_clap_leftcenterright = 0}
			endif
		elseif (<highway_position> = right)
			if (($star_clap_left = 1))
				change \{star_clap_normal = 1}
				change \{star_clap_left = 0}
				change \{star_clap_right = 0}
				change \{star_clap_left_middle = 0}
				change \{star_clap_right_middle = 0}
				change \{star_clap_middle = 0}
				change \{star_clap_leftcenterright = 0}
			elseif ($star_clap_left_middle = 1)
				change \{star_clap_normal = 0}
				change \{star_clap_left = 0}
				change \{star_clap_right = 0}
				change \{star_clap_left_middle = 0}
				change \{star_clap_right_middle = 0}
				change \{star_clap_middle = 0}
				change \{star_clap_leftcenterright = 1}
			elseif ($star_clap_middle = 1)
				change \{star_clap_right_middle = 1}
				change \{star_clap_left_middle = 0}
				change \{star_clap_normal = 0}
				change \{star_clap_left = 0}
				change \{star_clap_right = 0}
				change \{star_clap_middle = 0}
				change \{star_clap_leftcenterright = 0}
			endif
		else
			if ($star_clap_left = 1)
				change \{star_clap_normal = 0}
				change \{star_clap_left = 0}
				change \{star_clap_right = 0}
				change \{star_clap_left_middle = 1}
				change \{star_clap_right_middle = 0}
				change \{star_clap_middle = 0}
				change \{star_clap_leftcenterright = 0}
			elseif ($star_clap_right = 1)
				change \{star_clap_normal = 0}
				change \{star_clap_left = 0}
				change \{star_clap_right = 0}
				change \{star_clap_left_middle = 0}
				change \{star_clap_right_middle = 1}
				change \{star_clap_middle = 0}
				change \{star_clap_leftcenterright = 0}
			elseif ($star_clap_normal = 1)
				change \{star_clap_normal = 0}
				change \{star_clap_left = 0}
				change \{star_clap_right = 0}
				change \{star_clap_left_middle = 0}
				change \{star_clap_right_middle = 0}
				change \{star_clap_middle = 0}
				change \{star_clap_leftcenterright = 1}
			endif
		endif
	endif
	printf \{channel = sfx
		qs(0xeb2f6f8f)
		s = $star_clap_normal}
	printf \{channel = sfx
		qs(0xb9e8a7ea)
		s = $star_clap_left}
	printf \{channel = sfx
		qs(0x5be19574)
		s = $star_clap_right}
	printf \{channel = sfx
		qs(0x26a81163)
		s = $star_clap_left_middle}
	printf \{channel = sfx
		qs(0x8d27effe)
		s = $star_clap_right_middle}
	printf \{channel = sfx
		qs(0x8183fb93)
		s = $star_clap_middle}
	printf \{channel = sfx
		qs(0x57cc176e)
		s = $star_clap_leftcenterright}
	printf \{channel = sfx
		qs(0x4bf4c5ee)}
endscript

script star_clap_end \{player = 1}
	if NOT issingleplayergame
		getplayerinfo <player> highway_position
		if (<highway_position> = left)
			if (($star_clap_left_middle = 1))
				change \{star_clap_normal = 0}
				change \{star_clap_left = 0}
				change \{star_clap_right = 0}
				change \{star_clap_left_middle = 0}
				change \{star_clap_right_middle = 0}
				change \{star_clap_middle = 1}
				change \{star_clap_leftcenterright = 0}
			elseif ($star_clap_normal = 1)
				change \{star_clap_left_middle = 0}
				change \{star_clap_normal = 0}
				change \{star_clap_left = 0}
				change \{star_clap_right = 1}
				change \{star_clap_right_middle = 0}
				change \{star_clap_middle = 0}
				change \{star_clap_leftcenterright = 0}
			elseif ($star_clap_leftcenterright = 1)
				change \{star_clap_left_middle = 0}
				change \{star_clap_normal = 0}
				change \{star_clap_left = 0}
				change \{star_clap_right = 0}
				change \{star_clap_right_middle = 1}
				change \{star_clap_middle = 0}
				change \{star_clap_leftcenterright = 0}
			endif
		elseif (<highway_position> = right)
			if (($star_clap_right_middle = 1))
				change \{star_clap_normal = 0}
				change \{star_clap_left = 0}
				change \{star_clap_right = 0}
				change \{star_clap_left_middle = 0}
				change \{star_clap_right_middle = 0}
				change \{star_clap_middle = 1}
				change \{star_clap_leftcenterright = 0}
			elseif ($star_clap_normal = 1)
				change \{star_clap_right_middle = 0}
				change \{star_clap_left_middle = 0}
				change \{star_clap_normal = 0}
				change \{star_clap_left = 1}
				change \{star_clap_right = 0}
				change \{star_clap_middle = 0}
				change \{star_clap_leftcenterright = 0}
			elseif ($star_clap_leftcenterright = 1)
				change \{star_clap_left_middle = 1}
				change \{star_clap_normal = 0}
				change \{star_clap_left = 0}
				change \{star_clap_right = 0}
				change \{star_clap_right_middle = 0}
				change \{star_clap_middle = 0}
				change \{star_clap_leftcenterright = 0}
			endif
		else
			if ($star_clap_left_middle = 1)
				change \{star_clap_normal = 0}
				change \{star_clap_left = 1}
				change \{star_clap_right = 0}
				change \{star_clap_left_middle = 0}
				change \{star_clap_right_middle = 0}
				change \{star_clap_middle = 0}
				change \{star_clap_leftcenterright = 0}
			elseif ($star_clap_right_middle = 1)
				change \{star_clap_normal = 0}
				change \{star_clap_left = 0}
				change \{star_clap_right = 1}
				change \{star_clap_left_middle = 0}
				change \{star_clap_right_middle = 0}
				change \{star_clap_middle = 0}
				change \{star_clap_leftcenterright = 0}
			elseif ($star_clap_leftcenterright = 1)
				change \{star_clap_normal = 1}
				change \{star_clap_left = 0}
				change \{star_clap_right = 0}
				change \{star_clap_left_middle = 0}
				change \{star_clap_right_middle = 0}
				change \{star_clap_middle = 0}
				change \{star_clap_leftcenterright = 0}
			endif
		endif
	endif
endscript

script starttesttones_sine 
	soundbussunlock \{user_leadvox}
	setsoundbussparams \{user_leadvox = {
			vol = -100.0
		}}
	soundbusslock \{user_leadvox}
	soundbussunlock \{user_drums}
	setsoundbussparams \{user_drums = {
			vol = -100.0
		}}
	soundbusslock \{user_drums}
	soundbussunlock \{user_leadgtr}
	setsoundbussparams \{user_leadgtr = {
			vol = -100.0
		}}
	soundbusslock \{user_leadgtr}
	soundbussunlock \{user_bass}
	setsoundbussparams \{user_bass = {
			vol = -100.0
		}}
	soundbusslock \{user_bass}
	soundbussunlock \{user_rhythmgtr}
	setsoundbussparams \{user_rhythmgtr = {
			vol = -100.0
		}}
	soundbusslock \{user_rhythmgtr}
	soundbussunlock \{user_crowd}
	setsoundbussparams \{user_crowd = {
			vol = -100.0
		}}
	soundbusslock \{user_crowd}
	soundbussunlock \{user_sfx}
	setsoundbussparams \{user_sfx = {
			vol = -100.0
		}}
	soundbusslock \{user_sfx}
	soundbussunlock \{user_band}
	setsoundbussparams \{user_band = {
			vol = -100.0
		}}
	soundbusslock \{user_band}
	begin
	playsound \{testtone_sinewav_12db
		vol = -2
		pan1x = -1.0
		pan1y = 1.0
		buss = master}
	wait \{2
		seconds}
	playsound \{testtone_sinewav_12db
		vol = -2
		pan1x = 0.0
		pan1y = 1.0
		buss = master}
	wait \{2
		seconds}
	playsound \{testtone_sinewav_12db
		vol = -2
		pan1x = 1.0
		pan1y = 1.0
		buss = master}
	wait \{2
		seconds}
	playsound \{testtone_sinewav_12db
		vol = -2
		pan1x = 1.0
		pan1y = -1.0
		buss = master}
	wait \{2
		seconds}
	playsound \{testtone_sinewav_12db
		vol = -2
		pan1x = -1.0
		pan1y = -1.0
		buss = master}
	wait \{2
		seconds}
	playsound \{testtone_sinewav_12db
		vol = -2
		lfeonly = true
		lfe_vol = 0
		buss = master}
	wait \{2
		seconds}
	repeat
endscript

script starttesttones_pink 
	soundbussunlock \{user_leadvox}
	setsoundbussparams \{user_leadvox = {
			vol = -100.0
		}}
	soundbusslock \{user_leadvox}
	soundbussunlock \{user_drums}
	setsoundbussparams \{user_drums = {
			vol = -100.0
		}}
	soundbusslock \{user_drums}
	soundbussunlock \{user_leadgtr}
	setsoundbussparams \{user_leadgtr = {
			vol = -100.0
		}}
	soundbusslock \{user_leadgtr}
	soundbussunlock \{user_bass}
	setsoundbussparams \{user_bass = {
			vol = -100.0
		}}
	soundbusslock \{user_bass}
	soundbussunlock \{user_rhythmgtr}
	setsoundbussparams \{user_rhythmgtr = {
			vol = -100.0
		}}
	soundbusslock \{user_rhythmgtr}
	soundbussunlock \{user_crowd}
	setsoundbussparams \{user_crowd = {
			vol = -100.0
		}}
	soundbusslock \{user_crowd}
	soundbussunlock \{user_sfx}
	setsoundbussparams \{user_sfx = {
			vol = -100.0
		}}
	soundbusslock \{user_sfx}
	soundbussunlock \{user_band}
	setsoundbussparams \{user_band = {
			vol = -100.0
		}}
	soundbusslock \{user_band}
	begin
	playsound \{testtone_pinknoise_12db
		vol = -2
		pan1x = -1.0
		pan1y = 1.0
		buss = master}
	wait \{2
		seconds}
	playsound \{testtone_pinknoise_12db
		vol = -2
		pan1x = 0.0
		pan1y = 1.0
		buss = master}
	wait \{2
		seconds}
	playsound \{testtone_pinknoise_12db
		vol = -2
		pan1x = 1.0
		pan1y = 1.0
		buss = master}
	wait \{2
		seconds}
	playsound \{testtone_pinknoise_12db
		vol = -2
		pan1x = 1.0
		pan1y = -1.0
		buss = master}
	wait \{2
		seconds}
	playsound \{testtone_pinknoise_12db
		vol = -2
		pan1x = -1.0
		pan1y = -1.0
		buss = master}
	wait \{2
		seconds}
	playsound \{testtone_pinknoise_12db
		vol = -2
		lfeonly = true
		lfe_vol = 0
		buss = master}
	wait \{2
		seconds}
	repeat
endscript

script stoptesttones 
	if issoundeventplaying \{starttesttones_pink}
		stopsoundevent \{starttesttones_pink}
	endif
	if issoundeventplaying \{starttesttones_sine}
		stopsoundevent \{starttesttones_sine}
	endif
	setsoundbussparams \{user_leadvox = {
			vol = 0.0
		}}
	soundbussunlock \{user_drums}
	setsoundbussparams \{user_drums = {
			vol = 0.0
		}}
	soundbusslock \{user_drums}
	setsoundbussparams \{user_leadgtr = {
			vol = 0.0
		}}
	soundbussunlock \{user_bass}
	setsoundbussparams \{user_bass = {
			vol = 0.0
		}}
	soundbusslock \{user_bass}
	setsoundbussparams \{user_rhythmgtr = {
			vol = 0.0
		}}
	soundbussunlock \{user_crowd}
	setsoundbussparams \{user_crowd = {
			vol = 0.0
		}}
	soundbusslock \{user_crowd}
	soundbussunlock \{user_sfx}
	setsoundbussparams \{user_sfx = {
			vol = 0.0
		}}
	soundbusslock \{user_sfx}
	soundbussunlock \{user_band}
	setsoundbussparams \{user_band = {
			vol = 0.0
		}}
	soundbusslock \{user_band}
endscript

script jam_mode_metronome 
	if gotparam \{downbeat}
		if (<downbeat> = 1)
			playsound stickclickmed vol = RandomFloat (12.5, 13.0)
		endif
	else
		playsound stickclickmed vol = RandomFloat (7.5, 8.0)
	endif
endscript

script menu_music_se 
	getarraysize \{$menu_music_songs}
	begin
	getrandomvalue name = index integer a = 0 b = (<array_size> -1)
	if NOT (<index> = $menu_music_last_song_index)
		if NOT (<index> = $menu_music_last_last_song_index)
			if NOT (<index> = $menu_music_last_last_last_song_index)
				if NOT (<index> = $menu_music_last_last_last_last_song_index)
					change \{menu_music_last_last_last_last_song_index = $menu_music_last_song_index}
					change \{menu_music_last_last_last_song_index = $menu_music_last_song_index}
					change \{menu_music_last_last_song_index = $menu_music_last_song_index}
					change menu_music_last_song_index = <index>
					break
				endif
			endif
		endif
	endif
	repeat
	stream = ($menu_music_songs [<index>].stream)
	array = ($menu_music_songs [<index>].array)
	delay = ($menu_music_songs [<index>].delay)
	offset = ($menu_music_songs [<index>].offset)
	vol = ($menu_music_songs [<index>].vol)
	spawnscriptnow menu_music_se_spawned params = {stream = <stream> array = <array> delay = <delay> vol = <vol> offset = <offset>}
endscript
menu_music_stream = blah
menu_music_preloading = 0
menu_music_last_song_index = -1
menu_music_last_last_song_index = -1
menu_music_last_last_last_song_index = -1
menu_music_last_last_last_last_song_index = -1
menu_music_songs = [
	{
		stream = menumusic_woman
		array = woman_menumusic_fretbars
		delay = 10
		vol = -50
		offset = 0
	}
	{
		stream = 0x53117592
		array = woman_menumusic_fretbars
		delay = 10
		vol = -50
		offset = 0
	}
	{
		stream = 0x24164504
		array = woman_menumusic_fretbars
		delay = 10
		vol = -50
		offset = 0
	}
]

script menu_music_se_spawned 
	setspawninstancelimits \{max = 1
		management = kill_oldest}
	change \{menu_music_preloading = 1}
	change menu_music_stream = <stream>
	preloadstream <stream>
	begin
	if preloadstreamdone <unique_id>
		break
	endif
	wait \{1
		gameframe}
	repeat
	startpreloadedstream <unique_id> buss = music_frontend forcesafepreload = 1 vol = -5 pitch = 100
	change \{menu_music_preloading = 0}
	change current_menu_song = <stream>
	if globalexists name = <array> type = array
		if (<delay> > 0.0)
			wait <delay> seconds
		endif
		getarraysize $<array>
		index = 0
		getstarttime
		<starttime> = (<starttime> + <offset>)
		pulse = 1
		begin
		begin
		getelapsedtime starttime = <starttime>
		if (<elapsedtime> >= $<array> [<index>])
			break
		endif
		wait \{1
			gameframe}
		repeat
		formattext checksumname = event 'frontend_speaker_pulse%d' d = <pulse>
		broadcastevent type = <event>
		<pulse> = (3 - <pulse>)
		<index> = (<index> + 1)
		repeat <array_size>
	endif
endscript

script killmenumusic 
	killspawnedscript \{name = menu_music_se_spawned}
	change \{menu_music_preloading = 0}
	stopsound \{$menu_music_stream}
endscript

script crowd_anticipation 
	if ($current_crowd >= 1.3399999)
		if issoundplaying \{$current_crowd_anticipation}
			if ($crowd_anticipation_flag = 0)
				stopsound \{$current_crowd_anticipation
					fade_time = 3
					fade_type = log_slow}
				spawnscriptnow \{crowd_anticipation_flag_logic}
			endif
		endif
	elseif ($current_crowd >= 1.3)
		if issoundplaying \{$current_crowd_anticipation}
			if ($crowd_anticipation_flag = 0)
				setsoundparams \{$current_crowd_anticipation
					vol = 3
					pitch = 0.3
					time = 0.5}
			endif
		else
			playsound \{$current_crowd_anticipation
				vol = -3
				pan1x = 0
				pan1y = 0.59
				panremovecenter = true
				priority = 100
				buss = crowd_beds
				attack_time = 3
				attack_function = log_fast
				num_loops = -1}
		endif
	elseif ($current_crowd >= 1.2700001)
		if issoundplaying \{$current_crowd_anticipation}
			if ($crowd_anticipation_flag = 0)
				setsoundparams \{$current_crowd_anticipation
					vol = 1
					pitch = 0.2
					time = 0.5}
			endif
		else
			playsound \{$current_crowd_anticipation
				vol = -3
				pan1x = 0
				pan1y = 0.59
				panremovecenter = true
				priority = 100
				buss = crowd_beds
				attack_time = 3
				attack_function = log_fast
				num_loops = -1}
		endif
	elseif ($current_crowd >= 1.25)
		if issoundplaying \{$current_crowd_anticipation}
			if ($crowd_anticipation_flag = 0)
				setsoundparams \{$current_crowd_anticipation
					vol = -1
					pitch = 0.1
					time = 0.5}
			endif
		else
			playsound \{$current_crowd_anticipation
				vol = -3
				pan1x = 0
				pan1y = 0.59
				panremovecenter = true
				priority = 100
				buss = crowd_beds
				attack_time = 3
				attack_function = log_fast
				num_loops = -1}
		endif
	elseif ($current_crowd >= 1.2)
		if NOT issoundplaying \{$current_crowd_anticipation}
			if ($crowd_anticipation_flag = 0)
				playsound \{$current_crowd_anticipation
					vol = -3
					pan1x = 0
					pan1y = 0.59
					panremovecenter = true
					priority = 100
					buss = crowd_beds
					attack_time = 3
					attack_function = log_fast
					num_loops = -1}
			endif
		else
			setsoundparams \{$current_crowd_anticipation
				vol = -3
				time = 0.5}
		endif
	else
		if issoundplaying \{$current_crowd_anticipation}
			if ($crowd_anticipation_flag = 0)
				stopsound \{$current_crowd_anticipation
					fade_time = 3
					fade_type = log_slow}
				spawnscriptnow \{crowd_anticipation_flag_logic}
			endif
		endif
	endif
endscript

script crowd_anticipation_flag_logic 
	change \{crowd_anticipation_flag = 1}
	wait \{3
		seconds}
	change \{crowd_anticipation_flag = 0}
endscript

script oneshotsbetweensongs 
	begin
	soundevent \{event = $current_crowd_whistle_soundevent}
	wait (RandomFloat (0.1, 1.2)) seconds
	repeat
endscript

script surgebetweensongs 
	begin
	soundevent \{event = $current_crowd_oneshot_positive_soundevent}
	wait (RandomFloat (0.3, 1.2)) seconds
	repeat
endscript

script killsurgingscripts 
	wait \{2
		seconds}
	killspawnedscript \{name = oneshotsbetweensongs}
	killspawnedscript \{name = surgebetweensongs}
endscript

script surge_after_explosion 
	wait \{2
		seconds}
	soundevent \{event = $current_crowd_swell_med_soundevent_l}
	soundevent \{event = $current_crowd_swell_med_soundevent_r}
endscript

script cheer_before_explosion 
	wait \{1
		second}
	soundevent \{event = $current_crowd_swell_short_soundevent_l}
	soundevent \{event = $current_crowd_swell_short_soundevent_r}
endscript

script colorwheel_increment_up_down 
	printstruct <...>
	if gotparam \{current_ring}
		switch <current_ring>
			case 1
			soundevent \{event = colorwheel_highlight_1}
			case 2
			soundevent \{event = colorwheel_highlight_2}
			case 3
			soundevent \{event = colorwheel_highlight_3}
			case 4
			soundevent \{event = colorwheel_highlight_4}
			case 5
			soundevent \{event = colorwheel_highlight_5}
		endswitch
	endif
endscript

script loading_screen_crowd_swell 
	setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol) + 12)} time = 6}
	playsound \{ext_md_crowd_swell_md_l_02
		buss = crowd_one_shots
		pan1x = -1
		pan1y = 1
		vol = -12}
	playsound \{ext_md_crowd_swell_md_r_02
		buss = crowd_one_shots
		pan1x = 1
		pan1y = 1
		vol = -12}
	playsound \{ext_md_crowd_swell_lg_l_02
		buss = crowd_one_shots
		pan1x = -1
		pan1y = 1
		vol = -10}
	playsound \{ext_md_crowd_swell_lg_r_02
		buss = crowd_one_shots
		pan1x = 1
		pan1y = 1
		vol = -10}
	wait \{60
		gameframes}
	playsound \{ext_md_crowd_swell_sh_l_01
		buss = crowd_one_shots
		pan1x = -1
		pan1y = 1
		vol = -8}
	playsound \{ext_md_crowd_swell_sh_r_01
		buss = crowd_one_shots
		pan1x = 1
		pan1y = 1
		vol = -8}
	wait \{30
		gameframes}
	playsound \{ext_md_crowd_swell_lg_l_02
		buss = crowd_one_shots
		pan1x = -1
		pan1y = 1
		vol = -6}
	playsound \{ext_md_crowd_swell_lg_r_02
		buss = crowd_one_shots
		pan1x = 1
		pan1y = 1
		vol = -6}
	wait \{30
		gameframes}
	playsound \{ext_md_crowd_swell_md_l_02
		buss = crowd_one_shots
		pan1x = -1
		pan1y = 1
		vol = -4}
	playsound \{ext_md_crowd_swell_md_r_02
		buss = crowd_one_shots
		pan1x = 1
		pan1y = 1
		vol = -4}
	wait \{60
		gameframes}
	playsound \{ext_md_crowd_swell_sh_l_01
		buss = crowd_one_shots
		pan1x = -1
		pan1y = 1
		vol = -3}
	playsound \{ext_md_crowd_swell_sh_r_01
		buss = crowd_one_shots
		pan1x = 1
		pan1y = 1
		vol = -3}
	wait \{30
		gameframes}
	playsound \{ext_md_crowd_swell_md_l_02
		buss = crowd_one_shots
		pan1x = -1
		pan1y = 1
		vol = -3}
	playsound \{ext_md_crowd_swell_md_r_02
		buss = crowd_one_shots
		pan1x = 1
		pan1y = 1
		vol = -3}
	playsound \{ext_md_crowd_swell_lg_l_02
		buss = crowd_one_shots
		pan1x = -1
		pan1y = 1
		vol = -3}
	playsound \{ext_md_crowd_swell_lg_r_02
		buss = crowd_one_shots
		pan1x = 1
		pan1y = 1
		vol = -3}
	wait \{60
		gameframes}
	spawnscriptnow \{crowd_loading_whistle}
	playsound \{ext_md_crowd_swell_lg_l_02
		buss = crowd_one_shots
		pan1x = -1
		pan1y = 1
		vol = -3}
	playsound \{ext_md_crowd_swell_lg_r_02
		buss = crowd_one_shots
		pan1x = 1
		pan1y = 1
		vol = -3}
	wait \{30
		gameframes}
	playsound \{ext_md_crowd_swell_md_l_02
		buss = crowd_one_shots
		pan1x = -1
		pan1y = 1
		vol = -3}
	playsound \{ext_md_crowd_swell_md_r_02
		buss = crowd_one_shots
		pan1x = 1
		pan1y = 1
		vol = -3}
	wait \{30
		gameframes}
	playsound \{ext_md_crowd_swell_sh_l_01
		buss = crowd_one_shots
		pan1x = -1
		pan1y = 1
		vol = -3}
	playsound \{ext_md_crowd_swell_sh_r_01
		buss = crowd_one_shots
		pan1x = 1
		pan1y = 1
		vol = -3}
	wait \{30
		gameframes}
	begin
	playsound \{ext_md_crowd_swell_md_l_02
		buss = crowd_one_shots
		pan1x = -1
		pan1y = 1
		vol = -3}
	playsound \{ext_md_crowd_swell_md_r_02
		buss = crowd_one_shots
		pan1x = 1
		pan1y = 1
		vol = -3}
	playsound \{ext_md_crowd_swell_lg_l_02
		buss = crowd_one_shots
		pan1x = -1
		pan1y = 1
		vol = -3}
	playsound \{ext_md_crowd_swell_lg_r_02
		buss = crowd_one_shots
		pan1x = 1
		pan1y = 1
		vol = -3}
	wait \{60
		gameframes}
	playsound \{ext_md_crowd_swell_sh_l_01
		buss = crowd_one_shots
		pan1x = -1
		pan1y = 1
		vol = -3}
	playsound \{ext_md_crowd_swell_sh_r_01
		buss = crowd_one_shots
		pan1x = 1
		pan1y = 1
		vol = -3}
	wait \{30
		gameframes}
	playsound \{ext_md_crowd_swell_lg_l_02
		buss = crowd_one_shots
		pan1x = -1
		pan1y = 1
		vol = -3}
	playsound \{ext_md_crowd_swell_lg_r_02
		buss = crowd_one_shots
		pan1x = 1
		pan1y = 1
		vol = -3}
	wait \{30
		gameframes}
	repeat
endscript

script killsurgingscripts_faster 
	killspawnedscript \{name = oneshotsbetweensongs}
	killspawnedscript \{name = surgebetweensongs}
endscript

script crowd_loading_whistle 
	i = -6.0
	begin
	RandomNoRepeat (
		@ playsound ext_md_crowd_whistle_1 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_2 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_3 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_4 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_5 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_6 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_7 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_8 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_9 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_10 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_11 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_12 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_13 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_14 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_15 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_16 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_17 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_18 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_19 vol = <i> buss = crowd_one_shots
		@ playsound ext_md_crowd_whistle_19 vol = <i> buss = crowd_one_shots
		)
	wait \{4
		seconds}
	i = (<i> + 0.5)
	if (<i> > 0)
		i = 0
	endif
	repeat
endscript

script large_outside_intro 
	wait \{1
		second}
	soundevent \{event = $current_crowd_swell_med_soundevent_l}
	soundevent \{event = $current_crowd_swell_med_soundevent_r}
	wait \{2
		second}
	soundevent \{event = $current_crowd_swell_short_soundevent_l}
	soundevent \{event = $current_crowd_swell_short_soundevent_r}
	wait \{1
		second}
	soundevent \{event = $current_crowd_swell_long_soundevent_l}
	soundevent \{event = $current_crowd_swell_long_soundevent_r}
	wait \{1
		second}
	killsurgingscripts
endscript

script metalfest_intro 
	wait \{1
		second}
	soundevent \{event = $current_crowd_swell_med_soundevent_l}
	soundevent \{event = $current_crowd_swell_med_soundevent_r}
	wait \{1
		second}
	soundevent \{event = $current_crowd_swell_short_soundevent_l}
	soundevent \{event = $current_crowd_swell_short_soundevent_r}
	wait \{1
		second}
	soundevent \{event = $current_crowd_swell_long_soundevent_l}
	soundevent \{event = $current_crowd_swell_long_soundevent_r}
	wait \{1
		second}
	killsurgingscripts
endscript

script canyon_intro 
	wait \{1
		second}
	soundevent \{event = $current_crowd_swell_med_soundevent_l}
	soundevent \{event = $current_crowd_swell_med_soundevent_r}
	wait \{1
		second}
	killsurgingscripts
endscript

script london_intro 
	soundevent \{event = $current_crowd_swell_med_soundevent_l}
	soundevent \{event = $current_crowd_swell_med_soundevent_r}
	wait \{1.5
		second}
	soundevent \{event = $current_crowd_swell_short_soundevent_l}
	soundevent \{event = $current_crowd_swell_short_soundevent_r}
	wait \{1.5
		second}
	soundevent \{event = $current_crowd_swell_med_soundevent_l}
	soundevent \{event = $current_crowd_swell_med_soundevent_r}
	wait \{1.5
		second}
	soundevent \{event = $current_crowd_swell_short_soundevent_l}
	soundevent \{event = $current_crowd_swell_short_soundevent_r}
	wait \{1
		second}
	soundevent \{event = $current_crowd_swell_long_soundevent_l}
	soundevent \{event = $current_crowd_swell_long_soundevent_r}
	wait \{1
		second}
	killsurgingscripts
endscript

script small_intro 
	soundevent \{event = $current_crowd_swell_med_soundevent_l}
	soundevent \{event = $current_crowd_swell_med_soundevent_r}
	wait \{1
		second}
	soundevent \{event = $current_crowd_swell_short_soundevent_l}
	soundevent \{event = $current_crowd_swell_short_soundevent_r}
	soundevent \{event = $current_crowd_swell_long_soundevent_l}
	soundevent \{event = $current_crowd_swell_long_soundevent_r}
	wait \{1
		second}
	killsurgingscripts
endscript

script med_inside_intro 
	wait \{1
		seconds}
	soundevent \{event = $current_crowd_swell_med_soundevent_l}
	soundevent \{event = $current_crowd_swell_med_soundevent_r}
	wait \{1.5
		seconds}
	soundevent \{event = $current_crowd_swell_short_soundevent_l}
	soundevent \{event = $current_crowd_swell_short_soundevent_r}
	wait \{0.5
		seconds}
	soundevent \{event = $current_crowd_swell_long_soundevent_l}
	soundevent \{event = $current_crowd_swell_long_soundevent_r}
	wait \{2
		seconds}
	killsurgingscripts
endscript

script ghtunes_ui_scroll_pan 
	sfx_pan = (<sfx_pan> * 0.1)
	playsound ghtunes_menu_scroll vol = -2 pitch = 4 pan1x = <sfx_pan> pan1y = 1.0
endscript

script nullsound 
endscript

script ghmix_scroll 
	if gotparam \{adv_record}
		soundevent \{event = ghtunes_ui_scroll}
	else
		if gotparam \{up}
			generic_menu_up_or_down_sound \{up}
		else
			generic_menu_up_or_down_sound \{down}
		endif
	endif
endscript

script ghtunes_scroll 
	soundevent \{event = ghtunes_ui_scroll}
endscript

script play_win_lose_anim_sound \{skip = 0}
	obj_getid
	i = 1
	begin
	formattext checksumname = player_status 'player%a_status' a = <i>
	if (($<player_status>.band_member) = <objid>)
		part = ($<player_status>.part)
		skip = 1
		break
	endif
	i = (<i> + 1)
	repeat 5
	if NOT (<skip> = 1)
		switch <objid>
			case guitarist
			part = guitar
			case bassist
			part = bass
			case vocalist
			part = vocals
			case drummer
			part = drum
			default
			part = guitar
		endswitch
	endif
	song = ($current_song)
	if (<song> = bosszakk || <song> = bossted || <song> = dlc1 || <song> = dlc2)
		part = guitar
	endif
	if ($game_mode = p1_career)
		if (<song> = stillborn || <song> = stranglehold)
			part = guitar
		endif
	endif
	part = <part>
	printf channel = sfx qs(0xafa59a93) s = <part>
	getpakmancurrent \{map = zones}
	if NOT (<pak> = z_tool)
		if gotparam \{event}
			switch <event>
				case mic_feedback
				soundevent \{event = mic_feedback}
				case mic_grab
				soundevent \{event = mic_grab}
				case mic_hit
				soundevent \{event = mic_hit}
				case drummer_sticks_throw
				soundevent \{event = drummer_sticks_throw}
				case large_smash
				if gotparam \{part}
					switch <part>
						case bass
						soundevent \{event = large_bass_smash}
						case guitar
						soundevent \{event = large_guitar_smash}
						default
						printf \{channel = sfx
							qs(0x02f51c1f)}
					endswitch
				endif
				case medium_smash
				if gotparam \{part}
					switch <part>
						case bass
						soundevent \{event = medium_bass_smash}
						case guitar
						soundevent \{event = medium_guitar_smash}
						default
						printf \{channel = sfx
							qs(0x02f51c1f)}
					endswitch
				endif
				case small_smash
				if gotparam \{part}
					switch <part>
						case bass
						soundevent \{event = small_bass_smash}
						case guitar
						soundevent \{event = small_guitar_smash}
						default
						printf \{channel = sfx
							qs(0x02f51c1f)}
					endswitch
				endif
				case drummer_tom_hit
				soundevent \{event = drummer_tom_hit}
				case drummer_snare_hit
				soundevent \{event = drummer_snare_hit}
				default
				printf \{channel = sfx
					qs(0xc0f17fb8)}
			endswitch
		endif
	endif
endscript

script stopplay_win_lose_anim_sound 
	if gotparam \{medium_smash}
		stopsoundevent \{medium_guitar_smash
			fade_time = 1.0
			fade_type = linear}
		stopsoundevent \{medium_bass_smash
			fade_time = 1.0
			fade_type = linear}
	endif
	if gotparam \{large_smash}
		stopsoundevent \{large_bass_smash
			fade_time = 1.0
			fade_type = linear}
		stopsoundevent \{large_guitar_smash
			fade_time = 1.0
			fade_type = linear}
	endif
	if gotparam \{small_smash}
		stopsoundevent \{small_bass_smash
			fade_time = 1.0
			fade_type = linear}
		stopsoundevent \{small_guitar_smash
			fade_time = 1.0
			fade_type = linear}
	endif
endscript

script boss_battle_whoosh_sound 
	soundevent \{event = battle_boss_flyin}
	wait \{0.03
		seconds}
	soundevent \{event = battle_boss_whoosh2}
endscript

script crowd_sustain_boss_battle 
	soundevent \{event = $current_crowd_applause_soundevent_l}
	soundevent \{event = $current_crowd_applause_soundevent_r}
	soundevent \{event = $current_crowd_swell_short_soundevent_l}
	soundevent \{event = $current_crowd_swell_short_soundevent_r}
	soundevent \{event = $current_crowd_swell_med_soundevent_l}
	soundevent \{event = $current_crowd_swell_med_soundevent_r}
endscript

script you_rock_sfx_end 
	wait \{0.2
		seconds}
	soundevent \{event = you_rock_end_sfx}
endscript

script menu_guitar_lick_sfx 
	RandomNoRepeat (
		@ playsound \{menu_intro_lick_01
			vol = -5}
		spawnscriptnow \{menu_music_on
			params = {
				waitforguitarlick = 1
				guitarwaittime = 4.0
			}}
		@ playsound \{menu_intro_lick_02
			vol = -5}
		spawnscriptnow \{menu_music_on
			params = {
				waitforguitarlick = 1
				guitarwaittime = 4.2
			}}
		@ playsound \{menu_intro_lick_03
			vol = -5}
		spawnscriptnow \{menu_music_on
			params = {
				waitforguitarlick = 1
				guitarwaittime = 3.4
			}}
		@ playsound \{menu_intro_lick_04
			vol = -5}
		spawnscriptnow \{menu_music_on
			params = {
				waitforguitarlick = 1
				guitarwaittime = 3.9
			}}
		@ playsound \{menu_intro_lick_05
			vol = -5}
		spawnscriptnow \{menu_music_on
			params = {
				waitforguitarlick = 1
				guitarwaittime = 3.6
			}}
		@ playsound \{menu_intro_lick_06
			vol = -5}
		spawnscriptnow \{menu_music_on
			params = {
				waitforguitarlick = 1
				guitarwaittime = 3.3
			}}
		@ playsound \{menu_intro_lick_07
			vol = -5}
		spawnscriptnow \{menu_music_on
			params = {
				waitforguitarlick = 1
				guitarwaittime = 4.6
			}}
		)
endscript

script calculate_clapping_lag 
	getglobaltags \{user_options
		params = lag_calibration}
	if (<lag_calibration> = 0.0)
		<lag_calibration> = 1000
	endif
	audio_lag = ((<lag_calibration> / 1000) - 1)
	casttointeger \{audio_lag}
	mod a = <lag_calibration> b = 1000
	video_lag = <mod>
	user_lag = (<video_lag> - <audio_lag>)
	if isps3
		<waittime> = (<user_lag> + 240)
	else
		<waittime> = (<user_lag> + 150)
	endif
	change clapping_lag = <waittime>
endscript

script clapping_logic 
	get_song_tempo_cfunc
	waittime = $clapping_lag
	begin
	if (<waittime> > 0)
		break
	endif
	<waittime> = (<waittime> + <beat_duration>)
	repeat
	<waittime> = (<waittime> / 1000.0)
	wait <waittime> seconds
	if ($halftime_clapping = 1)
		if ((<beat> = 1) || (<beat> = 3))
			if (($player1_status.star_power_used = 1) || ($player2_status.star_power_used = 1) || ($player3_status.star_power_used = 1) || ($player4_status.star_power_used = 1))
				if ($clap_fade = 1)
					printf \{channel = sfx
						qs(0x784a1ce5)}
					change \{clap_fade = 0}
					spawnscriptnow \{clap_fade_kill}
				endif
				if ($game_mode != tutorial)
					if (($star_clap_normal = 1) || ($star_clap_leftcenterright = 1))
						printf \{qs(0xfe00cc6d)}
						soundevent \{event = $current_crowd_clap_normal_soundevent}
					elseif ($star_clap_middle = 1)
						printf \{qs(0x3af3642a)}
						soundevent \{event = $current_crowd_clap_middle_soundevent}
					elseif ($star_clap_left = 1)
						printf \{qs(0x4ac89455)}
						soundevent \{event = $current_crowd_clap_left_soundevent}
					elseif ($star_clap_right = 1)
						printf \{qs(0x8bfb9430)}
						soundevent \{event = $current_crowd_clap_right_soundevent}
					elseif ($star_clap_right_middle = 1)
						printf \{qs(0xbc1479cf)}
						soundevent \{event = $current_crowd_clap_right_middle_soundevent}
					elseif ($star_clap_left_middle = 1)
						printf \{qs(0x492c71b5)}
						soundevent \{event = $current_crowd_clap_left_middle_soundevent}
					endif
				endif
			elseif ($clap_fade = 1)
				printf \{channel = sfx
					qs(0xe4391755)}
				if ($star_clap_normal = 1)
					printf \{qs(0xfe00cc6d)}
					soundevent \{event = $current_crowd_clap_normal_soundevent}
				elseif ($star_clap_middle = 1)
					printf \{qs(0x3af3642a)}
					soundevent \{event = $current_crowd_clap_middle_soundevent}
				elseif ($star_clap_left = 1)
					printf \{qs(0x4ac89455)}
					soundevent \{event = $current_crowd_clap_left_soundevent}
				elseif ($star_clap_right = 1)
					printf \{qs(0xc4a697e0)}
					soundevent \{event = $current_crowd_clap_right_soundevent}
				elseif ($star_clap_right_middle = 1)
					printf \{qs(0xbc1479cf)}
					soundevent \{event = $current_crowd_clap_right_middle_soundevent}
				elseif ($star_clap_left_middle = 1)
					printf \{qs(0x492c71b5)}
					soundevent \{event = $current_crowd_clap_left_middle_soundevent}
				endif
			else
				if ($crowdlistenerstateclapon1234 = 1)
					if ($star_clap_normal = 1)
						printf \{qs(0xfe00cc6d)}
						soundevent \{event = $current_crowd_clap_normal_soundevent}
					elseif ($star_clap_middle = 1)
						printf \{qs(0x3af3642a)}
						soundevent \{event = $current_crowd_clap_middle_soundevent}
					elseif ($star_clap_left = 1)
						printf \{qs(0x4ac89455)}
						soundevent \{event = $current_crowd_clap_left_soundevent}
					elseif ($star_clap_right = 1)
						printf \{qs(0xc4a697e0)}
						soundevent \{event = $current_crowd_clap_right_soundevent}
					elseif ($star_clap_right_middle = 1)
						printf \{qs(0xbc1479cf)}
						soundevent \{event = $current_crowd_clap_right_middle_soundevent}
					elseif ($star_clap_left_middle = 1)
						printf \{qs(0x492c71b5)}
						soundevent \{event = $current_crowd_clap_left_middle_soundevent}
					endif
				endif
			endif
		endif
	else
		if (($player1_status.star_power_used = 1) || ($player2_status.star_power_used = 1) || ($player3_status.star_power_used = 1) || ($player4_status.star_power_used = 1))
			if ($clap_fade = 1)
				printf \{channel = sfx
					qs(0x784a1ce5)}
				change \{clap_fade = 0}
				spawnscriptnow \{clap_fade_kill}
			endif
			if ($game_mode != tutorial)
				if (($star_clap_normal = 1) || ($star_clap_leftcenterright = 1))
					printf \{qs(0xfe00cc6d)}
					soundevent \{event = $current_crowd_clap_normal_soundevent}
				elseif ($star_clap_middle = 1)
					printf \{qs(0x3af3642a)}
					soundevent \{event = $current_crowd_clap_middle_soundevent}
				elseif ($star_clap_left = 1)
					printf \{qs(0x4ac89455)}
					soundevent \{event = $current_crowd_clap_left_soundevent}
				elseif ($star_clap_right = 1)
					printf \{qs(0x8bfb9430)}
					soundevent \{event = $current_crowd_clap_right_soundevent}
				elseif ($star_clap_right_middle = 1)
					printf \{qs(0xbc1479cf)}
					soundevent \{event = $current_crowd_clap_right_middle_soundevent}
				elseif ($star_clap_left_middle = 1)
					printf \{qs(0x492c71b5)}
					soundevent \{event = $current_crowd_clap_left_middle_soundevent}
				endif
			endif
		elseif ($clap_fade = 1)
			printf \{channel = sfx
				qs(0xe4391755)}
			if ($star_clap_normal = 1)
				printf \{qs(0xfe00cc6d)}
				soundevent \{event = $current_crowd_clap_normal_soundevent}
			elseif ($star_clap_middle = 1)
				printf \{qs(0x3af3642a)}
				soundevent \{event = $current_crowd_clap_middle_soundevent}
			elseif ($star_clap_left = 1)
				printf \{qs(0x4ac89455)}
				soundevent \{event = $current_crowd_clap_left_soundevent}
			elseif ($star_clap_right = 1)
				printf \{qs(0xc4a697e0)}
				soundevent \{event = $current_crowd_clap_right_soundevent}
			elseif ($star_clap_right_middle = 1)
				printf \{qs(0xbc1479cf)}
				soundevent \{event = $current_crowd_clap_right_middle_soundevent}
			elseif ($star_clap_left_middle = 1)
				printf \{qs(0x492c71b5)}
				soundevent \{event = $current_crowd_clap_left_middle_soundevent}
			endif
		else
			if ($crowdlistenerstateclapon1234 = 1)
				if ($star_clap_normal = 1)
					printf \{qs(0xfe00cc6d)}
					soundevent \{event = $current_crowd_clap_normal_soundevent}
				elseif ($star_clap_middle = 1)
					printf \{qs(0x3af3642a)}
					soundevent \{event = $current_crowd_clap_middle_soundevent}
				elseif ($star_clap_left = 1)
					printf \{qs(0x4ac89455)}
					soundevent \{event = $current_crowd_clap_left_soundevent}
				elseif ($star_clap_right = 1)
					printf \{qs(0xc4a697e0)}
					soundevent \{event = $current_crowd_clap_right_soundevent}
				elseif ($star_clap_right_middle = 1)
					printf \{qs(0xbc1479cf)}
					soundevent \{event = $current_crowd_clap_right_middle_soundevent}
				elseif ($star_clap_left_middle = 1)
					printf \{qs(0x492c71b5)}
					soundevent \{event = $current_crowd_clap_left_middle_soundevent}
				endif
			endif
		endif
	endif
endscript

script practicedrums_fadein 
	setsoundbussparams {drums_ingame = {vol = (($default_bussset.drums_ingame.vol) - 100)}}
	wait \{5
		seconds}
	if playerinfoequals \{1
			part = drum}
		printf \{channel = sfx
			qs(0x208a6561)}
		setsoundbussparams {drums_ingame = {vol = (($default_bussset.drums_ingame.vol) - 2)} time = 2}
	else
		printf \{channel = sfx
			qs(0x5ceb40ba)}
		setsoundbussparams {drums_ingame = {vol = (($default_bussset.drums_ingame.vol) -5.5)} time = 2}
	endif
endscript

script ghm_adjustcrowdintrosurge 
	setsoundbussparams {crowd_beds = {vol = (($default_bussset.crowd_beds.vol) + 8)} time = 1.0}
	soundevent \{event = $current_crowd_transition_neutral_to_good}
	play_a_med_crowd_swell_for_this_venue
	play_a_short_crowd_swell_for_this_venue
	wait \{1
		seconds}
	gh3_adjustcrowdloopbacktodefault \{time = 2
		normal = 1}
endscript

script no_dolby_digital_sounds 
	if issoundeventplaying \{dolby_off}
		stopsoundevent \{dolby_off
			fade_time = 0.7
			fade_type = linear}
	endif
	if issoundplaying \{menu_dolbydigitalenable_surround_c}
		stopsound \{menu_dolbydigitalenable_surround_c
			fade_time = 1
			fade_type = linear}
	endif
	if issoundplaying \{menu_dolbydigitalenable_surround_r}
		stopsound \{menu_dolbydigitalenable_surround_r
			fade_time = 1
			fade_type = linear}
	endif
	if issoundplaying \{menu_dolbydigitalenable_surround_ls}
		stopsound \{menu_dolbydigitalenable_surround_ls
			fade_time = 1
			fade_type = linear}
	endif
	if issoundplaying \{menu_dolbydigitalenable_surround_rs}
		stopsound \{menu_dolbydigitalenable_surround_rs
			fade_time = 1
			fade_type = linear}
	endif
	if issoundplaying \{menu_dolbydigitalenable_surround_lf}
		stopsound \{menu_dolbydigitalenable_surround_lf
			fade_time = 1
			fade_type = linear}
	endif
	if issoundplaying \{menu_dolbydigitalenable_surround_l}
		stopsound \{menu_dolbydigitalenable_surround_l
			fade_time = 1
			fade_type = linear}
	endif
endscript

script turnpreviewsdown_venuemenu 
	wait \{0.5
		seconds}
	spawnscriptnow \{destroy_setlist_songpreview_monitor}
	setsoundbussparams {music_setlist = {vol = (($default_bussset.music_setlist.vol) - 100)} time = 0.5}
endscript

script resetpracticesoundbusses 
	setsoundbussparams {leadvox_balance = {vol = (($default_bussset.leadvox_balance.vol))} time = 1}
	setsoundbussparams {drums_balance = {vol = (($default_bussset.drums_balance.vol))} time = 1}
	setsoundbussparams {leadgtr_balance = {vol = (($default_bussset.leadgtr_balance.vol))} time = 1}
	setsoundbussparams {bass_balance = {vol = (($default_bussset.bass_balance.vol))} time = 1}
	setsoundbussparams {rhythmgtr_balance = {vol = (($default_bussset.rhythmgtr_balance.vol))} time = 1}
	setsoundbussparams {crowd_balance = {vol = (($default_bussset.crowd_balance.vol) - 100)} time = 1}
	setsoundbussparams {crowdsingalong_balance = {vol = (($default_bussset.crowdsingalong_balance.vol) - 100)} time = 1}
	setsoundbussparams {band_balance = {vol = (($default_bussset.band_balance.vol))} time = 1}
endscript

script resetsoundbusses_backfrompractice 
	setsoundbussparams {leadvox_balance = {vol = (($default_bussset.leadvox_balance.vol))} time = 0.5}
	setsoundbussparams {drums_balance = {vol = (($default_bussset.drums_balance.vol))} time = 0.5}
	setsoundbussparams {leadgtr_balance = {vol = (($default_bussset.leadgtr_balance.vol))} time = 0.5}
	setsoundbussparams {bass_balance = {vol = (($default_bussset.bass_balance.vol))} time = 0.5}
	setsoundbussparams {rhythmgtr_balance = {vol = (($default_bussset.rhythmgtr_balance.vol))} time = 0.5}
	setsoundbussparams {crowd_balance = {vol = (($default_bussset.crowd_balance.vol))} time = 0.5}
	setsoundbussparams {crowdsingalong_balance = {vol = (($default_bussset.crowdsingalong_balance.vol))} time = 0.5}
	setsoundbussparams {band_balance = {vol = (($default_bussset.band_balance.vol))} time = 0.5}
endscript

script player_failing_sound 
endscript
